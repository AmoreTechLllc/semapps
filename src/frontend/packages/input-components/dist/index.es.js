import t,{useCallback as e,useEffect as r}from"react";import{ImageInput as n,useRecordContext as o,AutocompleteArrayInput as a,AutocompleteInput as i,TextInput as u,ReferenceArrayInput as c,ReferenceInput as f}from"react-admin";import{useDataServers as l}from"@semapps/semantic-data-provider";import{useController as m}from"react-hook-form";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(){return(p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function y(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var b=function(e){return t.createElement(n,p({},e,{format:function(t){return"string"==typeof t?{src:t}:t}}))},v=function(e){var r=e.optionText,n=e.dataServers,a=o(),i=n&&Object.values(n).find((function(t){return a.id.startsWith(t.baseUrl)}));return t.createElement("span",null,a[r],i&&t.createElement("em",{className:"serverName",style:{color:"grey"}},"Â (",i.name,")"))},d=["optionText"],h=function(r){var n=r.optionText,o=y(r,d),i=l(),u=e((function(t,e){return e[n].toLowerCase().match(t.toLowerCase())}),[n]);return t.createElement(a,p({matchSuggestion:u,optionText:t.createElement(v,{optionText:n,dataServers:i}),inputText:function(t){return t[n]}},o))},O=["optionText"],g=function(r){var n=r.optionText,o=y(r,O),a=l(),u=e((function(t){if(t&&a){var e=Object.values(a).find((function(e){return t.id.startsWith(e.baseUrl)}));return t[n]+(e?" (".concat(e.name,")"):"")}}),[n,a]);return t.createElement(i,p({optionText:u},o))},x=function(e){return t.createElement(u,p({multiline:!0,minRows:2,format:function(t){return t?Array.isArray(t)?t.join("\n"):t:""},parse:function(t){return t.split(/\r?\n/)}},e))},j=function(e){var n=m({name:e.source}).field,o=n.value,a=n.onChange;return r((function(){o&&!Array.isArray(o)&&a([o])}),[o,a]),o&&!Array.isArray(o)?null:t.createElement(c,e)},E=["children"],S=function(t){return t&&"object"===s(t)?t.id||t["@id"]:t},T=function(e){var r=e.children,n=y(e,E),o=t.Children.only(r);return t.createElement(f,n,t.cloneElement(o,{format:S}))};export{b as ImageInput,x as MultiLinesInput,h as MultiServerAutocompleteArrayInput,g as MultiServerAutocompleteInput,j as ReferenceArrayInput,T as ReferenceInput};
//# sourceMappingURL=index.es.js.map
