import e,{useCallback as t}from"react";import{useRecordContext as r,RecordContextProvider as n,ImageInput as o,AutocompleteArrayInput as c,AutocompleteInput as a,TextInput as i,useResourceContext as u,ReferenceArrayInput as f,ReferenceInput as s}from"react-admin";import{useDataServers as p}from"@semapps/semantic-data-provider";function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var j=["source"],d=function(t){var c=t.source,a=v(t,j),i=r(),u=i&&i[c]&&"string"==typeof i[c]?m(m({},i),{},b({},c,{src:i[c]})):i;return e.createElement(n,{value:u},e.createElement(o,O({source:c},a)))},g=function(t){var n=t.optionText,o=t.dataServers,c=r(),a=o&&Object.values(o).find((function(e){return c.id.startsWith(e.baseUrl)}));return e.createElement("span",null,c[n],a&&e.createElement("em",{className:"serverName",style:{color:"grey"}},"Â (",a.name,")"))},h=["optionText"],w=function(r){var n=r.optionText,o=v(r,h),a=p(),i=t((function(e,t){return t[n].toLowerCase().match(e.toLowerCase())}),[n]);return e.createElement(c,O({matchSuggestion:i,optionText:e.createElement(g,{optionText:n,dataServers:a}),inputText:function(e){return e[n]}},o))},E=["optionText"],x=function(r){var n=r.optionText,o=v(r,E),c=p(),i=t((function(e){if(e&&c){var t=Object.values(c).find((function(t){return e.id.startsWith(t.baseUrl)}));return e[n]+(t?" (".concat(t.name,")"):"")}}),[n,c]);return e.createElement(a,O({optionText:i},o))},P=function(t){return e.createElement(i,O({multiline:!0,minRows:2,format:function(e){return e?Array.isArray(e)?e.join("\n"):e:""},parse:function(e){return e.split(/\r?\n/)}},t))},S=function(t){var n=u({}),o=r();if(o&&o[t.source]){var c=o[t.source];Array.isArray(c)||(c=[c]),t.format&&(c=t.format(c)),c=c.map((function(e){return"object"===y(e)?e.id||e["@id"]:e})),o[t.source]=c}return e.createElement(f,O({},t,{resource:n,record:o}))},T=function(t){var r=u({});return e.createElement(s,O({},t,{resource:r,format:function(e){return e?(t.format&&(e=t.format(e)),"object"===y(e)?e.id||e["@id"]:e):e}}))};export{d as ImageInput,P as MultiLinesInput,w as MultiServerAutocompleteArrayInput,x as MultiServerAutocompleteInput,S as ReferenceArrayInput,T as ReferenceInput};
//# sourceMappingURL=index.es.js.map
