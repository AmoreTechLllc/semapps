{"version":3,"file":"index.cjs.js","sources":["../src/MultiServerAutocompleteArrayInput.js"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport { AutocompleteArrayInput } from \"react-admin\";\nimport { useDataServers } from '@semapps/semantic-data-provider';\n\nconst MultiServerAutocompleteArrayInput = ({ optionText, ...rest }) => {\n  const dataServers = useDataServers();\n  const optionTextWithServerName = useCallback(record => {\n    if( record ) {\n      const server = Object.values(dataServers).find(server => record.id.startsWith(server.baseUrl));\n      return <span>{record[optionText]}{server && <em className=\"serverName\" style={{ color: 'grey' }}>&nbsp;({server.name})</em>}</span>;\n    }\n  }, [optionText, dataServers]);\n  const matchSuggestion = useCallback(\n    (filterValue, choice) => choice[optionText].toLowerCase().match(filterValue.toLocaleString()),\n    [optionText]\n  );\n  return(\n    <AutocompleteArrayInput\n      matchSuggestion={matchSuggestion}\n      optionText={optionTextWithServerName}\n      {...rest}\n    />\n  )\n};\n\nexport default MultiServerAutocompleteArrayInput;\n"],"names":["optionText","rest","dataServers","useDataServers","optionTextWithServerName","useCallback","record","server","Object","values","find","id","startsWith","baseUrl","React","className","style","color","name","matchSuggestion","filterValue","choice","toLowerCase","match","toLocaleString","AutocompleteArrayInput"],"mappings":"s3BAI0C,gBAAGA,IAAAA,WAAeC,SACpDC,EAAcC,mBACdC,EAA2BC,eAAY,SAAAC,MACvCA,EAAS,KACLC,EAASC,OAAOC,OAAOP,GAAaQ,MAAK,SAAAH,UAAUD,EAAOK,GAAGC,WAAWL,EAAOM,mBAC9EC,oCAAOR,EAAON,GAAaO,GAAUO,8BAAIC,UAAU,aAAaC,MAAO,CAAEC,MAAO,cAAkBV,EAAOW,cAEjH,CAAClB,EAAYE,IACViB,EAAkBd,eACtB,SAACe,EAAaC,UAAWA,EAAOrB,GAAYsB,cAAcC,MAAMH,EAAYI,oBAC5E,CAACxB,WAGDc,wBAACW,4BACCN,gBAAiBA,EACjBnB,WAAYI,GACRH"}