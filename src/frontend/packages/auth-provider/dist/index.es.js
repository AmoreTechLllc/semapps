import*as e from"react";import t,{useEffect as r,useState as n,useCallback as o,useRef as a,useMemo as i,forwardRef as c}from"react";import{useGetIdentity as s,usePermissions as u,useNotify as l,useRedirect as d,Create as f,CreateActions as p,useTranslate as m,useGetList as h,useDataProvider as v,Loading as g,Error as y,useAuthProvider as b,Button as w,useRecordContext as _,useResourceContext as E,useResourceDefinition as x,usePermissionsOptimized as j,TopToolbar as k,ListButton as O,ShowButton as P,DeleteButton as S,Toolbar as C,SaveButton as A,Edit as I,CreateButton as L,ExportButton as T,List as U,EditButton as N,Show as R,useLogin as z,useLocale as W,Notification as D,useSafeSetState as F,Form as V,TextInput as B,required as G,email as M,LoginForm as q,Resource as Y,UserMenu as $,Logout as H,useUserMenu as J,useGetPermissions as K}from"react-admin";import{useCreateContainer as Q}from"@semapps/semantic-data-provider";import X from"@mui/icons-material/Share";import{TextField as Z,List as ee,ListItem as te,ListItemAvatar as re,Avatar as ne,ListItemText as oe,ListItemSecondaryAction as ae,IconButton as ie,Menu as ce,MenuItem as se,ListItemIcon as ue,Dialog as le,DialogTitle as de,DialogContent as fe,DialogActions as pe,useMediaQuery as me,DialogContentText as he,Button as ve,Card as ge,Typography as ye,CardActions as be,Box as we,Divider as _e,StyledEngineProvider as Ee,CardContent as xe,CircularProgress as je}from"@mui/material";import ke from"@mui/styles/makeStyles";import Oe from"@mui/material/Autocomplete";import Pe from"@mui/icons-material/Person";import Se from"@mui/icons-material/Edit";import Ce from"@mui/icons-material/Check";import Ae from"@mui/icons-material/Public";import Ie from"@mui/icons-material/VpnLock";import Le from"@mui/icons-material/Group";import{styled as Te,ThemeProvider as Ue}from"@mui/system";import{useNavigate as Ne,useSearchParams as Re,useLocation as ze,Link as We}from"react-router-dom";import{styled as De}from"@mui/material/styles";import Fe from"@mui/icons-material/Lock";import Ve from"@mui/icons-material/Storage";import Be from"prop-types";import Ge from"@mui/icons-material/AccountCircle";function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
Ye=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&r.call(v,o)&&(m=v);var g=p.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,a){function i(){return new t((function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=p,c(g,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Je(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){He(a,n,o,i,c,"next",e)}function c(e){He(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(){return(Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||tt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e){return function(e){if(Array.isArray(e))return rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){if(e){if("string"==typeof e)return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rt(e,t):void 0}}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nt(e){this.message=e}nt.prototype=new Error,nt.prototype.name="InvalidCharacterError";var ot="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new nt("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,a=0,i="";n=t.charAt(a++);~n&&(r=o%4?64*r+n:n,o++%4)?i+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return i};function at(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(ot(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return ot(t)}}function it(e){this.message=e}function ct(e,t){if("string"!=typeof e)throw new it("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(at(e.split(".")[r]))}catch(e){throw new it("Invalid token specified: "+e.message)}}it.prototype=new Error,it.prototype.name="InvalidTokenError";var st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ut(e,t){return e(t={exports:{}},t.exports),t.exports}var lt,dt,ft=ut((function(e){var t,r;t=st,r=function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(n>0&&(o=o.replace(/^[\/]+/,"")),o=n<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),t.push(o))}var a=t.join("/"),i=(a=a.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a=i.shift()+(i.length>0?"?":"")+i.join("&")}return function(){return e("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=r():t.urljoin=r()})),pt=function(e){return e?Array.isArray(e)?e:[e]:void 0},mt=function(e){var t=new URL(e);return ft(t.origin,"_acl",t.pathname)},ht=function(e){return{"@base":e,acl:"http://www.w3.org/ns/auth/acl#",foaf:"http://xmlns.com/foaf/0.1/","acl:agent":{"@type":"@id"},"acl:agentGroup":{"@type":"@id"},"acl:agentClass":{"@type":"@id"},"acl:mode":{"@type":"@id"},"acl:accessTo":{"@type":"@id"}}},vt=function(){var e=Je(Ye().mark((function e(t){var r,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDataServers();case 2:if(r=e.sent,n=Object.values(r).find((function(e){return!0===e.authServer}))){e.next=6;break}throw new Error("Could not find a server with authServer: true. Check your dataServers config.");case 6:return e.abrupt("return",n.pod?new URL(n.baseUrl).origin:n.baseUrl);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=["username","email","password","domain"],yt=function(e){var t,r,n,o,a,i,c,s,u,l,d,f,p=e.dataProvider,m=e.allowAnonymous,h=void 0===m||m,v=e.localAccounts,g=void 0!==v&&v,y=e.checkUser,b=e.checkPermissions,w=void 0!==b&&b;return{login:(f=Je(Ye().mark((function e(t){var r,n,o,a,i,c,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(p);case 2:if(r=e.sent,!g){e.next=20;break}return n=t.username,o=t.password,e.prev=5,e.next=8,p.fetch(ft(r,"auth/login"),{method:"POST",body:JSON.stringify({username:n.trim(),password:o.trim()}),headers:new Headers({"Content-Type":"application/json"})});case 8:a=e.sent,i=a.json,c=i.token,localStorage.setItem("token",c),window.location.reload(),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(5),new Error("ra.auth.sign_in_error");case 18:e.next=23;break;case 20:s=new URL(window.location.href).origin+"/login?login=true",t.redirect&&(s+="&redirect="+encodeURIComponent(t.redirect)),window.location.href=ft(r,"auth?redirectUrl="+encodeURIComponent(s));case 23:case"end":return e.stop()}}),e,null,[[5,15]])}))),function(e){return f.apply(this,arguments)}),signup:(d=Je(Ye().mark((function e(t){var r,n,o,a,i,c,s,u,l,d,f;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(p);case 2:if(r=e.sent,!g){e.next=33;break}return n=t.username,o=t.email,a=t.password,t.domain,i=Xe(t,gt),e.prev=5,e.next=8,p.fetch(ft(r,"auth/signup"),{method:"POST",body:JSON.stringify(qe({username:n.trim(),email:o.trim(),password:a.trim()},i)),headers:new Headers({"Content-Type":"application/json"})});case 8:return c=e.sent,s=c.json,u=s.token,localStorage.setItem("token",u),l=ct(u),d=l.webId,e.abrupt("return",d);case 16:if(e.prev=16,e.t0=e.catch(5),"email.already.exists"!==e.t0.message){e.next=22;break}throw new Error("auth.message.user_email_exist");case 22:if("username.already.exists"!==e.t0.message){e.next=26;break}throw new Error("auth.message.username_exist");case 26:if("username.invalid"!==e.t0.message){e.next=30;break}throw new Error("auth.message.username_invalid");case 30:throw new Error(e.t0.message||"ra.auth.sign_in_error");case 31:e.next=35;break;case 33:f=new URL(window.location.href).origin+"/login?login=true",window.location.href=ft(r,"auth?redirectUrl="+encodeURIComponent(f));case 35:case"end":return e.stop()}}),e,null,[[5,16]])}))),function(e){return d.apply(this,arguments)}),logout:(l=Je(Ye().mark((function e(){var t,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(p);case 2:return t=e.sent,localStorage.clear(),g?(window.location.reload(),window.location.href="/"):(r=new URL(window.location.href).origin,window.location.href=ft(t,h?"auth/logout?redirectUrl="+encodeURIComponent(r+"/login?logout=true"):"auth/logout?redirectUrl="+encodeURIComponent(r+"/login"))),e.abrupt("return","/");case 6:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),checkAuth:(u=Je(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")||h){e.next=3;break}throw new Error;case 3:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),checkUser:function(e){return!y||y(e)},checkError:function(e){return Promise.resolve()},getPermissions:(s=Je(Ye().mark((function e(t){var r,n,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:if("object"!==$e(t)){e.next=4;break}return e.abrupt("return");case 4:if(t&&t.startsWith("http")){e.next=6;break}throw new Error("The first parameter passed to getPermissions must be an URL");case 6:return r=mt(t),e.prev=7,e.next=10,p.fetch(r);case 10:return n=e.sent,o=n.json,e.abrupt("return",o["@graph"]);case 15:return e.prev=15,e.t0=e.catch(7),console.warn("Could not fetch ACL URI ".concat(t)),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[7,15]])}))),function(e){return s.apply(this,arguments)}),addPermission:(c=Je(Ye().mark((function e(t,r,n,o){var a,i,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.startsWith("http")){e.next=2;break}throw new Error("The first parameter passed to addPermission must be an URL");case 2:return i=mt(t),Ke(a={"@id":"#"+o.replace("acl:",""),"@type":"acl:Authorization"},n,r),Ke(a,"acl:accessTo",t),Ke(a,"acl:mode",o),c=a,e.next=6,p.fetch(i,{method:"PATCH",body:JSON.stringify({"@context":ht(i),"@graph":[c]})});case 6:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return c.apply(this,arguments)}),removePermission:(i=Je(Ye().mark((function e(t,r,n,o){var a,i,c,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.startsWith("http")){e.next=2;break}throw new Error("The first parameter passed to removePermission must be an URL");case 2:return a=mt(t),e.next=5,p.fetch(a);case 5:return i=e.sent,c=i.json,s=c["@graph"].filter((function(e){return!e["@id"].includes("#Default")})).map((function(e){var t=pt(e["acl:mode"]),a=pt(e[n]);return o&&t.includes(o)&&a&&a.includes(r)&&(a=a.filter((function(e){return e!==r}))),qe(qe({},e),{},Ke({},n,a))})),e.next=10,p.fetch(a,{method:"PUT",body:JSON.stringify({"@context":ht(a),"@graph":s})});case 10:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return i.apply(this,arguments)}),getIdentity:(a=Je(Ye().mark((function e(){var t,r,n,o,a,i,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("token"))){e.next=17;break}return r=ct(t),n=r.webId,e.next=5,p.fetch(n);case 5:if(o=e.sent,!(a=o.json).url){e.next=13;break}return e.next=10,p.fetch(a.url);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0={};case 14:return i=e.t0,c=i.json,e.abrupt("return",{id:n,fullName:(null==c?void 0:c["vcard:given-name"])||(null==c?void 0:c["pair:label"])||a["foaf:name"],profileData:c,webIdData:a});case 17:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),resetPassword:(o=Je(Ye().mark((function e(t){var r,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,e.next=3,vt(p);case 3:return n=e.sent,e.prev=4,e.next=7,p.fetch(ft(n,"auth/reset_password"),{method:"POST",body:JSON.stringify({email:r.trim()}),headers:new Headers({"Content-Type":"application/json"})});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),new Error("app.notification.reset_password_error");case 12:case"end":return e.stop()}}),e,null,[[4,9]])}))),function(e){return o.apply(this,arguments)}),setNewPassword:(n=Je(Ye().mark((function e(t){var r,n,o,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.token,o=t.password,e.next=3,vt(p);case 3:return a=e.sent,e.prev=4,e.next=7,p.fetch(ft(a,"auth/new_password"),{method:"POST",body:JSON.stringify({email:r.trim(),token:n,password:o}),headers:new Headers({"Content-Type":"application/json"})});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),new Error("app.notification.new_password_error");case 12:case"end":return e.stop()}}),e,null,[[4,9]])}))),function(e){return n.apply(this,arguments)}),getAccountSettings:(r=Je(Ye().mark((function e(t){var r,n,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(p);case 2:return r=e.sent,e.prev=3,e.next=6,p.fetch(ft(r,"auth/account"));case 6:return n=e.sent,o=n.json,e.abrupt("return",o);case 11:throw e.prev=11,e.t0=e.catch(3),new Error("app.notification.get_settings_error");case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e){return r.apply(this,arguments)}),updateAccountSettings:(t=Je(Ye().mark((function e(t){var r,n,o,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(p);case 2:return r=e.sent,e.prev=3,n=t.email,o=t.currentPassword,a=t.newPassword,e.next=7,p.fetch(ft(r,"auth/account"),{method:"POST",body:JSON.stringify({currentPassword:o,email:n.trim(),newPassword:a}),headers:new Headers({"Content-Type":"application/json"})});case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(3),"auth.account.invalid_password"!==e.t0.message){e.next=13;break}throw new Error("app.notification.invalid_password");case 13:throw new Error("app.notification.update_settings_error");case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),function(e){return t.apply(this,arguments)})}},bt="acl:agentClass",wt=["acl:Append","acl:Write","acl:Control"],_t=["acl:Append","acl:Write","acl:Control"],Et=["acl:Write","acl:Control"],xt=["acl:Control"],jt={show:["acl:Read","acl:Append","acl:Write","acl:Control"],list:["acl:Read","acl:Append","acl:Write","acl:Control"],create:wt,edit:_t,delete:Et,control:xt},kt={show:"auth.message.resource_show_forbidden",edit:"auth.message.resource_edit_forbidden",delete:"auth.message.resource_delete_forbidden",control:"auth.message.resource_control_forbidden",list:"auth.message.container_list_forbidden",create:"auth.message.container_create_forbidden"},Ot=(Ke(lt={},"acl:Read","auth.right.resource.read"),Ke(lt,"acl:Append","auth.right.resource.append"),Ke(lt,"acl:Write","auth.right.resource.write"),Ke(lt,"acl:Control","auth.right.resource.control"),lt),Pt=(Ke(dt={},"acl:Read","auth.right.container.read"),Ke(dt,"acl:Write","auth.right.container.write"),Ke(dt,"acl:Control","auth.right.container.control"),dt),St=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",o=s(),a=o.identity,i=o.isLoading,c=u(e),f=c.permissions,p=l(),m=d();return r((function(){!i&&a&&f&&!f.some((function(e){return jt[t].includes(e["acl:mode"])}))&&(p(kt[t],{type:"error"}),m(n))}),[f,a,m,p,i]),f},Ct=function(e){var r=Q(e.resource);return St(r,"create"),t.createElement(f,e)};Ct.defaultProps={actions:t.createElement(p,null)};var At=ke((function(){return{list:{padding:0,width:"100%"},option:{padding:0}}})),It=function(e){var o=e.agents,a=e.addPermission,i=At(),c=m(),s=Ze(n(null),2),u=s[0],l=s[1],d=Ze(n(""),2),f=d[0],p=d[1],v=Ze(n([]),2),g=v[0],y=v[1],b=h("Person",{pagination:{page:1,perPage:100},sort:{field:"pair:label",order:"ASC"},filter:{q:f}},{enabled:f.length>0}).data;return r((function(){y((null==b?void 0:b.length)>0?Object.values(b):[])}),[b]),t.createElement(Oe,{classes:{option:i.option},getOptionLabel:function(e){return e["pair:label"]},filterOptions:function(e){return e.filter((function(e){return!Object.keys(o).includes(e.id)}))},options:g,noOptionsText:c("ra.navigation.no_results"),autoComplete:!0,blurOnSelect:!0,clearOnBlur:!0,disableClearable:!0,value:u,onChange:function(e,t){a(t.id||t["@id"],"acl:agent","acl:Read"),l(null),p(""),y([])},onInputChange:function(e,t){p(t)},renderInput:function(e){return t.createElement(Z,Qe({},e,{label:c("auth.input.agent_select"),variant:"filled",margin:"dense",fullWidth:!0}))},renderOption:function(e,r){return t.createElement(ee,Qe({dense:!0,className:i.list},e),t.createElement(te,{button:!0},t.createElement(re,null,t.createElement(ne,{src:r.image},t.createElement(Pe,null))),t.createElement(oe,{primary:r["pair:label"]})))}})},Lt=function(e){var r=e.agent;switch(r.predicate){case bt:return"foaf:Agent"===r.id?t.createElement(Ae,null):t.createElement(Ie,null);case"acl:agent":return t.createElement(Pe,null);case"acl:agentGroup":return t.createElement(Le,null);default:throw new Error("Unknown agent predicate: "+r.predicate)}},Tt=ke((function(){return{listItem:{paddingLeft:4,paddingRight:36},primaryText:{width:"30%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},secondaryText:{textAlign:"center",width:"60%",fontStyle:"italic",color:"grey"}}})),Ut=function(e){var o=e.isContainer,a=e.agent,i=e.addPermission,c=e.removePermission,s=Tt(),u=m(),l=v(),d=Ze(t.useState(null),2),f=d[0],p=d[1],h=Ze(n(),2),b=h[0],w=h[1],_=Ze(n(!0),2),E=_[0],x=_[1],j=Ze(n(),2),k=j[0],O=j[1];if(r((function(){"acl:agent"===a.predicate?l.getOne("Person",{id:a.id}).then((function(e){var t=e.data;w(t),x(!1)})).catch((function(e){O(e),x(!1)})):x(!1)}),[a.id,a.predicate]),"acl:agentGroup"===a.predicate)return null;var P=function(){return p(null)},S=o?Pt:Ot;return E?t.createElement(g,null):k?t.createElement(y,null):t.createElement(te,{className:s.listItem},t.createElement(re,null,t.createElement(ne,{src:null==b?void 0:b.image},t.createElement(Lt,{agent:a}))),t.createElement(oe,{className:s.primaryText,primary:b?b["pair:label"]:u("foaf:Agent"===a.id?"auth.agent.anonymous":"auth.agent.authenticated")}),t.createElement(oe,{className:s.secondaryText,primary:a.permissions&&a.permissions.map((function(e){return u(S[e])})).join(", ")}),t.createElement(ae,null,t.createElement(ie,{onClick:function(e){return p(e.currentTarget)},size:"large"},t.createElement(Se,null)),t.createElement(ce,{anchorEl:f,keepMounted:!0,open:Boolean(f),onClose:P},Object.entries(S).map((function(e){var r=Ze(e,2),n=r[0],o=r[1],s=a.permissions&&a.permissions.includes(n);return t.createElement(se,{key:n,onClick:function(){s?c(a.id,a.predicate,n):i(a.id,a.predicate,n),P()}},t.createElement(ue,null,s?t.createElement(Ce,null):null),t.createElement(oe,{primary:u(o)}))})))))},Nt=Te(ee)((function(e){return{width:"100%",maxWidth:"100%",backgroundColor:e.theme.palette.background.paper}})),Rt=function(e){var r=e.isContainer,n=e.agents,o=e.addPermission,a=e.removePermission;return t.createElement(Nt,{dense:!0},Object.entries(n).map((function(e){var n=Ze(e,2),i=n[0],c=n[1];return t.createElement(Ut,{key:i,isContainer:r,agent:c,addPermission:o,removePermission:a})})))},zt=function(e){var t=u(e).permissions,a=b(),i=Ze(n({}),2),c=i[0],s=i[1];r((function(){var e,r=(Ke(e={},"foaf:Agent",{id:"foaf:Agent",predicate:bt,permissions:[]}),Ke(e,"acl:AuthenticatedAgent",{id:"acl:AuthenticatedAgent",predicate:bt,permissions:[]}),e),n=function(e,t,n){r[e]?r[e].permissions.push(n):r[e]={id:e,predicate:t,permissions:[n]}};if(t){var o,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=tt(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{var i=function(){var e=o.value;e[bt]&&pt(e[bt]).forEach((function(t){return n(t,bt,e["acl:mode"])})),e["acl:agent"]&&pt(e["acl:agent"]).forEach((function(t){return n(t,"acl:agent",e["acl:mode"])})),e["acl:agentGroup"]&&pt(e["acl:agentGroup"]).forEach((function(t){return n(t,"acl:agentGroup",e["acl:mode"])}))};for(a.s();!(o=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}s(r)}}),[t]);var l=o((function(t,r,n){var o,i=qe({},c);s(qe(qe({},c),{},Ke({},t,{id:t,predicate:r,permissions:c[t]?[].concat(et(null===(o=c[t])||void 0===o?void 0:o.permissions),[n]):[n]}))),a.addPermission(e,t,r,n).catch((function(e){s(i)}))}),[c,s,e,a]),d=o((function(t,r,n){var o=qe({},c);s(Object.fromEntries(Object.entries(c).map((function(e){var r=Ze(e,2),o=r[0],a=r[1];return a.id===t&&(a.permissions=a.permissions.filter((function(e){return e!==n}))),[o,a]})).filter((function(e){var t=Ze(e,2);t[0];var r=t[1];return r.predicate===bt||r.permissions.length>0})))),a.removePermission(e,t,r,n).catch((function(e){s(o)}))}),[c,s,e,a]);return{agents:c,addPermission:l,removePermission:d}},Wt=ke((function(){return{title:{paddingBottom:8},actions:{padding:15},addForm:{paddingTop:0},listForm:{paddingTop:0,paddingBottom:0,paddingRight:0,maxHeight:210}}})),Dt=function(e){var r=e.open,n=e.onClose,o=e.uri,a=e.isContainer,i=Wt(),c=m(),s=zt(o),u=s.agents,l=s.addPermission,d=s.removePermission;return t.createElement(le,{fullWidth:!0,open:r,onClose:n},t.createElement(de,{className:i.title},c(a?"auth.dialog.container_permissions":"auth.dialog.resource_permissions")),t.createElement(fe,{className:i.addForm},t.createElement(It,{agents:u,addPermission:l})),t.createElement(fe,{className:i.listForm},t.createElement(Rt,{isContainer:a,agents:u,addPermission:l,removePermission:d})),t.createElement(pe,{className:i.actions},t.createElement(w,{label:"ra.action.close",variant:"text",onClick:n})))},Ft=function(e){var r=e.isContainer,o=_(),a=E(),i=Ze(n(!1),2),c=i[0],s=i[1],u=Q(a),l=r?u:o.id||o["@id"];return t.createElement(t.Fragment,null,t.createElement(w,{label:"auth.action.permissions",onClick:function(){return s(!0)}},t.createElement(X,null)),t.createElement(Dt,{uri:l,isContainer:r,open:c,onClose:function(){return s(!1)}}))};Ft.defaultProps={isContainer:!1};var Vt=function(){var e=x(),r=e.hasList,n=e.hasShow,o=_(),a=j(null==o?void 0:o.id).permissions;return t.createElement(k,null,r&&t.createElement(O,null),n&&t.createElement(P,null),!!a&&a.some((function(e){return xt.includes(e["acl:mode"])}))&&t.createElement(Ft,null))},Bt=function(e){var r=_(),n=j(null==r?void 0:r.id).permissions;return n&&n.some((function(e){return Et.includes(e["acl:mode"])}))?t.createElement(S,e):null},Gt=ke((function(){return{toolbar:{flex:1,display:"flex",justifyContent:"space-between"}}})),Mt=function(e){var r=Gt();return t.createElement(C,Qe({},e,{className:r.toolbar}),t.createElement(A,null),t.createElement(Bt,{mutationMode:"undoable"}))},qt=function(e){return St(e.id,"edit"),t.createElement(I,e,t.cloneElement(e.children,qe({toolbar:t.createElement(Mt,null)},e.children.props)))};qt.defaultProps={actions:t.createElement(Vt,null)};var Yt=function(e){var r=e.bulkActions,n=e.sort,o=e.displayedFilters,a=e.exporter,i=e.filters,c=e.filterValues,s=e.onUnselectItems,l=e.selectedIds,d=e.showFilter,f=e.total,p=E(),m=me((function(e){return e.breakpoints.down("xs")})),h=x(),v=Q(p),g=u(v).permissions;return t.createElement(k,null,i&&t.cloneElement(i,{showFilter:d,displayedFilters:o,filterValues:c,context:"button"}),h.hasCreate&&g&&g.some((function(e){return wt.includes(e["acl:mode"])}))&&t.createElement(L,null),g&&g.some((function(e){return xt.includes(e["acl:mode"])}))&&t.createElement(Ft,{isContainer:!0}),!m&&!1!==a&&t.createElement(T,{disabled:0===f,sort:n,filter:c,exporter:a}),r&&t.cloneElement(r,{filterValues:c,selectedIds:l,onUnselectItems:s}))},$t=function(e){return t.createElement(U,e)};$t.defaultProps={actions:t.createElement(Yt,null)};var Ht=function(){var e=x(),r=e.hasList,n=e.hasEdit,o=_(),a=u(null==o?void 0:o.id).permissions;return t.createElement(k,null,r&&t.createElement(O,null),n&&a&&a.some((function(e){return _t.includes(e["acl:mode"])}))&&t.createElement(N,null),a&&a.some((function(e){return xt.includes(e["acl:mode"])}))&&t.createElement(Ft,null))},Jt=function(e){return St(e.id,"edit"),t.createElement(R,e)};Jt.defaultProps={actions:t.createElement(Ht,null)};var Kt=["open","onClose","title","message","redirect"],Qt=function(e){var r=e.open,n=e.onClose,o=e.title,a=e.message,i=e.redirect,c=Xe(e,Kt),s=z(),u=m();return t.createElement(le,Qe({open:r,onClose:n},c),t.createElement(de,null,u(o)),t.createElement(fe,null,t.createElement(he,null,u(a))),t.createElement(pe,null,t.createElement(ve,{onClick:n},u("ra.action.cancel")),t.createElement(ve,{onClick:function(){return s({redirect:i||window.location.pathname+window.location.search})},color:"primary",variant:"contained"},u("auth.action.login"))))};Qt.defaultProps={title:"auth.dialog.login_required",message:"auth.message.login_to_continue"};var Xt=["children","backgroundImage","buttons","userResource","propertiesExist","text"],Zt=function(e){e.children;var n=e.backgroundImage,o=e.buttons,i=e.userResource,c=e.propertiesExist,u=e.text,d=Xe(e,Xt),f=a(),p=!1,m=Ne(),h=Ze(Re(),1)[0],g=s(),y=g.identity,w=g.isLoading,_=l(),E=z(),x=v(),j=b();r((function(){!w&&null!=y&&y.id&&m(h.get("redirect")||"/")}),[y,w,m,h]),r((function(){Je(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.has("login")){e.next=7;break}if(!h.has("error")){e.next=5;break}"registration.not-allowed"===h.get("error")?_("auth.message.user_email_not_found",{type:"error"}):_("auth.message.bad_request",{type:"error",error:h.get("error")}),e.next=7;break;case 5:if(!h.has("token")){e.next=7;break}return e.delegateYield(Ye().mark((function e(){var t,r,n,o,a,s,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.get("token"),r=ct(t),n=r.webId,localStorage.setItem("token",t),e.next=5,x.getOne(i,{id:n});case 5:if(a=e.sent,o=a.data,!(c.length>0)){e.next=20;break}s=c.every((function(e){return o[e]}));case 9:if(s){e.next=20;break}return console.log("Waiting for all properties to have been created",c),e.next=13,delay(500);case 13:return e.next=15,x.getOne(i,{id:n});case 15:u=e.sent,o=u.data,s=c.every((function(e){return o[e]})),e.next=9;break;case 20:j.checkUser(o)?h.has("redirect")?(_("auth.message.user_connected",{type:"info"}),window.location.href=h.get("redirect")):h.has("new")&&"true"===h.get("new")?(_("auth.message.new_user_created",{type:"info"}),window.location.href="/"+i+"/"+encodeURIComponent(n)+"/edit"):(_("auth.message.user_connected",{type:"info"}),window.location.href="/"):(localStorage.removeItem("token"),_("auth.message.user_not_allowed_to_login",{type:"error"}),m.replace("/login"));case 21:case"end":return e.stop()}}),e)}))(),"t0",7);case 7:h.has("logout")&&(localStorage.clear(),_("auth.message.user_disconnected",{type:"info"}),m("/"));case 8:case"end":return e.stop()}}),e)})))()}),[h,m,_,i]);var k=function(){!p&&f.current&&(f.current.style.backgroundImage="url(".concat(n,")"),p=!0)};return r((function(){p||function(){if(n){var e=new Image;e.onload=k,e.src=n}}()})),w?null:t.createElement(rr,Qe({},d,{ref:f}),t.createElement(ge,{className:tr.card},t.createElement("div",{className:tr.avatar},t.createElement(ne,{className:tr.icon},t.createElement(Fe,null))),u&&t.createElement(ye,{variant:"body2"},u),o&&o.map((function(e,r){return t.createElement(be,{key:r},t.cloneElement(e,{fullWidth:!0,variant:"outlined",type:"submit",onClick:function(){return E({},"/login")}}))}))))},er="SsoLoginPage",tr={card:"".concat(er,"-card"),avatar:"".concat(er,"-avatar"),icon:"".concat(er,"-icon"),switch:"".concat(er,"-switch")},rr=De("div",{name:er,overridesResolver:function(e,t){return t.root}})((function(e){var t,r=e.theme;return Ke(t={display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)"},"& .".concat(tr.card),{minWidth:300,marginTop:"6em"}),Ke(t,"& .".concat(tr.avatar),{margin:"1em",display:"flex",justifyContent:"center"}),Ke(t,"& .".concat(tr.icon),{backgroundColor:r.palette.secondary[500]}),Ke(t,"& .".concat(tr.switch),{marginBottom:"1em",display:"flex",justifyContent:"center"}),t}));Zt.defaultProps={propertiesExist:[],buttons:[t.createElement(ve,{startIcon:t.createElement(ne,{src:"/lescommuns.jpg"})},"Les Communs")],userResource:"Person"};var nr=ke((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.main}},text:{textAlign:"center",padding:"4px 8px 8px"},card:Ke({minWidth:300,maxWidth:350,marginTop:"6em"},e.breakpoints.down("sm"),{margin:"1em"}),lockIconAvatar:{margin:"1em",display:"flex",justifyContent:"center"},lockIcon:{backgroundColor:e.palette.grey[500]},list:{paddingTop:0,paddingBottom:0},listItem:{paddingTop:5,paddingBottom:5}}})),or=function(e){var o=e.history,a=e.location,i=e.text,c=e.customPodProviders,s=nr(),u=l(),d=W(),f=m(),p=b(),h=v(),g=Ze(n(c||[]),2),y=g[0],w=g[1],_=new URLSearchParams(a.search);return r((function(){Je(Ye().mark((function e(){var t,r,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==y.length){e.next=13;break}return e.next=3,fetch("https://data.activitypods.org/pod-providers",{headers:{Accept:"application/ld+json"}});case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:r=e.sent,n=r["ldp:contains"].filter((function(e){return Array.isArray(e["apods:locales"])?e["apods:locales"].includes(d):e["apods:locales"]===d})),w(n),e.next=13;break;case 12:u("auth.message.pod_providers_not_loaded","error");case 13:case"end":return e.stop()}}),e)})))()}),[y,w,u,d]),r((function(){Je(Ye().mark((function e(){var t,r,n,a,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.has("token")){e.next=16;break}return t=_.get("token"),r=ct(t),n=r.webId,e.next=5,fetch(n,{headers:{Accept:"application/json"}});case 5:if((a=e.sent).ok){e.next=10;break}u("auth.message.unable_to_fetch_user_data","error"),e.next=14;break;case 10:return e.next=12,a.json();case 12:i=e.sent,p.checkUser(i)?(localStorage.setItem("token",t),u("auth.message.user_connected","info"),window.location.reload(),window.location.href="/?addUser=true"):(u("auth.message.user_not_allowed_to_login","error"),o.replace("/login"));case 14:e.next=17;break;case 16:_.has("logout")&&(localStorage.clear(),u("auth.message.user_disconnected","info"),o.push("/"));case 17:case"end":return e.stop()}}),e)})))()}),[_,h]),_.has("token")||_.has("addUser")||_.has("logout")?null:t.createElement(we,{display:"flex",flexDirection:"column",alignItems:"center"},t.createElement(ge,{className:s.card},t.createElement("div",{className:s.lockIconAvatar},t.createElement(ne,{className:s.lockIcon},t.createElement(Fe,null))),t.createElement(we,{pl:2,pr:2},t.createElement(ye,{variant:"body2",className:s.text},i||f("auth.message.choose_pod_provider"))),t.createElement(we,{m:2},t.createElement(ee,{className:s.list},y.map((function(e,r){var n=new URL("/auth",(e["apods:domainName"].includes(":")?"http://":"https://")+e["apods:domainName"]);return _.has("signup")&&n.searchParams.set("signup","true"),n.searchParams.set("redirect",window.location.href),t.createElement(t.Fragment,{key:r},t.createElement(_e,null),t.createElement(te,{key:r,button:!0,onClick:function(){return window.location.href=n.toString()},className:s.listItem},t.createElement(re,null,t.createElement(ne,null,t.createElement(Ve,null))),t.createElement(oe,{primary:e["apods:domainName"],secondary:e["apods:area"]})))}))))))},ar=function(e){var r=i((function(){return createTheme(e.theme)}),[e.theme]);return t.createElement(Ee,{injectFirst:!0},t.createElement(Ue,{theme:r},t.createElement(or,e),t.createElement(D,null)))},ir=function(){var e=b();return o((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.signup(t)}),[e])},cr=ke((function(e){return{content:{width:300},button:{marginTop:e.spacing(2)},icon:{margin:e.spacing(.3)}}})),sr=function(t){var r=t.redirectTo,n=t.delayBeforeRedirect,o=Ze(F(!1),2),a=o[0],i=o[1],c=ir(),s=m(),u=l(),d=cr(),f=ze(),p=new URLSearchParams(f.search);return e.createElement(V,{onSubmit:function(e){i(!0),c(e).then((function(e){n?setTimeout((function(){window.location.reload(),window.location.href=r||"/",i(!1)}),n):(window.location.reload(),window.location.href=r||"/",i(!1)),u("auth.message.new_user_created",{type:"info"})})).catch((function(e){i(!1),u("string"==typeof e?e:void 0!==e&&e.message?e.message:"ra.auth.sign_in_error",{type:"warning",_:"string"==typeof e?e:e&&e.message?e.message:void 0})}))},noValidate:!0,defaultValues:{email:p.get("email")}},e.createElement(xe,{className:d.content},e.createElement(B,{autoFocus:!0,source:"username",label:s("auth.input.username"),autoComplete:"username",fullWidth:!0,disabled:a,validate:G()}),e.createElement(B,{source:"email",label:s("auth.input.email"),autoComplete:"email",fullWidth:!0,disabled:a||p.has("email")&&p.has("force-email"),validate:[G(),M()]}),e.createElement(B,{source:"password",type:"password",label:s("ra.auth.password"),autoComplete:"new-password",fullWidth:!0,disabled:a||p.has("email")&&p.has("force-email"),validate:G()}),e.createElement(ve,{variant:"contained",type:"submit",color:"primary",disabled:a,fullWidth:!0,className:d.button},a?e.createElement(je,{className:d.icon,size:19,thickness:3}):s("auth.action.signup"))))};sr.propTypes={redirectTo:Be.string};var ur=["children","backgroundImage"],lr=function(e){e.children;var n=e.backgroundImage,o=Xe(e,ur),i=a(),c=!1,u=Ne(),l=m(),d=Ze(Re(),1)[0],f=d.has("signup"),p=d.get("redirect"),h=s(),v=h.identity,g=h.isLoading;r((function(){!g&&null!=v&&v.id&&u(p||"/")}),[v,g,u,p]);var y=function(){!c&&i.current&&(i.current.style.backgroundImage="url(".concat(n,")"),c=!0)};return r((function(){c||function(){if(n){var e=new Image;e.onload=y,e.src=n}}()})),g?null:t.createElement(pr,Qe({},o,{ref:i}),t.createElement(ge,{className:fr.card},t.createElement("div",{className:fr.avatar},t.createElement(ne,{className:fr.icon},t.createElement(Fe,null))),f?t.createElement(sr,{redirectTo:p,delayBeforeRedirect:3e3}):t.createElement(q,{redirectTo:p}),t.createElement("div",{className:fr.switch},f?t.createElement(We,{to:"/login"},t.createElement(ye,{variant:"body2"},l("auth.action.login"))):t.createElement(We,{to:"/login?signup=true"},t.createElement(ye,{variant:"body2"},l("auth.action.signup"))))))},dr="LocalLoginPage",fr={card:"".concat(dr,"-card"),avatar:"".concat(dr,"-avatar"),icon:"".concat(dr,"-icon"),switch:"".concat(dr,"-switch")},pr=De("div",{name:dr,overridesResolver:function(e,t){return t.root}})((function(e){var t,r=e.theme;return Ke(t={display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)"},"& .".concat(fr.card),{minWidth:300,marginTop:"6em"}),Ke(t,"& .".concat(fr.avatar),{margin:"1em",display:"flex",justifyContent:"center"}),Ke(t,"& .".concat(fr.icon),{backgroundColor:r.palette.secondary[500]}),Ke(t,"& .".concat(fr.switch),{marginBottom:"1em",display:"flex",justifyContent:"center"}),t})),mr=["name","create"],hr=function(e){var r=e.name,n=e.create,o=Xe(e,mr),a=Q(r),i=u(a).permissions;return t.createElement(Y,Qe({},o,{name:r,create:i&&i.some((function(e){return wt.includes(e["acl:mode"])}))?n:void 0}))},vr=["label","icon","to"],gr=["logout","profileResource"],yr=c((function(e,r){var n=e.label,a=e.icon,i=e.to,c=Xe(e,vr),s=J().onClose,u=m(),l=Ne(),d=o((function(){l(i),s()}),[i,s,l]);return t.createElement(se,Qe({onClick:d,ref:r},c),a&&t.createElement(ue,null,t.cloneElement(a,{fontSize:"small"})),t.createElement(oe,null,u(n)))})),br=function(e){var r,n,o=e.logout,a=e.profileResource,i=Xe(e,gr),c=s().identity;return t.createElement($,i,c&&""!==c.id?[t.createElement(yr,{key:"view",label:"auth.action.view_my_profile",icon:t.createElement(Ge,null),to:"/".concat(a,"/").concat(encodeURIComponent((null==c||null===(r=c.profileData)||void 0===r?void 0:r.id)||c.id),"/show")}),t.createElement(yr,{key:"edit",label:"auth.action.edit_my_profile",icon:t.createElement(Se,null),to:"/".concat(a,"/").concat(encodeURIComponent((null==c||null===(n=c.profileData)||void 0===n?void 0:n.id)||c.id))}),t.cloneElement(o,{key:"logout"})]:[t.createElement(yr,{key:"signup",label:"auth.action.signup",to:"/login?signup=true"}),t.createElement(yr,{key:"login",label:"auth.action.login",to:"/login"})])};br.defaultProps={logout:t.createElement(H,null),profileResource:"Person"};var wr=function(e){var t=s(),n=t.identity,o=t.isLoading,a=l(),i=d(),c=ze();return r((function(){o||null!=n&&n.id||(a(e||"ra.auth.auth_check_error",{type:"error"}),i("/login?redirect="+encodeURIComponent(c.pathname+c.search)))}),[o,n,i,a,c]),{identity:n,isLoading:o}};var _r=function(){this.__data__=[],this.size=0};var Er=function(e,t){return e===t||e!=e&&t!=t};var xr=function(e,t){for(var r=e.length;r--;)if(Er(e[r][0],t))return r;return-1},jr=Array.prototype.splice;var kr=function(e){var t=this.__data__,r=xr(t,e);return!(r<0)&&(r==t.length-1?t.pop():jr.call(t,r,1),--this.size,!0)};var Or=function(e){var t=this.__data__,r=xr(t,e);return r<0?void 0:t[r][1]};var Pr=function(e){return xr(this.__data__,e)>-1};var Sr=function(e,t){var r=this.__data__,n=xr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Cr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cr.prototype.clear=_r,Cr.prototype.delete=kr,Cr.prototype.get=Or,Cr.prototype.has=Pr,Cr.prototype.set=Sr;var Ar=Cr;var Ir=function(){this.__data__=new Ar,this.size=0};var Lr=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Tr=function(e){return this.__data__.get(e)};var Ur=function(e){return this.__data__.has(e)},Nr="object"==typeof st&&st&&st.Object===Object&&st,Rr="object"==typeof self&&self&&self.Object===Object&&self,zr=Nr||Rr||Function("return this")(),Wr=zr.Symbol,Dr=Object.prototype,Fr=Dr.hasOwnProperty,Vr=Dr.toString,Br=Wr?Wr.toStringTag:void 0;var Gr=function(e){var t=Fr.call(e,Br),r=e[Br];try{e[Br]=void 0;var n=!0}catch(e){}var o=Vr.call(e);return n&&(t?e[Br]=r:delete e[Br]),o},Mr=Object.prototype.toString;var qr=function(e){return Mr.call(e)},Yr=Wr?Wr.toStringTag:void 0;var $r=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Yr&&Yr in Object(e)?Gr(e):qr(e)};var Hr=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Jr,Kr=function(e){if(!Hr(e))return!1;var t=$r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Qr=zr["__core-js_shared__"],Xr=(Jr=/[^.]+$/.exec(Qr&&Qr.keys&&Qr.keys.IE_PROTO||""))?"Symbol(src)_1."+Jr:"";var Zr=function(e){return!!Xr&&Xr in e},en=Function.prototype.toString;var tn=function(e){if(null!=e){try{return en.call(e)}catch(e){}try{return e+""}catch(e){}}return""},rn=/^\[object .+?Constructor\]$/,nn=Function.prototype,on=Object.prototype,an=nn.toString,cn=on.hasOwnProperty,sn=RegExp("^"+an.call(cn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var un=function(e){return!(!Hr(e)||Zr(e))&&(Kr(e)?sn:rn).test(tn(e))};var ln=function(e,t){return null==e?void 0:e[t]};var dn=function(e,t){var r=ln(e,t);return un(r)?r:void 0},fn=dn(zr,"Map"),pn=dn(Object,"create");var mn=function(){this.__data__=pn?pn(null):{},this.size=0};var hn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vn=Object.prototype.hasOwnProperty;var gn=function(e){var t=this.__data__;if(pn){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return vn.call(t,e)?t[e]:void 0},yn=Object.prototype.hasOwnProperty;var bn=function(e){var t=this.__data__;return pn?void 0!==t[e]:yn.call(t,e)};var wn=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pn&&void 0===t?"__lodash_hash_undefined__":t,this};function _n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_n.prototype.clear=mn,_n.prototype.delete=hn,_n.prototype.get=gn,_n.prototype.has=bn,_n.prototype.set=wn;var En=_n;var xn=function(){this.size=0,this.__data__={hash:new En,map:new(fn||Ar),string:new En}};var jn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var kn=function(e,t){var r=e.__data__;return jn(t)?r["string"==typeof t?"string":"hash"]:r.map};var On=function(e){var t=kn(this,e).delete(e);return this.size-=t?1:0,t};var Pn=function(e){return kn(this,e).get(e)};var Sn=function(e){return kn(this,e).has(e)};var Cn=function(e,t){var r=kn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function An(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}An.prototype.clear=xn,An.prototype.delete=On,An.prototype.get=Pn,An.prototype.has=Sn,An.prototype.set=Cn;var In=An;var Ln=function(e,t){var r=this.__data__;if(r instanceof Ar){var n=r.__data__;if(!fn||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new In(n)}return r.set(e,t),this.size=r.size,this};function Tn(e){var t=this.__data__=new Ar(e);this.size=t.size}Tn.prototype.clear=Ir,Tn.prototype.delete=Lr,Tn.prototype.get=Tr,Tn.prototype.has=Ur,Tn.prototype.set=Ln;var Un=Tn;var Nn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Rn=function(e){return this.__data__.has(e)};function zn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new In;++t<r;)this.add(e[t])}zn.prototype.add=zn.prototype.push=Nn,zn.prototype.has=Rn;var Wn=zn;var Dn=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var Fn=function(e,t){return e.has(t)};var Vn=function(e,t,r,n,o,a){var i=1&r,c=e.length,s=t.length;if(c!=s&&!(i&&s>c))return!1;var u=a.get(e),l=a.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,p=2&r?new Wn:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var m=e[d],h=t[d];if(n)var v=i?n(h,m,d,t,e,a):n(m,h,d,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!Dn(t,(function(e,t){if(!Fn(p,t)&&(m===e||o(m,e,r,n,a)))return p.push(t)}))){f=!1;break}}else if(m!==h&&!o(m,h,r,n,a)){f=!1;break}}return a.delete(e),a.delete(t),f},Bn=zr.Uint8Array;var Gn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var Mn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},qn=Wr?Wr.prototype:void 0,Yn=qn?qn.valueOf:void 0;var $n=function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Bn(e),new Bn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Er(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=Gn;case"[object Set]":var s=1&n;if(c||(c=Mn),e.size!=t.size&&!s)return!1;var u=i.get(e);if(u)return u==t;n|=2,i.set(e,t);var l=Vn(c(e),c(t),n,o,a,i);return i.delete(e),l;case"[object Symbol]":if(Yn)return Yn.call(e)==Yn.call(t)}return!1};var Hn=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},Jn=Array.isArray;var Kn=function(e,t,r){var n=t(e);return Jn(e)?n:Hn(n,r(e))};var Qn=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a};var Xn=function(){return[]},Zn=Object.prototype.propertyIsEnumerable,eo=Object.getOwnPropertySymbols,to=eo?function(e){return null==e?[]:(e=Object(e),Qn(eo(e),(function(t){return Zn.call(e,t)})))}:Xn;var ro=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var no=function(e){return null!=e&&"object"==typeof e};var oo=function(e){return no(e)&&"[object Arguments]"==$r(e)},ao=Object.prototype,io=ao.hasOwnProperty,co=ao.propertyIsEnumerable,so=oo(function(){return arguments}())?oo:function(e){return no(e)&&io.call(e,"callee")&&!co.call(e,"callee")};var uo=function(){return!1},lo=ut((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?zr.Buffer:void 0,a=(o?o.isBuffer:void 0)||uo;e.exports=a})),fo=/^(?:0|[1-9]\d*)$/;var po=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&fo.test(e))&&e>-1&&e%1==0&&e<t};var mo=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ho={};ho["[object Float32Array]"]=ho["[object Float64Array]"]=ho["[object Int8Array]"]=ho["[object Int16Array]"]=ho["[object Int32Array]"]=ho["[object Uint8Array]"]=ho["[object Uint8ClampedArray]"]=ho["[object Uint16Array]"]=ho["[object Uint32Array]"]=!0,ho["[object Arguments]"]=ho["[object Array]"]=ho["[object ArrayBuffer]"]=ho["[object Boolean]"]=ho["[object DataView]"]=ho["[object Date]"]=ho["[object Error]"]=ho["[object Function]"]=ho["[object Map]"]=ho["[object Number]"]=ho["[object Object]"]=ho["[object RegExp]"]=ho["[object Set]"]=ho["[object String]"]=ho["[object WeakMap]"]=!1;var vo=function(e){return no(e)&&mo(e.length)&&!!ho[$r(e)]};var go=function(e){return function(t){return e(t)}},yo=ut((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r&&Nr.process,a=function(){try{var e=n&&n.require&&n.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a})),bo=yo&&yo.isTypedArray,wo=bo?go(bo):vo,_o=Object.prototype.hasOwnProperty;var Eo=function(e,t){var r=Jn(e),n=!r&&so(e),o=!r&&!n&&lo(e),a=!r&&!n&&!o&&wo(e),i=r||n||o||a,c=i?ro(e.length,String):[],s=c.length;for(var u in e)!t&&!_o.call(e,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||po(u,s))||c.push(u);return c},xo=Object.prototype;var jo=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xo)};var ko=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Oo=Object.prototype.hasOwnProperty;var Po=function(e){if(!jo(e))return ko(e);var t=[];for(var r in Object(e))Oo.call(e,r)&&"constructor"!=r&&t.push(r);return t};var So=function(e){return null!=e&&mo(e.length)&&!Kr(e)};var Co=function(e){return So(e)?Eo(e):Po(e)};var Ao=function(e){return Kn(e,Co,to)},Io=Object.prototype.hasOwnProperty;var Lo=function(e,t,r,n,o,a){var i=1&r,c=Ao(e),s=c.length;if(s!=Ao(t).length&&!i)return!1;for(var u=s;u--;){var l=c[u];if(!(i?l in t:Io.call(t,l)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var m=i;++u<s;){var h=e[l=c[u]],v=t[l];if(n)var g=i?n(v,h,l,t,e,a):n(h,v,l,e,t,a);if(!(void 0===g?h===v||o(h,v,r,n,a):g)){p=!1;break}m||(m="constructor"==l)}if(p&&!m){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p},To=dn(zr,"DataView"),Uo=dn(zr,"Promise"),No=dn(zr,"Set"),Ro=dn(zr,"WeakMap"),zo=tn(To),Wo=tn(fn),Do=tn(Uo),Fo=tn(No),Vo=tn(Ro),Bo=$r;(To&&"[object DataView]"!=Bo(new To(new ArrayBuffer(1)))||fn&&"[object Map]"!=Bo(new fn)||Uo&&"[object Promise]"!=Bo(Uo.resolve())||No&&"[object Set]"!=Bo(new No)||Ro&&"[object WeakMap]"!=Bo(new Ro))&&(Bo=function(e){var t=$r(e),r="[object Object]"==t?e.constructor:void 0,n=r?tn(r):"";if(n)switch(n){case zo:return"[object DataView]";case Wo:return"[object Map]";case Do:return"[object Promise]";case Fo:return"[object Set]";case Vo:return"[object WeakMap]"}return t});var Go=Bo,Mo="[object Object]",qo=Object.prototype.hasOwnProperty;var Yo=function(e,t,r,n,o,a){var i=Jn(e),c=Jn(t),s=i?"[object Array]":Go(e),u=c?"[object Array]":Go(t),l=(s="[object Arguments]"==s?Mo:s)==Mo,d=(u="[object Arguments]"==u?Mo:u)==Mo,f=s==u;if(f&&lo(e)){if(!lo(t))return!1;i=!0,l=!1}if(f&&!l)return a||(a=new Un),i||wo(e)?Vn(e,t,r,n,o,a):$n(e,t,s,r,n,o,a);if(!(1&r)){var p=l&&qo.call(e,"__wrapped__"),m=d&&qo.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,v=m?t.value():t;return a||(a=new Un),o(h,v,r,n,a)}}return!!f&&(a||(a=new Un),Lo(e,t,r,n,o,a))};var $o=function e(t,r,n,o,a){return t===r||(null==t||null==r||!no(t)&&!no(r)?t!=t&&r!=r:Yo(t,r,n,o,e,a))};var Ho=function(e,t){return $o(e,t)},Jo={},Ko={"{}":void 0},Qo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo,t=JSON.stringify(e),n=F({permissions:Ko[t]}),a=Ze(n,2),i=a[0],c=a[1],s=K(),u=o((function(){return s(e).then((function(e){Ho(e,i.permissions)||(Ko[t]=e,c({permissions:e}))})).catch((function(e){c({error:e})}))}),[t,e,s]);return r((function(){u()}),[t]),qe(qe({},i),{},{refetch:u})},Xo={auth:{dialog:{container_permissions:"Container permissions",resource_permissions:"Resource permissions",login_required:"Login required"},action:{permissions:"Permissions",signup:"Signup",logout:"Logout",login:"Login",view_my_profile:"View my profile",edit_my_profile:"Edit my profile"},right:{resource:{read:"Read",append:"Append",write:"Write",control:"Control"},container:{read:"List",append:"Add",write:"Add",control:"Control"}},agent:{anonymous:"All users",authenticated:"Connected users"},input:{agent_select:"Add an user...",name:"Surname",username:"User ID",email:"Email address",username_or_email:"User ID or email address"},message:{resource_show_forbidden:"You are not allowed to view this resource",resource_edit_forbidden:"You are not allowed to edit this resource",resource_delete_forbidden:"You are not allowed to delete this resource",resource_control_forbidden:"You are not allowed to control this resource",container_create_forbidden:"You are not allowed to create new resource",container_list_forbidden:"You are not allowed to list these resources",user_not_allowed_to_login:"You are not allowed to login with this account",user_email_not_found:"No account found with this email address",user_email_exist:"An account already exist with this email address",username_exist:"An account already exist with this user ID",username_invalid:"This username is invalid. Only lowercase characters, numbers, dots and hyphens are authorized",new_user_created:"Your account has been successfully created",user_connected:"You are now connected",user_disconnected:"You are now disconnected",bad_request:"Bad request (Error message returned by the server: %{error})",account_settings_updated:"Your account settings have been successfully updated",login_to_continue:"Please login to continue",choose_pod_provider:"Please choose a POD provider in the list below. All application data will be saved on your POD."}}},Zo={auth:{dialog:{container_permissions:"Permissions sur le container",resource_permissions:"Permissions sur la ressource",login_required:"Connexion requise"},action:{permissions:"Permissions",signup:"S'inscrire",logout:"Se déconnecter",login:"Se connecter",view_my_profile:"Voir mon profil",edit_my_profile:"Éditer mon profil"},right:{resource:{read:"Lire",append:"Enrichir",write:"Modifier",control:"Administrer"},container:{read:"Lister",append:"Ajouter",write:"Ajouter",control:"Administrer"}},agent:{anonymous:"Tous les utilisateurs",authenticated:"Utilisateurs connectés"},input:{agent_select:"Ajouter un utilisateur...",name:"Prénom",username:"Identifiant unique",email:"Adresse e-mail",username_or_email:"Identifiant ou adresse e-mail"},message:{resource_show_forbidden:"Vous n'avez pas la permission de voir cette ressource",resource_edit_forbidden:"Vous n'avez pas la permission d'éditer cette ressource",resource_delete_forbidden:"Vous n'avez pas la permission d'effacer cette ressource",resource_control_forbidden:"Vous n'avez pas la permission d'administrer cette ressource",container_create_forbidden:"Vous n'avez pas la permission de créer des ressources",container_list_forbidden:"Vous n'avez pas la permission de voir ces ressources",user_not_allowed_to_login:"Vous n'avez pas le droit de vous connecter avec ce compte",user_email_not_found:"Aucun compte trouvé avec cette adresse mail",user_email_exist:"Un compte existe déjà avec cette adresse mail",username_exist:"Un compte existe déjà avec cet identifiant",username_invalid:"Cet identifiant n'est pas valide. Seuls les lettres minuscules, les chiffres, les points et les tirets sont autorisés",new_user_created:"Votre compte a été créé avec succès",user_connected:"Vous êtes maintenant connecté",user_disconnected:"Vous êtes maintenant déconnecté",bad_request:"Requête erronée (Message d'erreur renvoyé par le serveur: %{error})",account_settings_updated:"Les paramètres de votre compte ont été mis à jour avec succès",login_to_continue:"Veuillez vous connecter pour continuer",choose_pod_provider:"Veuillez choisir un fournisseur de PODs dans la liste ci-dessous. Toutes les données de l'application seront enregistrées sur votre POD."}}};export{Qt as AuthDialog,Ct as CreateWithPermissions,Bt as DeleteButtonWithPermissions,Vt as EditActionsWithPermissions,Mt as EditToolbarWithPermissions,qt as EditWithPermissions,Yt as ListActionsWithPermissions,$t as ListWithPermissions,lr as LocalLoginPage,Zt as LoginPage,Ft as PermissionsButton,ar as PodLoginPage,hr as ResourceWithPermissions,Ht as ShowActionsWithPermissions,Jt as ShowWithPermissions,Zt as SsoLoginPage,br as UserMenu,yt as authProvider,Xo as englishMessages,Zo as frenchMessages,zt as useAgents,wr as useCheckAuthenticated,St as useCheckPermissions,Qo as usePermissionsWithRefetch,ir as useSignup};
//# sourceMappingURL=index.es.js.map
