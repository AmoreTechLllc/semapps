import*as e from"react";import t,{useEffect as r,useState as n,useCallback as o,useMemo as a,forwardRef as i}from"react";import{useGetIdentity as c,usePermissionsOptimized as s,useNotify as u,useRedirect as l,Create as d,CreateActions as f,useTranslate as p,useGetList as m,useDataProvider as h,Loading as v,Error as g,useAuthProvider as y,Button as b,TopToolbar as w,ListButton as _,ShowButton as E,useRecordContext as x,DeleteButton as j,Toolbar as k,SaveButton as O,Edit as P,useResourceDefinition as S,CreateButton as C,ExportButton as A,List as T,EditButton as I,Show as L,useLogin as U,Notification as N,useSafeSetState as R,LoginForm as z,useLogout as W,Resource as F,UserMenu as V,MenuItemLink as D,useGetPermissions as Y}from"react-admin";import{useCreateContainer as q}from"@semapps/semantic-data-provider";import G from"@mui/icons-material/Share";import{TextField as B,List as M,ListItem as $,ListItemAvatar as H,Avatar as J,ListItemText as K,ListItemSecondaryAction as Q,IconButton as X,Menu as Z,MenuItem as ee,ListItemIcon as te,Dialog as re,DialogTitle as ne,DialogContent as oe,DialogActions as ae,useMediaQuery as ie,DialogContentText as ce,Button as se,Card as ue,StyledEngineProvider as le,Typography as de,CardActions as fe,CircularProgress as pe,adaptV4Theme as me}from"@mui/material";import he from"@mui/styles/makeStyles";import ve from"@mui/material/Autocomplete";import ge from"@mui/icons-material/Person";import ye from"@mui/icons-material/Edit";import be from"@mui/icons-material/Check";import we from"@mui/icons-material/Public";import _e from"@mui/icons-material/VpnLock";import Ee from"@mui/icons-material/Group";import{adaptV4Theme as xe,createTheme as je,ThemeProvider as ke}from"@mui/material/styles";import{styled as Oe,ThemeProvider as Pe}from"@mui/system";import Se from"@mui/icons-material/Lock";import{useLocation as Ce,redirect as Ae,Link as Te}from"react-router-dom";import{Form as Ie,Field as Le}from"react-final-form";import Ue from"@mui/icons-material/PowerSettingsNew";import Ne from"@mui/icons-material/AccountCircle";function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
We=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&r.call(v,o)&&(m=v);var g=p.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,a){function i(){return new t((function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=p,c(g,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function Fe(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Ve(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Fe(a,n,o,i,c,"next",e)}function c(e){Fe(a,n,o,i,c,"throw",e)}i(void 0)}))}}function De(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(){return(Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||Me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){if(e){if("string"==typeof e)return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function He(e){this.message=e}He.prototype=new Error,He.prototype.name="InvalidCharacterError";var Je="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new He("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,a=0,i="";n=t.charAt(a++);~n&&(r=o%4?64*r+n:n,o++%4)?i+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return i};function Ke(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Je(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return Je(t)}}function Qe(e){this.message=e}function Xe(e,t){if("string"!=typeof e)throw new Qe("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(Ke(e.split(".")[r]))}catch(e){throw new Qe("Invalid token specified: "+e.message)}}Qe.prototype=new Error,Qe.prototype.name="InvalidTokenError";var Ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function et(e,t){return e(t={exports:{}},t.exports),t.exports}var tt,rt,nt=et((function(e){var t,r;t=Ze,r=function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(n>0&&(o=o.replace(/^[\/]+/,"")),o=n<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),t.push(o))}var a=t.join("/"),i=(a=a.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a=i.shift()+(i.length>0?"?":"")+i.join("&")}return function(){return e("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=r():t.urljoin=r()})),ot=function(e){return e?Array.isArray(e)?e:[e]:void 0},at=function(e){var t=new URL(e);return nt(t.origin,"_acl",t.pathname)},it=function(e){return{"@base":e,acl:"http://www.w3.org/ns/auth/acl#",foaf:"http://xmlns.com/foaf/0.1/","acl:agent":{"@type":"@id"},"acl:agentGroup":{"@type":"@id"},"acl:agentClass":{"@type":"@id"},"acl:mode":{"@type":"@id"},"acl:accessTo":{"@type":"@id"}}},ct=["username","email","password","domain"],st=function(e){var t,r,n,o,a,i,c,s,u,l,d,f,p=e.middlewareUri,m=e.allowAnonymous,h=void 0===m||m,v=e.localAccounts,g=void 0!==v&&v,y=e.checkUser,b=e.httpClient,w=e.checkPermissions;return{login:(f=Ve(We().mark((function e(t){var r,n,o,a,i,c,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new URL(window.location.href),n=p||t.domain&&"https://".concat(t.domain,"/")){e.next=4;break}throw new Error("You must specify a middlewareUri in the authProvider config, or specify a domain when calling the login method");case 4:if(!g){e.next=21;break}return o=t.username,a=t.password,e.prev=6,e.next=9,b("".concat(n,"auth/login"),{method:"POST",body:JSON.stringify({username:o.trim(),password:a.trim()}),headers:new Headers({"Content-Type":"application/json"})});case 9:i=e.sent,c=i.json,s=c.token,localStorage.setItem("token",s),window.location.reload(),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(6),new Error("ra.auth.sign_in_error");case 19:e.next=24;break;case 21:u=r.origin+"/login?login=true",t.redirect&&(u+="&redirect="+encodeURIComponent(t.redirect)),window.location.href="".concat(n,"auth?redirectUrl=")+encodeURIComponent(u);case 24:case"end":return e.stop()}}),e,null,[[6,16]])}))),function(e){return f.apply(this,arguments)}),signup:(d=Ve(We().mark((function e(t){var r,n,o,a,i,c,s,u,l,d,f;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p||t.domain&&"https://".concat(t.domain,"/")){e.next=3;break}throw new Error("You must specify a middlewareUri in the authProvider config, or specify a domain when calling the signup method");case 3:if(!g){e.next=33;break}return n=t.username,o=t.email,a=t.password,i=t.domain,c=qe(t,ct),e.prev=5,e.next=8,b("".concat(r||"https://".concat(i),"auth/signup"),{method:"POST",body:JSON.stringify(ze({username:n.trim(),email:o.trim(),password:a.trim()},c)),headers:new Headers({"Content-Type":"application/json"})});case 8:return s=e.sent,u=s.json,l=u.token,localStorage.setItem("token",l),d=Xe(l),f=d.webId,e.abrupt("return",f);case 16:if(e.prev=16,e.t0=e.catch(5),"email.already.exists"!==e.t0.message){e.next=22;break}throw new Error("auth.message.user_email_exist");case 22:if("username.already.exists"!==e.t0.message){e.next=26;break}throw new Error("auth.message.username_exist");case 26:if("username.invalid"!==e.t0.message){e.next=30;break}throw new Error("auth.message.username_invalid");case 30:throw new Error(e.t0.message||"ra.auth.sign_in_error");case 31:e.next=34;break;case 33:window.location.href="".concat(r,"auth?redirectUrl=")+encodeURIComponent(url.origin+"/login?login=true");case 34:case"end":return e.stop()}}),e,null,[[5,16]])}))),function(e){return d.apply(this,arguments)}),logout:(l=Ve(We().mark((function e(){var t,r,n,o,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p?t=p:(r=localStorage.getItem("token"))&&(n=Xe(r),o=n.webId,t=new URL(o).origin+"/"),localStorage.removeItem("token"),g?(window.location.reload(),window.location.href="/"):t&&(a=new URL(window.location.href),window.location.href=h?"".concat(t,"auth/logout?redirectUrl=")+encodeURIComponent(a.origin+"/login?logout=true"):"".concat(t,"auth/logout?redirectUrl=")+encodeURIComponent(a.origin+"/login")),e.abrupt("return","/");case 4:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),checkAuth:(u=Ve(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")||h){e.next=3;break}throw new Error;case 3:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),checkUser:function(e){return!y||y(e)},checkError:function(e){return Promise.resolve()},getPermissions:(s=Ve(We().mark((function e(t){var r,n,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith(p)){e.next=2;break}return e.abrupt("return",!1);case 2:if(w){e.next=4;break}return e.abrupt("return",!0);case 4:if(t&&t.startsWith("http")){e.next=6;break}throw new Error("The first parameter passed to getPermissions must be an URL");case 6:return r=at(t),e.next=9,b(r);case 9:return n=e.sent,o=n.json,e.abrupt("return",o["@graph"]);case 12:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)}),addPermission:(c=Ve(We().mark((function e(t,r,n,o){var a,i,c;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.startsWith("http")){e.next=2;break}throw new Error("The first parameter passed to addPermission must be an URL");case 2:return t.startsWith(p),i=at(t),De(a={"@id":"#"+o.replace("acl:",""),"@type":"acl:Authorization"},n,r),De(a,"acl:accessTo",t),De(a,"acl:mode",o),c=a,e.next=7,b(i,{method:"PATCH",body:JSON.stringify({"@context":it(i),"@graph":[c]})});case 7:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return c.apply(this,arguments)}),removePermission:(i=Ve(We().mark((function e(t,r,n,o){var a,i,c,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.startsWith("http")){e.next=2;break}throw new Error("The first parameter passed to removePermission must be an URL");case 2:if(t.startsWith(p)){e.next=4;break}throw new Error("Cannot remove permissions on servers other than the one used for auth");case 4:return a=at(t),e.next=7,b(a);case 7:return i=e.sent,c=i.json,s=c["@graph"].filter((function(e){return!e["@id"].includes("#Default")})).map((function(e){var t=ot(e["acl:mode"]),a=ot(e[n]);return o&&t.includes(o)&&a&&a.includes(r)&&(a=a.filter((function(e){return e!==r}))),ze(ze({},e),{},De({},n,a))})),e.next=12,b(a,{method:"PUT",body:JSON.stringify({"@context":it(a),"@graph":s})});case 12:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return i.apply(this,arguments)}),getIdentity:(a=Ve(We().mark((function e(){var t,r,n,o,a,i,c;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("token"))){e.next=17;break}return r=Xe(t),n=r.webId,e.next=5,b(n);case 5:if(o=e.sent,!(a=o.json).url){e.next=13;break}return e.next=10,b(a.url);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0={};case 14:return i=e.t0,c=i.json,e.abrupt("return",{id:n,fullName:(null==c?void 0:c["vcard:given-name"])||(null==c?void 0:c["pair:label"])||a["foaf:name"],profileData:c,webIdData:a});case 17:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),resetPassword:(o=Ve(We().mark((function e(t){var r,n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p||t.domain&&"https://".concat(t.domain,"/")){e.next=3;break}throw new Error("You must specify a middlewareUri in the authProvider config, or specify a domain when calling the forgot password method");case 3:return n=t.email,e.prev=4,e.next=7,b("".concat(r,"auth/reset_password"),{method:"POST",body:JSON.stringify({email:n.trim()}),headers:new Headers({"Content-Type":"application/json"})});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),new Error("app.notification.reset_password_error");case 12:case"end":return e.stop()}}),e,null,[[4,9]])}))),function(e){return o.apply(this,arguments)}),setNewPassword:(n=Ve(We().mark((function e(t){var r,n,o,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p||t.domain&&"https://".concat(t.domain,"/")){e.next=3;break}throw new Error("You must specify a middlewareUri in the authProvider config, or specify a domain when calling the new password method");case 3:return n=t.email,o=t.token,a=t.password,e.prev=4,e.next=7,b("".concat(r,"auth/new_password"),{method:"POST",body:JSON.stringify({email:n.trim(),token:o,password:a}),headers:new Headers({"Content-Type":"application/json"})});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),new Error("app.notification.new_password_error");case 12:case"end":return e.stop()}}),e,null,[[4,9]])}))),function(e){return n.apply(this,arguments)}),getAccountSettings:(r=Ve(We().mark((function e(t){var r,n,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p||t.domain&&"https://".concat(t.domain,"/")){e.next=3;break}throw new Error("You must specify a middlewareUri in the authProvider config, or specify a domain when calling the getAccountSettings method");case 3:return e.prev=3,e.next=6,b("".concat(r,"auth/account"),{method:"GET"});case 6:return n=e.sent,o=n.json,e.abrupt("return",o);case 11:throw e.prev=11,e.t0=e.catch(3),new Error("app.notification.get_settings_error");case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e){return r.apply(this,arguments)}),updateAccountSettings:(t=Ve(We().mark((function e(t){var r,n,o,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p||t.domain&&"https://".concat(t.domain,"/")){e.next=3;break}throw new Error("You must specify a middlewareUri in the authProvider config, or specify a domain when calling the updateAccountSettings method");case 3:return e.prev=3,n=t.email,o=t.currentPassword,a=t.newPassword,e.next=7,b("".concat(r,"auth/account"),{method:"POST",body:JSON.stringify({currentPassword:o,email:n.trim(),newPassword:a}),headers:new Headers({"Content-Type":"application/json"})});case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(3),"auth.account.invalid_password"!==e.t0.message){e.next=13;break}throw new Error("app.notification.invalid_password");case 13:throw new Error("app.notification.update_settings_error");case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),function(e){return t.apply(this,arguments)})}},ut="acl:agentClass",lt=["acl:Append","acl:Write","acl:Control"],dt=["acl:Append","acl:Write","acl:Control"],ft=["acl:Write","acl:Control"],pt=["acl:Control"],mt={show:["acl:Read","acl:Append","acl:Write","acl:Control"],list:["acl:Read","acl:Append","acl:Write","acl:Control"],create:lt,edit:dt,delete:ft,control:pt},ht={show:"auth.message.resource_show_forbidden",edit:"auth.message.resource_edit_forbidden",delete:"auth.message.resource_delete_forbidden",control:"auth.message.resource_control_forbidden",list:"auth.message.container_list_forbidden",create:"auth.message.container_create_forbidden"},vt=(De(tt={},"acl:Read","auth.right.resource.read"),De(tt,"acl:Append","auth.right.resource.append"),De(tt,"acl:Write","auth.right.resource.write"),De(tt,"acl:Control","auth.right.resource.control"),tt),gt=(De(rt={},"acl:Read","auth.right.container.read"),De(rt,"acl:Write","auth.right.container.write"),De(rt,"acl:Control","auth.right.container.control"),rt),yt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",o=c(),a=o.identity,i=o.loading,d=s(e),f=d.permissions,p=u(),m=l();return r((function(){!i&&a&&f&&!f.some((function(e){return mt[t].includes(e["acl:mode"])}))&&(p(ht[t],"error"),m(n))}),[f,a,m,p,i]),f},bt=function(e){var r=q(e.resource);return yt(r,"create"),t.createElement(d,e)};bt.defaultProps={actions:t.createElement(f,null)};var wt=he((function(){return{list:{padding:0,width:"100%"},option:{padding:0}}})),_t=function(e){var o=e.agents,a=e.addPermission,i=wt(),c=p(),s=Ge(n(null),2),u=s[0],l=s[1],d=Ge(n(""),2),f=d[0],h=d[1],v=Ge(n([]),2),g=v[0],y=v[1],b=m("Person",{page:1,perPage:100},{field:"pair:label",order:"ASC"},{q:f},{enabled:f.length>0}),w=b.ids,_=b.data;return r((function(){y(w.length>0?Object.values(_):[])}),[w,_]),t.createElement(ve,{classes:{option:i.option},getOptionLabel:function(e){return e["pair:label"]},filterOptions:function(e){return e.filter((function(e){return!Object.keys(o).includes(e.id)}))},options:g,noOptionsText:c("ra.navigation.no_results"),autoComplete:!0,blurOnSelect:!0,clearOnBlur:!0,disableClearable:!0,value:u,onChange:function(e,t){a(t.id||t["@id"],"acl:agent","acl:Read"),l(null),h(""),y([])},onInputChange:function(e,t){h(t)},renderInput:function(e){return t.createElement(B,Ye({},e,{label:c("auth.input.agent_select"),variant:"filled",margin:"dense",fullWidth:!0}))},renderOption:function(e){return t.createElement(M,{dense:!0,className:i.list},t.createElement($,{button:!0},t.createElement(H,null,t.createElement(J,{src:e.image},t.createElement(ge,null))),t.createElement(K,{primary:e["pair:label"]})))}})},Et=function(e){var r=e.agent;switch(r.predicate){case ut:return"foaf:Agent"===r.id?t.createElement(we,null):t.createElement(_e,null);case"acl:agent":return t.createElement(ge,null);case"acl:agentGroup":return t.createElement(Ee,null);default:throw new Error("Unknown agent predicate: "+r.predicate)}},xt=he((function(){return{listItem:{paddingLeft:4,paddingRight:36},primaryText:{width:"30%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},secondaryText:{textAlign:"center",width:"60%",fontStyle:"italic",color:"grey"}}})),jt=function(e){var o=e.isContainer,a=e.agent,i=e.addPermission,c=e.removePermission,s=xt(),u=p(),l=h(),d=Ge(t.useState(null),2),f=d[0],m=d[1],y=Ge(n(),2),b=y[0],w=y[1],_=Ge(n(!0),2),E=_[0],x=_[1],j=Ge(n(),2),k=j[0],O=j[1];if(r((function(){"acl:agent"===a.predicate?l.getOne("Person",{id:a.id}).then((function(e){var t=e.data;w(t),x(!1)})).catch((function(e){O(e),x(!1)})):x(!1)}),[a.id,a.predicate]),"acl:agentGroup"===a.predicate)return null;var P=function(){return m(null)},S=o?gt:vt;return E?t.createElement(v,null):k?t.createElement(g,null):t.createElement($,{className:s.listItem},t.createElement(H,null,t.createElement(J,{src:null==b?void 0:b.image},t.createElement(Et,{agent:a}))),t.createElement(K,{className:s.primaryText,primary:b?b["pair:label"]:u("foaf:Agent"===a.id?"auth.agent.anonymous":"auth.agent.authenticated")}),t.createElement(K,{className:s.secondaryText,primary:a.permissions&&a.permissions.map((function(e){return u(S[e])})).join(", ")}),t.createElement(Q,null,t.createElement(X,{onClick:function(e){return m(e.currentTarget)},size:"large"},t.createElement(ye,null)),t.createElement(Z,{anchorEl:f,keepMounted:!0,open:Boolean(f),onClose:P},Object.entries(S).map((function(e){var r=Ge(e,2),n=r[0],o=r[1],s=a.permissions&&a.permissions.includes(n);return t.createElement(ee,{key:n,onClick:function(){s?c(a.id,a.predicate,n):i(a.id,a.predicate,n),P()}},t.createElement(te,null,s?t.createElement(be,null):null),t.createElement(K,{primary:u(o)}))})))))},kt=he((function(e){return{list:{width:"100%",maxWidth:"100%",backgroundColor:e.palette.background.paper}}})),Ot=function(e){var r=e.isContainer,n=e.agents,o=e.addPermission,a=e.removePermission,i=kt();return t.createElement(M,{dense:!0,className:i.list},Object.entries(n).map((function(e){var n=Ge(e,2),i=n[0],c=n[1];return t.createElement(jt,{key:i,isContainer:r,agent:c,addPermission:o,removePermission:a})})))},Pt=function(e){var t=s(e).permissions,a=y(),i=Ge(n({}),2),c=i[0],u=i[1];r((function(){var e,r=(De(e={},"foaf:Agent",{id:"foaf:Agent",predicate:ut,permissions:[]}),De(e,"acl:AuthenticatedAgent",{id:"acl:AuthenticatedAgent",predicate:ut,permissions:[]}),e),n=function(e,t,n){r[e]?r[e].permissions.push(n):r[e]={id:e,predicate:t,permissions:[n]}};if(t){var o,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Me(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{var i=function(){var e=o.value;e[ut]&&ot(e[ut]).forEach((function(t){return n(t,ut,e["acl:mode"])})),e["acl:agent"]&&ot(e["acl:agent"]).forEach((function(t){return n(t,"acl:agent",e["acl:mode"])})),e["acl:agentGroup"]&&ot(e["acl:agentGroup"]).forEach((function(t){return n(t,"acl:agentGroup",e["acl:mode"])}))};for(a.s();!(o=a.n()).done;)i()}catch(e){a.e(e)}finally{a.f()}u(r)}}),[t]);var l=o((function(t,r,n){var o,i=ze({},c);u(ze(ze({},c),{},De({},t,{id:t,predicate:r,permissions:c[t]?[].concat(Be(null===(o=c[t])||void 0===o?void 0:o.permissions),[n]):[n]}))),a.addPermission(e,t,r,n).catch((function(e){u(i)}))}),[c,u,e,a]),d=o((function(t,r,n){var o=ze({},c);u(Object.fromEntries(Object.entries(c).map((function(e){var r=Ge(e,2),o=r[0],a=r[1];return a.id===t&&(a.permissions=a.permissions.filter((function(e){return e!==n}))),[o,a]})).filter((function(e){var t=Ge(e,2);t[0];var r=t[1];return r.predicate===ut||r.permissions.length>0})))),a.removePermission(e,t,r,n).catch((function(e){u(o)}))}),[c,u,e,a]);return{agents:c,addPermission:l,removePermission:d}},St=he((function(){return{title:{paddingBottom:8},actions:{padding:15},addForm:{paddingTop:0},listForm:{paddingTop:0,paddingBottom:0,paddingRight:0,maxHeight:210}}})),Ct=function(e){var r=e.open,n=e.onClose,o=e.uri,a=e.isContainer,i=St(),c=p(),s=Pt(o),u=s.agents,l=s.addPermission,d=s.removePermission;return t.createElement(re,{fullWidth:!0,open:r,onClose:n},t.createElement(ne,{className:i.title},c(a?"auth.dialog.container_permissions":"auth.dialog.resource_permissions")),t.createElement(oe,{className:i.addForm},t.createElement(_t,{agents:u,addPermission:l})),t.createElement(oe,{className:i.listForm},t.createElement(Ot,{isContainer:a,agents:u,addPermission:l,removePermission:d})),t.createElement(ae,{className:i.actions},t.createElement(b,{label:"ra.action.close",variant:"text",onClick:n})))},At=function(e){var r=e.record,o=e.resource,a=Ge(n(!1),2),i=a[0],c=a[1],s=q(o),u=!!o,l=u?s:r.id||r["@id"];return t.createElement(t.Fragment,null,t.createElement(b,{label:"auth.action.permissions",onClick:function(){return c(!0)}},t.createElement(G,null)),t.createElement(Ct,{uri:l,isContainer:!!u,open:i,onClose:function(){return c(!1)}}))},Tt=function(e){var r=e.basePath,n=e.record,o=e.hasList,a=e.hasShow,i=s(null==n?void 0:n.id).permissions;return t.createElement(w,null,o&&t.createElement(_,{basePath:r,record:n}),a&&t.createElement(E,{basePath:r,record:n}),!!i&&i.some((function(e){return pt.includes(e["acl:mode"])}))&&t.createElement(At,{basePath:r,record:n}))},It=function(e){var r=x(),n=s(null==r?void 0:r.id).permissions;return n&&n.some((function(e){return ft.includes(e["acl:mode"])}))?t.createElement(j,e):null},Lt=he((function(){return{toolbar:{flex:1,display:"flex",justifyContent:"space-between"}}})),Ut=function(e){var r=Lt();return t.createElement(k,Ye({},e,{className:r.toolbar}),t.createElement(O,null),t.createElement(It,{undoable:!1}),"}")},Nt=function(e){return yt(e.id,"edit"),t.createElement(P,e,t.cloneElement(e.children,ze({toolbar:t.createElement(Ut,null)},e.children.props)))};Nt.defaultProps={actions:t.createElement(Tt,null)};var Rt=["bulkActions","basePath","currentSort","displayedFilters","exporter","filters","filterValues","onUnselectItems","resource","selectedIds","showFilter","total"],zt=function(e){var r=e.bulkActions,n=e.basePath,o=e.currentSort,a=e.displayedFilters,i=e.exporter,c=e.filters,u=e.filterValues,l=e.onUnselectItems,d=e.resource,f=e.selectedIds,p=e.showFilter,m=e.total,h=qe(e,Rt),v=ie((function(e){return e.breakpoints.down("sm")})),g=S(h),y=q(d),b=s(y).permissions;return t.createElement(w,null,c&&t.cloneElement(c,{resource:d,showFilter:p,displayedFilters:a,filterValues:u,context:"button"}),g.hasCreate&&b&&b.some((function(e){return lt.includes(e["acl:mode"])}))&&t.createElement(C,{basePath:n}),b&&b.some((function(e){return pt.includes(e["acl:mode"])}))&&t.createElement(At,{basePath:n,record:y}),!v&&!1!==i&&t.createElement(A,{disabled:0===m,resource:d,sort:o,filter:u,exporter:i}),r&&t.cloneElement(r,{basePath:n,filterValues:u,resource:d,selectedIds:f,onUnselectItems:l}))},Wt=function(e){return t.createElement(T,e)};Wt.defaultProps={actions:t.createElement(zt,null)};var Ft=function(e){var r=e.basePath,n=e.record,o=e.hasList,a=e.hasEdit,i=s(null==n?void 0:n.id).permissions;return t.createElement(w,null,o&&t.createElement(_,{basePath:r,record:n}),a&&i&&i.some((function(e){return dt.includes(e["acl:mode"])}))&&t.createElement(I,{basePath:r,record:n}),i&&i.some((function(e){return pt.includes(e["acl:mode"])}))&&t.createElement(At,{basePath:r,record:n}))},Vt=function(e){return yt(e.id,"edit"),t.createElement(L,e)};Vt.defaultProps={actions:t.createElement(Ft,null)};var Dt=["open","onClose","title","message","redirect"],Yt=function(e){var r=e.open,n=e.onClose,o=e.title,a=e.message,i=e.redirect,c=qe(e,Dt),s=U(),u=p();return t.createElement(re,Ye({open:r,onClose:n},c),t.createElement(ne,null,u(o)),t.createElement(oe,null,t.createElement(ce,null,u(a))),t.createElement(ae,null,t.createElement(se,{onClick:n},u("ra.action.cancel")),t.createElement(se,{onClick:function(){return s({redirect:i||window.location.pathname+window.location.search})},color:"primary",variant:"contained"},u("auth.action.login"))))};Yt.defaultProps={title:"auth.dialog.login_required",message:"auth.message.login_to_continue"};var qt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Gt=Oe("main")((function(e){return{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",backgroundColor:e.theme.palette.grey[300]}}));Oe("main")((function(e){return e.theme,{maxWidth:300,textAlign:"center",padding:"4px 8px 8px"}}));var Bt=Oe(ue)((function(e){return e.theme,{minWidth:300,marginTop:"6em"}})),Mt=Oe("div")((function(e){return e.theme,{margin:"1em",display:"flex",justifyContent:"center"}})),$t=Oe(J)((function(e){return{backgroundColor:e.theme.palette.grey[500]}})),Ht=function(e){var n=e.theme,o=e.history,a=e.location,i=e.buttons,c=e.userResource,s=e.propertiesExist,l=e.text,d=u(),f=U(),p=h(),m=y();return r((function(){Ve(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=new URLSearchParams(a.search)).has("login")){e.next=8;break}if(!t.has("error")){e.next=6;break}"registration.not-allowed"===t.get("error")?d("auth.message.user_email_not_found","error"):d("auth.message.bad_request","error",{error:t.get("error")}),e.next=8;break;case 6:if(!t.has("token")){e.next=8;break}return e.delegateYield(We().mark((function e(){var r,n,a,i,u,l,f;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.get("token"),n=Xe(r),a=n.webId,e.next=4,p.getOne(c,{id:a});case 4:if(u=e.sent,i=u.data,!(s.length>0)){e.next=19;break}l=s.every((function(e){return i[e]}));case 8:if(l){e.next=19;break}return console.log("Waiting for all properties to have been created",s),e.next=12,qt(500);case 12:return e.next=14,p.getOne(c,{id:a});case 14:f=e.sent,i=f.data,l=s.every((function(e){return i[e]})),e.next=8;break;case 19:m.checkUser(i)?(localStorage.setItem("token",r),t.has("redirect")?(d("auth.message.user_connected","info"),o.push(t.get("redirect"))):t.has("new")&&"true"===t.get("new")?(d("auth.message.new_user_created","info"),o.push("/"+c+"/"+encodeURIComponent(a)+"/edit")):(d("auth.message.user_connected","info"),o.push("/"))):(d("auth.message.user_not_allowed_to_login","error"),o.replace("/login"));case 20:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:t.has("logout")&&(localStorage.removeItem("token"),d("auth.message.user_disconnected","info"),o.push("/"));case 9:case"end":return e.stop()}}),e)})))()}),[a.search]),t.createElement(le,{injectFirst:!0},t.createElement(Pe,{theme:xe(n)},t.createElement(Gt,null,t.createElement(Bt,null,t.createElement(Mt,null,t.createElement($t,null,t.createElement(Se,null))),l&&t.createElement(de,{variant:"body2"},l),i&&i.map((function(e,r){return t.createElement(fe,{key:r},t.cloneElement(e,{fullWidth:!0,variant:"outlined",type:"submit",onClick:function(){return f({},"/login")}}))})))),t.createElement(N,null)))};Ht.defaultProps={propertiesExist:[],buttons:[t.createElement(se,{startIcon:t.createElement(J,{src:"/lescommuns.jpg"})},"Les Communs")],userResource:"Person"};function Jt(){}function Kt(){}Kt.resetWarningCache=Jt;var Qt=function(){function e(e,t,r,n,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Kt,resetWarningCache:Jt};return r.PropTypes=r,r},Xt=et((function(e){e.exports=Qt()})),Zt=et((function(e){
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var i=r.apply(null,o);i&&e.push(i)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var c in o)t.call(o,c)&&o[c]&&e.push(c)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r}()})),er=function(){var e=y();return o((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.signup(t)}),[e])},tr=["meta","input"],rr=he((function(e){return{form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},button:{width:"100%"},icon:{marginRight:e.spacing(1)}}})),nr=function(t){var r=t.meta,n=r.touched,o=r.error,a=t.input,i=qe(t,tr);return e.createElement(B,Ye({error:!(!n||!o),helperText:n&&o},a,i,{fullWidth:!0}))},or=function(t){var r=t.redirectTo,n=t.delayBeforeRedirect,o=Ge(R(!1),2),a=o[0],i=o[1],c=er(),s=p(),l=u(),d=rr(),f=Ce(),m=new URLSearchParams(f.search);return e.createElement(Ie,{onSubmit:function(e){i(!0),c(e).then((function(e){n?setTimeout((function(){window.location.reload(),window.location.href=r||"/",i(!1)}),n):(window.location.reload(),window.location.href=r||"/",i(!1)),l("auth.message.new_user_created","info")})).catch((function(e){i(!1),l("string"==typeof e?e:void 0!==e&&e.message?e.message:"ra.auth.sign_in_error","warning",{_:"string"==typeof e?e:e&&e.message?e.message:void 0})}))},validate:function(e){var t={email:void 0,password:void 0};return e.email||(t.email=s("ra.validation.required")),e.password||(t.password=s("ra.validation.required")),t},initialValues:{name:m.get("name"),email:m.get("email")},render:function(t){var r=t.handleSubmit;return e.createElement("form",{onSubmit:r,noValidate:!0},e.createElement("div",{className:d.form},e.createElement("div",{className:d.input},e.createElement(Le,{autoFocus:!0,id:"name",name:"name",component:nr,label:s("auth.input.name"),disabled:a})),e.createElement("div",{className:d.input},e.createElement(Le,{id:"username",name:"username",component:nr,label:s("auth.input.username"),disabled:a})),e.createElement("div",{className:d.input},e.createElement(Le,{id:"email",name:"email",component:nr,label:s("auth.input.email"),disabled:a||m.has("email")&&m.has("force-email")})),e.createElement("div",{className:d.input},e.createElement(Le,{id:"password",name:"password",component:nr,label:s("ra.auth.password"),type:"password",disabled:a}))),e.createElement(fe,null,e.createElement(se,{variant:"contained",type:"submit",color:"primary",disabled:a,className:d.button},a&&e.createElement(pe,{className:d.icon,size:18,thickness:2}),s("auth.action.signup"))))}})};or.propTypes={redirectTo:Xt.string};var ar=["theme","title","classes","className"],ir=he((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary[500]},switch:{margin:"1em",display:"flex",justifyContent:"center"}}})),cr=function(e){var r=e.theme;e.title,e.classes;var n=e.className,o=qe(e,ar),i=ir(e),s=Ce(),u=p(),l=a((function(){return je(me(r))}),[r]),d=new URLSearchParams(s.search),f=d.has("signup"),m=d.get("redirect"),h=c(),v=h.identity,g=h.loading;return console.log("LocalLoginPage"),g?null:null!=v&&v.id?Ae(m||"/"):(console.log("muiTheme-localloginpage",l),t.createElement(le,{injectFirst:!0},t.createElement(ke,{theme:l},t.createElement("div",Ye({className:Zt(i.main,n)},o),t.createElement(ue,{className:i.card},t.createElement("div",{className:i.avatar},t.createElement(J,{className:i.icon},t.createElement(Se,null))),f?t.createElement(or,{redirectTo:m,delayBeforeRedirect:3e3}):t.createElement(z,{redirectTo:m}),t.createElement("div",{className:i.switch},f?t.createElement(Te,{to:"/login"},t.createElement(de,{variant:"body2"},u("auth.action.login"))):t.createElement(Te,{to:"/login?signup=true"},t.createElement(de,{variant:"body2"},u("auth.action.signup"))))),t.createElement(N,null)))))};cr.propTypes={children:Xt.node,classes:Xt.object,className:Xt.string,theme:Xt.object};var sr=Oe("div")((function(e){return{minWidth:e.theme.spacing(5)}})),ur=Oe("div")((function(e){var t=e.theme;return{color:t.palette.text?t.palette.text.secondary:"unset","&:active":{color:t.palette.text?t.palette.text.primary:"unset"}}})),lr=i((function(e,r){var n=W(),o=p();return t.createElement(ur,null,t.createElement(ee,{onClick:function(){return n()},ref:r},t.createElement(sr,null,t.createElement(te,null,t.createElement(Ue,null))),o("auth.action.logout")))})),dr=["name","create"],fr=function(e){var r=e.name,n=e.create,o=qe(e,dr),a=q(r),i=s(a).permissions;return t.createElement(F,Ye({},o,{name:r,create:i&&i.some((function(e){return lt.includes(e["acl:mode"])}))?n:void 0}))},pr=["logout"],mr=i((function(e,r){var n=e.onClick,o=e.label,a=e.webId;return t.createElement(D,{ref:r,to:"/Person/".concat(encodeURIComponent(a),"/show"),primaryText:o,leftIcon:t.createElement(Ne,null),onClick:n})})),hr=i((function(e,r){var n=e.onClick,o=e.label,a=e.webId;return t.createElement(D,{ref:r,to:"/Person/".concat(encodeURIComponent(a)),primaryText:o,leftIcon:t.createElement(ye,null),onClick:n})})),vr=i((function(e,r){var n=e.onClick,o=e.label;return t.createElement(D,{ref:r,to:"/login",primaryText:o,onClick:n})})),gr=i((function(e,r){var n=e.onClick,o=e.label;return t.createElement(D,{ref:r,to:"/login?signup=true",primaryText:o,onClick:n})})),yr=function(e){var r=e.logout,n=qe(e,pr),o=c().identity,a=p();return t.createElement(V,n,o&&""!==o.id?[t.createElement(mr,{webId:o.id,label:a("auth.action.view_my_profile"),key:"view"}),t.createElement(hr,{webId:o.id,label:a("auth.action.edit_my_profile"),key:"edit"}),t.cloneElement(r,{key:"logout"})]:[t.createElement(gr,{label:a("auth.action.signup"),key:"signup"}),t.createElement(vr,{label:a("auth.action.login"),key:"login"})])},br=function(){var e=c(),t=e.identity,n=e.loading,o=u(),a=l(),i=Ce();return r((function(){n||null!=t&&t.id||(o("ra.auth.auth_check_error","error"),a("/login?redirect="+encodeURIComponent(i.pathname+i.search)))}),[n,t,a,o,i]),{identity:t,loading:n}};var wr=function(){this.__data__=[],this.size=0};var _r=function(e,t){return e===t||e!=e&&t!=t};var Er=function(e,t){for(var r=e.length;r--;)if(_r(e[r][0],t))return r;return-1},xr=Array.prototype.splice;var jr=function(e){var t=this.__data__,r=Er(t,e);return!(r<0)&&(r==t.length-1?t.pop():xr.call(t,r,1),--this.size,!0)};var kr=function(e){var t=this.__data__,r=Er(t,e);return r<0?void 0:t[r][1]};var Or=function(e){return Er(this.__data__,e)>-1};var Pr=function(e,t){var r=this.__data__,n=Er(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Sr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sr.prototype.clear=wr,Sr.prototype.delete=jr,Sr.prototype.get=kr,Sr.prototype.has=Or,Sr.prototype.set=Pr;var Cr=Sr;var Ar=function(){this.__data__=new Cr,this.size=0};var Tr=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Ir=function(e){return this.__data__.get(e)};var Lr=function(e){return this.__data__.has(e)},Ur="object"==typeof Ze&&Ze&&Ze.Object===Object&&Ze,Nr="object"==typeof self&&self&&self.Object===Object&&self,Rr=Ur||Nr||Function("return this")(),zr=Rr.Symbol,Wr=Object.prototype,Fr=Wr.hasOwnProperty,Vr=Wr.toString,Dr=zr?zr.toStringTag:void 0;var Yr=function(e){var t=Fr.call(e,Dr),r=e[Dr];try{e[Dr]=void 0;var n=!0}catch(e){}var o=Vr.call(e);return n&&(t?e[Dr]=r:delete e[Dr]),o},qr=Object.prototype.toString;var Gr=function(e){return qr.call(e)},Br=zr?zr.toStringTag:void 0;var Mr=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Br&&Br in Object(e)?Yr(e):Gr(e)};var $r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Hr,Jr=function(e){if(!$r(e))return!1;var t=Mr(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Kr=Rr["__core-js_shared__"],Qr=(Hr=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||""))?"Symbol(src)_1."+Hr:"";var Xr=function(e){return!!Qr&&Qr in e},Zr=Function.prototype.toString;var en=function(e){if(null!=e){try{return Zr.call(e)}catch(e){}try{return e+""}catch(e){}}return""},tn=/^\[object .+?Constructor\]$/,rn=Function.prototype,nn=Object.prototype,on=rn.toString,an=nn.hasOwnProperty,cn=RegExp("^"+on.call(an).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var sn=function(e){return!(!$r(e)||Xr(e))&&(Jr(e)?cn:tn).test(en(e))};var un=function(e,t){return null==e?void 0:e[t]};var ln=function(e,t){var r=un(e,t);return sn(r)?r:void 0},dn=ln(Rr,"Map"),fn=ln(Object,"create");var pn=function(){this.__data__=fn?fn(null):{},this.size=0};var mn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},hn=Object.prototype.hasOwnProperty;var vn=function(e){var t=this.__data__;if(fn){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return hn.call(t,e)?t[e]:void 0},gn=Object.prototype.hasOwnProperty;var yn=function(e){var t=this.__data__;return fn?void 0!==t[e]:gn.call(t,e)};var bn=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fn&&void 0===t?"__lodash_hash_undefined__":t,this};function wn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wn.prototype.clear=pn,wn.prototype.delete=mn,wn.prototype.get=vn,wn.prototype.has=yn,wn.prototype.set=bn;var _n=wn;var En=function(){this.size=0,this.__data__={hash:new _n,map:new(dn||Cr),string:new _n}};var xn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var jn=function(e,t){var r=e.__data__;return xn(t)?r["string"==typeof t?"string":"hash"]:r.map};var kn=function(e){var t=jn(this,e).delete(e);return this.size-=t?1:0,t};var On=function(e){return jn(this,e).get(e)};var Pn=function(e){return jn(this,e).has(e)};var Sn=function(e,t){var r=jn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Cn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cn.prototype.clear=En,Cn.prototype.delete=kn,Cn.prototype.get=On,Cn.prototype.has=Pn,Cn.prototype.set=Sn;var An=Cn;var Tn=function(e,t){var r=this.__data__;if(r instanceof Cr){var n=r.__data__;if(!dn||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new An(n)}return r.set(e,t),this.size=r.size,this};function In(e){var t=this.__data__=new Cr(e);this.size=t.size}In.prototype.clear=Ar,In.prototype.delete=Tr,In.prototype.get=Ir,In.prototype.has=Lr,In.prototype.set=Tn;var Ln=In;var Un=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Nn=function(e){return this.__data__.has(e)};function Rn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new An;++t<r;)this.add(e[t])}Rn.prototype.add=Rn.prototype.push=Un,Rn.prototype.has=Nn;var zn=Rn;var Wn=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var Fn=function(e,t){return e.has(t)};var Vn=function(e,t,r,n,o,a){var i=1&r,c=e.length,s=t.length;if(c!=s&&!(i&&s>c))return!1;var u=a.get(e),l=a.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,p=2&r?new zn:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var m=e[d],h=t[d];if(n)var v=i?n(h,m,d,t,e,a):n(m,h,d,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!Wn(t,(function(e,t){if(!Fn(p,t)&&(m===e||o(m,e,r,n,a)))return p.push(t)}))){f=!1;break}}else if(m!==h&&!o(m,h,r,n,a)){f=!1;break}}return a.delete(e),a.delete(t),f},Dn=Rr.Uint8Array;var Yn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var qn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Gn=zr?zr.prototype:void 0,Bn=Gn?Gn.valueOf:void 0;var Mn=function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Dn(e),new Dn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=Yn;case"[object Set]":var s=1&n;if(c||(c=qn),e.size!=t.size&&!s)return!1;var u=i.get(e);if(u)return u==t;n|=2,i.set(e,t);var l=Vn(c(e),c(t),n,o,a,i);return i.delete(e),l;case"[object Symbol]":if(Bn)return Bn.call(e)==Bn.call(t)}return!1};var $n=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},Hn=Array.isArray;var Jn=function(e,t,r){var n=t(e);return Hn(e)?n:$n(n,r(e))};var Kn=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a};var Qn=function(){return[]},Xn=Object.prototype.propertyIsEnumerable,Zn=Object.getOwnPropertySymbols,eo=Zn?function(e){return null==e?[]:(e=Object(e),Kn(Zn(e),(function(t){return Xn.call(e,t)})))}:Qn;var to=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var ro=function(e){return null!=e&&"object"==typeof e};var no=function(e){return ro(e)&&"[object Arguments]"==Mr(e)},oo=Object.prototype,ao=oo.hasOwnProperty,io=oo.propertyIsEnumerable,co=no(function(){return arguments}())?no:function(e){return ro(e)&&ao.call(e,"callee")&&!io.call(e,"callee")};var so=function(){return!1},uo=et((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?Rr.Buffer:void 0,a=(o?o.isBuffer:void 0)||so;e.exports=a})),lo=/^(?:0|[1-9]\d*)$/;var fo=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&lo.test(e))&&e>-1&&e%1==0&&e<t};var po=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},mo={};mo["[object Float32Array]"]=mo["[object Float64Array]"]=mo["[object Int8Array]"]=mo["[object Int16Array]"]=mo["[object Int32Array]"]=mo["[object Uint8Array]"]=mo["[object Uint8ClampedArray]"]=mo["[object Uint16Array]"]=mo["[object Uint32Array]"]=!0,mo["[object Arguments]"]=mo["[object Array]"]=mo["[object ArrayBuffer]"]=mo["[object Boolean]"]=mo["[object DataView]"]=mo["[object Date]"]=mo["[object Error]"]=mo["[object Function]"]=mo["[object Map]"]=mo["[object Number]"]=mo["[object Object]"]=mo["[object RegExp]"]=mo["[object Set]"]=mo["[object String]"]=mo["[object WeakMap]"]=!1;var ho=function(e){return ro(e)&&po(e.length)&&!!mo[Mr(e)]};var vo=function(e){return function(t){return e(t)}},go=et((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r&&Ur.process,a=function(){try{var e=n&&n.require&&n.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a})),yo=go&&go.isTypedArray,bo=yo?vo(yo):ho,wo=Object.prototype.hasOwnProperty;var _o=function(e,t){var r=Hn(e),n=!r&&co(e),o=!r&&!n&&uo(e),a=!r&&!n&&!o&&bo(e),i=r||n||o||a,c=i?to(e.length,String):[],s=c.length;for(var u in e)!t&&!wo.call(e,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||fo(u,s))||c.push(u);return c},Eo=Object.prototype;var xo=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Eo)};var jo=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),ko=Object.prototype.hasOwnProperty;var Oo=function(e){if(!xo(e))return jo(e);var t=[];for(var r in Object(e))ko.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Po=function(e){return null!=e&&po(e.length)&&!Jr(e)};var So=function(e){return Po(e)?_o(e):Oo(e)};var Co=function(e){return Jn(e,So,eo)},Ao=Object.prototype.hasOwnProperty;var To=function(e,t,r,n,o,a){var i=1&r,c=Co(e),s=c.length;if(s!=Co(t).length&&!i)return!1;for(var u=s;u--;){var l=c[u];if(!(i?l in t:Ao.call(t,l)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var m=i;++u<s;){var h=e[l=c[u]],v=t[l];if(n)var g=i?n(v,h,l,t,e,a):n(h,v,l,e,t,a);if(!(void 0===g?h===v||o(h,v,r,n,a):g)){p=!1;break}m||(m="constructor"==l)}if(p&&!m){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p},Io=ln(Rr,"DataView"),Lo=ln(Rr,"Promise"),Uo=ln(Rr,"Set"),No=ln(Rr,"WeakMap"),Ro=en(Io),zo=en(dn),Wo=en(Lo),Fo=en(Uo),Vo=en(No),Do=Mr;(Io&&"[object DataView]"!=Do(new Io(new ArrayBuffer(1)))||dn&&"[object Map]"!=Do(new dn)||Lo&&"[object Promise]"!=Do(Lo.resolve())||Uo&&"[object Set]"!=Do(new Uo)||No&&"[object WeakMap]"!=Do(new No))&&(Do=function(e){var t=Mr(e),r="[object Object]"==t?e.constructor:void 0,n=r?en(r):"";if(n)switch(n){case Ro:return"[object DataView]";case zo:return"[object Map]";case Wo:return"[object Promise]";case Fo:return"[object Set]";case Vo:return"[object WeakMap]"}return t});var Yo=Do,qo="[object Object]",Go=Object.prototype.hasOwnProperty;var Bo=function(e,t,r,n,o,a){var i=Hn(e),c=Hn(t),s=i?"[object Array]":Yo(e),u=c?"[object Array]":Yo(t),l=(s="[object Arguments]"==s?qo:s)==qo,d=(u="[object Arguments]"==u?qo:u)==qo,f=s==u;if(f&&uo(e)){if(!uo(t))return!1;i=!0,l=!1}if(f&&!l)return a||(a=new Ln),i||bo(e)?Vn(e,t,r,n,o,a):Mn(e,t,s,r,n,o,a);if(!(1&r)){var p=l&&Go.call(e,"__wrapped__"),m=d&&Go.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,v=m?t.value():t;return a||(a=new Ln),o(h,v,r,n,a)}}return!!f&&(a||(a=new Ln),To(e,t,r,n,o,a))};var Mo=function e(t,r,n,o,a){return t===r||(null==t||null==r||!ro(t)&&!ro(r)?t!=t&&r!=r:Bo(t,r,n,o,e,a))};var $o=function(e,t){return Mo(e,t)},Ho={},Jo={"{}":void 0},Ko=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ho,t=JSON.stringify(e),n=R({permissions:Jo[t]}),a=Ge(n,2),i=a[0],c=a[1],s=Y(),u=o((function(){return s(e).then((function(e){$o(e,i.permissions)||(Jo[t]=e,c({permissions:e}))})).catch((function(e){c({error:e})}))}),[t,e,s]);return r((function(){u()}),[t]),ze(ze({},i),{},{refetch:u})},Qo={auth:{dialog:{container_permissions:"Container permissions",resource_permissions:"Resource permissions",login_required:"Login required"},action:{permissions:"Permissions",signup:"Signup",logout:"Logout",login:"Login",view_my_profile:"View my profile",edit_my_profile:"Edit my profile"},right:{resource:{read:"Read",append:"Append",write:"Write",control:"Control"},container:{read:"List",append:"Add",write:"Add",control:"Control"}},agent:{anonymous:"All users",authenticated:"Connected users"},input:{agent_select:"Add an user...",name:"Surname",username:"User ID",email:"Email address",username_or_email:"User ID or email address"},message:{resource_show_forbidden:"You are not allowed to view this resource",resource_edit_forbidden:"You are not allowed to edit this resource",resource_delete_forbidden:"You are not allowed to delete this resource",resource_control_forbidden:"You are not allowed to control this resource",container_create_forbidden:"You are not allowed to create new resource",container_list_forbidden:"You are not allowed to list these resources",user_not_allowed_to_login:"You are not allowed to login with this account",user_email_not_found:"No account found with this email address",user_email_exist:"An account already exist with this email address",username_exist:"An account already exist with this user ID",username_invalid:"This username is invalid. Only lowercase characters, numbers, dots and hyphens are authorized",new_user_created:"Your account has been successfully created",user_connected:"You are now connected",user_disconnected:"You are now disconnected",bad_request:"Bad request (Error message returned by the server: %{error})",account_settings_updated:"Your account settings have been successfully updated",login_to_continue:"Please login to continue"}}},Xo={auth:{dialog:{container_permissions:"Permissions sur le container",resource_permissions:"Permissions sur la resource",login_required:"Connexion requise"},action:{permissions:"Permissions",signup:"S'inscrire",logout:"Se déconnecter",login:"Se connecter",view_my_profile:"Voir mon profil",edit_my_profile:"Éditer mon profil"},right:{resource:{read:"Lire",append:"Enrichir",write:"Modifier",control:"Administrer"},container:{read:"Lister",append:"Ajouter",write:"Ajouter",control:"Administrer"}},agent:{anonymous:"Tous les utilisateurs",authenticated:"Utilisateurs connectés"},input:{agent_select:"Ajouter un utilisateur...",name:"Prénom",username:"Identifiant unique",email:"Adresse e-mail",username_or_email:"Identifiant ou adresse e-mail"},message:{resource_show_forbidden:"Vous n'avez pas la permission de voir cette ressource",resource_edit_forbidden:"Vous n'avez pas la permission d'éditer cette ressource",resource_delete_forbidden:"Vous n'avez pas la permission d'effacer cette ressource",resource_control_forbidden:"Vous n'avez pas la permission d'administrer cette ressource",container_create_forbidden:"Vous n'avez pas la permission de créer des ressources",container_list_forbidden:"Vous n'avez pas la permission de voir ces ressources",user_not_allowed_to_login:"Vous n'avez pas le droit de vous connecter avec ce compte",user_email_not_found:"Aucun compte trouvé avec cette adresse mail",user_email_exist:"Un compte existe déjà avec cette adresse mail",username_exist:"Un compte existe déjà avec cet identifiant",username_invalid:"Cet identifiant n'est pas valide. Seuls les lettres minuscules, les chiffres, les points et les tirets sont autorisés",new_user_created:"Votre compte a été créé avec succès",user_connected:"Vous êtes maintenant connecté",user_disconnected:"Vous êtes maintenant déconnecté",bad_request:"Requête erronée (Message d'erreur renvoyé par le serveur: %{error})",account_settings_updated:"Les paramètres de votre compte ont été mis à jour avec succès",login_to_continue:"Veuillez vous connecter pour continuer"}}};export{Yt as AuthDialog,bt as CreateWithPermissions,It as DeleteButtonWithPermissions,Tt as EditActionsWithPermissions,Ut as EditToolbarWithPermissions,Nt as EditWithPermissions,zt as ListActionsWithPermissions,Wt as ListWithPermissions,cr as LocalLoginPage,Ht as LoginPage,lr as LogoutButton,At as PermissionsButton,fr as ResourceWithPermissions,Ft as ShowActionsWithPermissions,Vt as ShowWithPermissions,Ht as SsoLoginPage,yr as UserMenu,st as authProvider,Qo as englishMessages,Xo as frenchMessages,Pt as useAgents,br as useCheckAuthenticated,yt as useCheckPermissions,Ko as usePermissionsWithRefetch,er as useSignup};
//# sourceMappingURL=index.es.js.map
