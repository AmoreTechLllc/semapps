import e,{useState as t,useMemo as n,useEffect as r,useRef as a,createContext as o,useContext as i,forwardRef as l,useImperativeHandle as c,createElement as s,cloneElement as u,Children as m}from"react";import{getResources as p,AppBar as f,MenuItemLink as d,Layout as b,useGetIdentity as h,Notification as g,TopToolbar as y,ListButton as v,Create as E,ShowButton as w,Edit as C,useResourceDefinition as O,Link as P,Button as x,CreateButton as k,ExportButton as j,RefreshButton as L,List as S,Pagination as N,useListContext as I,EditButton as T,SimpleList as A,linkToRecord as R,useGetList as _,FilterList as z,FilterListItem as B,useTranslate as D,getFieldLabelTranslationArgs as F,ImageField as M,Show as W,sanitizeListRestProps as U,useCreate as V,useNotify as H,ReferenceInput as q,FormWithRedirect as Z,TextInput as $,required as G,SaveButton as J,useLocale as Y,useInput as X,FieldTitle as K}from"react-admin";import{Grid as Q,Button as ee,TextField as te,Select as ne,MenuItem as re,makeStyles as ae,Hidden as oe,ListItemIcon as ie,Typography as le,Tooltip as ce,Collapse as se,List as ue,useMediaQuery as me,Box as pe,Container as fe,ThemeProvider as de,createMuiTheme as be,Tabs as he,Tab as ge,Card as ye,CardActionArea as ve,CardMedia as Ee,CardContent as we,CircularProgress as Ce,LinearProgress as Oe,Dialog as Pe,DialogTitle as xe,DialogContent as ke,DialogActions as je}from"@material-ui/core";import{Form as Le,Field as Se,useForm as Ne}from"react-final-form";import{useHistory as Ie,useLocation as Te,Link as Ae}from"react-router-dom";import{useSelector as Re,shallowEqual as _e}from"react-redux";import{useLocation as ze,useHistory as Be}from"react-router";import De from"@material-ui/icons/ViewList";import Fe from"@material-ui/icons/ExpandMore";import{createPortal as Me}from"react-dom";import We,{DomUtil as Ue,LatLngBounds as Ve,Map as He,Marker as qe,Popup as Ze,TileLayer as $e}from"leaflet";import"leaflet.markercluster";import{createMuiTheme as Ge,ThemeProvider as Je,makeStyles as Ye}from"@material-ui/core/styles";import Xe from"react-markdown";import Ke from"@material-ui/icons/Add";import Qe from"@material-ui/icons/Cancel";import et from"@material-ui/lab/Autocomplete";import tt from"@material-ui/icons/LocationOn";function nt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pt=function(t){var n=t.input,r=lt(t,["input"]);return e.createElement(te,at({},n,r))},ft=function(t){var n=t.input,r=lt(t,["input"]),a=Re(p,_e);return e.createElement(ne,at({},n,r),a.filter((function(e){return e.hasList})).map((function(t){return e.createElement(re,{value:t.name,key:t.name},t.options.label)})))},dt=function(){var t=Ie(),n=Te().pathname.match(/^\/([^/]+)/),r=n?n[1]:"Organization";return e.createElement(Le,{onSubmit:function(e){var n=e.filter,r=e.type;n?t.push("/".concat(r,"?filter=").concat(encodeURIComponent('{"q": "'.concat(n,'"}')))):t.push("/".concat(r))},initialValues:{type:r},render:function(t){var n=t.handleSubmit;return e.createElement("form",{onSubmit:n},e.createElement(Q,{container:!0,spacing:2},e.createElement(Q,{item:!0,xs:5},e.createElement(Se,{name:"filter",component:pt,placeholder:"Rechercher...",fullWidth:!0})),e.createElement(Q,{item:!0,xs:5},e.createElement(Se,{name:"type",component:ft,fullWidth:!0})),e.createElement(Q,{item:!0,xs:2},e.createElement(ee,{variant:"outlined",type:"submit",fullWidth:!0},"Hop"))))}})},bt=ae({toolbar:{height:56},spacer:{flex:1},searchForm:{flex:2}}),ht=function(t){var n=bt();return e.createElement(f,at({},t,{classes:it({toolbar:n.toolbar},t.classes),color:"primary"}),e.createElement("span",{className:n.spacer}),e.createElement(oe,{only:"xs"},e.createElement("span",{className:n.searchForm},e.createElement(dt,null))),e.createElement("span",{className:n.spacer}))},gt=ae((function(e){return{icon:{minWidth:e.spacing(5)},sidebarIsOpen:{"& a":{paddingLeft:e.spacing(4),transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},sidebarIsClosed:{"& a":{paddingLeft:e.spacing(2),transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}}}})),yt=function(t){var n=t.handleToggle,r=t.sidebarIsOpen,a=t.isOpen,o=t.name,i=t.icon,l=t.children,c=t.dense,s=gt(),u=e.createElement(re,{dense:c,button:!0,onClick:n},e.createElement(ie,{className:s.icon},a?e.createElement(Fe,null):i),e.createElement(le,{variant:"inherit",color:"textSecondary"},o));return e.createElement(e.Fragment,null,r||a?u:e.createElement(ce,{title:o,placement:"right"},u),e.createElement(se,{in:a,timeout:"auto",unmountOnExit:!0},e.createElement(ue,{dense:c,component:"div",disablePadding:!0,className:r?s.sidebarIsOpen:s.sidebarIsClosed},l)))},vt=function(t){var n=t.resource,r=t.onClick,a=t.open;return e.createElement(d,{to:"/".concat(n.name),primaryText:n.options&&n.options.label||n.name,leftIcon:n.icon?e.createElement(n.icon,null):e.createElement(DefaultIcon,null),onClick:r,sidebarIsOpen:a})},Et=ae({appFrame:{marginTop:56},title:{position:"absolute",top:80,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),wt=function(t){var n=t.appBar,r=t.menu,a=(t.userMenu,t.children),o=lt(t,["appBar","menu","userMenu","children"]),i=Et();return e.createElement(b,at({},o,{classes:{appFrame:i.appFrame},appBar:n,menu:r}),e.createElement(le,{variant:"h4",color:"primary",className:i.title,id:"react-admin-title",component:"h1"}),a)};wt.defaultProps={appBar:ht,menu:function(a){var o=a.onMenuClick,i=a.logout,l=a.dense,c=void 0!==l&&l,s=a.openAll,u=void 0!==s&&s,m=me((function(e){return e.breakpoints.down("xs")})),f=Re((function(e){return e.admin.ui.sidebarOpen})),d=Re(p),b=ze().pathname.match(/^\/([^/]+)/),h=b?b[1]:null,g=ct(t({}),2),y=g[0],v=g[1],E=n((function(){var e=d.reduce((function(e,t){return t.options&&t.options.parent&&e.push(t.options.parent),e}),[]);return d.filter((function(t){return e.includes(t.name)}))}),[d]);return r((function(){var e=d.find((function(e){return e.name===h})),t=E.find((function(t){return t.name===e.options.parent})),n=E.reduce((function(e,n){return e[n.name]=u||t&&n.name===t.name,e}),{});v((function(e){return it(it({},n),e)}))}),[E,d,h,u]),e.createElement(pe,{mt:2},E.map((function(t){return e.createElement(yt,{key:t.name,handleToggle:function(){return e=t.name,void v((function(t){return it(it({},t),{},rt({},e,!t[e]))}));var e},isOpen:y[t.name],sidebarIsOpen:f,name:t.options&&t.options.label||t.name,icon:t.icon?e.createElement(t.icon,null):e.createElement(De,null),dense:c},d.filter((function(e){return e.hasList&&e.options.parent===t.name})).map((function(t){return e.createElement(vt,{key:t.name,resource:t,onClick:o,open:f})})))})),d.filter((function(e){return e.hasList&&(!e.options||!e.options.parent)})).map((function(t){return e.createElement(vt,{key:t.name,resource:t,onClick:o,open:f})})),m&&i)}};var Ct=ae((function(e){return{header:{position:"relative",height:65},logo:rt({position:"absolute",top:-15,height:110,width:110},e.breakpoints.down("xs"),{position:"relative",top:0,width:65,height:65})}})),Ot=function(t){var n=t.userMenu,r=t.logout,a=Ct(),o=h().identity;return e.createElement(pe,{bgcolor:"primary.main"},e.createElement(fe,{maxWidth:"lg",className:a.header},e.createElement(Q,{container:!0},e.createElement(Q,{item:!0,xs:12,sm:n?3:6},e.createElement(Ae,{to:"/"},e.createElement("img",{src:process.env.PUBLIC_URL+"/logo192.png",alt:"SemApps",className:a.logo}))),e.createElement(oe,{xsDown:!0},e.createElement(Q,{item:!0,sm:6},e.createElement(pe,{pt:2},e.createElement(dt,null)))),n&&e.createElement(Q,{item:!0,sm:3,align:"right"},e.createElement(pe,{pt:o&&""!==o.id?2:1},e.cloneElement(n,{logout:r}))))))},Pt=function(){var e=Te().pathname;return r((function(){window.scrollTo(0,0)}),[e]),null},xt=function(t){var n=t.appBar,r=t.title,a=t.open,o=t.logout,i=t.theme,l=t.children,c=me(i.breakpoints.down("xs"));return e.createElement(de,{theme:i},e.createElement(Pt,null),e.createElement(n,{title:r,open:a,logout:o}),e.createElement(fe,{maxWidth:"lg",disableGutters:c},e.createElement(pe,{mb:{xs:0,sm:5}},l)),e.createElement(g,null))};xt.defaultProps={appBar:Ot};var kt=be(),jt=be({palette:{primary:{main:"#28ccfb"},secondary:{main:"#bcef5b"},grey:{main:"#e0e0e0"}},typography:{details:{fontSize:8}},overrides:{RaChipField:{chip:{marginLeft:0,marginTop:0,marginRight:8,marginBottom:8}},RaShow:{card:rt({padding:25},kt.breakpoints.down("xs"),{padding:15})},RaList:{content:rt({padding:25},kt.breakpoints.down("xs"),{padding:15})},RaListToolbar:{toolbar:rt({},kt.breakpoints.down("xs"),{height:0,minHeight:0})},RaSingleFieldList:{root:{marginTop:0,marginBottom:0}},MuiTab:{labelIcon:{paddingTop:0}}}}),Lt=function(t){var n=t.basePath,r=t.className,a=t.data,o=t.hasList,i=lt(t,["basePath","className","data","hasList"]);return e.createElement(y,at({className:r},i),o&&e.createElement(v,{basePath:n,record:a}))},St=function(t){return e.createElement(E,at({actions:e.createElement(Lt,null),redirect:"show"},t))},Nt=function(t){var n=t.basePath,r=t.className,a=t.data,o=t.hasList,i=t.hasShow,l=lt(t,["basePath","className","data","hasList","hasShow"]);return e.createElement(y,at({className:r},l),o&&e.createElement(v,{basePath:n,record:a}),i&&e.createElement(w,{basePath:n,record:a}))},It=function(t){return e.createElement(C,at({actions:e.createElement(Nt,null)},t))},Tt=function(t){var n=t.bulkActions,r=t.basePath,a=t.currentSort,o=t.displayedFilters,i=t.exporter,l=t.filters,c=t.filterValues,s=t.onUnselectItems,u=t.resource,m=t.selectedIds,p=t.showFilter,f=t.total,d=t.views,b=t.currentView,h=t.setView,g=me((function(e){return e.breakpoints.down("xs")})),v=O({}),E=new URLSearchParams(ze().search);return e.createElement(y,null,d&&Object.entries(d).filter((function(e){return ct(e,1)[0]!==b})).map((function(t){var n=ct(t,2),r=n[0],a=n[1];return E.set("view",r),E.set("page",1),E.set("perPage",a.perPage),a.sort&&(E.set("sort",a.sort.field),E.set("order",a.sort.order)),e.createElement(P,{key:r,to:"?"+E.toString()},e.createElement(x,{onClick:function(){return h(r)},label:a.label},e.createElement(a.icon)))})),n&&e.cloneElement(n,{basePath:r,filterValues:c,resource:u,selectedIds:m,onUnselectItems:s}),l&&e.cloneElement(l,{resource:u,showFilter:p,displayedFilters:o,filterValues:c,context:"button"}),v.hasCreate&&e.createElement(k,{basePath:r}),!g&&e.createElement(j,{disabled:0===f,resource:u,sort:a,filter:c,exporter:i}),!g&&e.createElement(L,null))},At=function(t){return e.createElement(N,at({rowsPerPageOptions:[25,50,100]},t))},Rt=function(t){var n=t.children,r=lt(t,["children"]);return e.createElement(S,at({actions:e.createElement(Tt,null),sort:{field:"pair:label",order:"DESC"},pagination:e.createElement(At,null),perPage:50},r),n)},_t=function(n){n.children;var r=n.views,a=lt(n,["children","views"]),o=new URLSearchParams(ze().search),i=o.has("view")?o.get("view"):Object.keys(r)[0],l=ct(t(i),2),c=l[0],s=l[1];return e.createElement(S,at({actions:e.createElement(Tt,{views:r,currentView:c,setView:s}),pagination:r[c].pagination,perPage:r[i].perPage,sort:r[i].sort},a),r[c].list)};function zt(e,t){const n=a(t);r((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}const Bt=o(null),Dt=Bt.Provider;function Ft(){const e=i(Bt);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Mt(t){function n(n,r){const{instance:a,context:o}=t(n).current;return c(r,()=>a),null==n.children?null:e.createElement(Dt,{value:o},n.children)}return l(n)}function Wt(e){function n(n,a){const[o,i]=t(!1),{instance:l}=e(n,i).current;c(a,()=>l),r((function(){o&&l.update()}),[l,o,n.children]);const s=l._contentNode;return s?Me(n.children,s):null}return l(n)}function Ut(e){function t(t,n){const{instance:r}=e(t).current;return c(n,()=>r),null}return l(t)}function Vt(e){return function(t){const n=Ft(),o=e(t,n),{instance:i}=o.current,l=a(t.position),{position:c}=t;return r((function(){return i.addTo(n.map),function(){i.remove()}}),[n.map,i]),r((function(){null!=c&&c!==l.current&&(i.setPosition(c),l.current=c)}),[i,c]),o}}function Ht(e,t){const n=a();r((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}function qt(e,t){var n;const r=null!=(n=e.pane)?n:t.pane;return r?{...e,pane:r}:e}function Zt(e,t){return function(n,r){const a=Ft(),o=e(qt(n,a),a);return zt(a.map,n.attribution),Ht(o.current,n.eventHandlers),t(o.current,a,n,r),o}}function $t(e){return e.split(" ").filter(Boolean)}function Gt(e,t){$t(t).forEach(t=>{Ue.addClass(e,t)})}function Jt(e,t){$t(t).forEach(t=>{Ue.removeClass(e,t)})}function Yt(e,t){return null==t?function(t,n){return a(e(t,n))}:function(n,o){const i=a(e(n,o)),l=a(n),{instance:c}=i.current;return r((function(){l.current!==n&&(t(c,n,l.current),l.current=n)}),[c,n,o]),i}}function Xt(e,t){r((function(){var n;const r=null!=(n=t.layerContainer)?n:t.map;return r.addLayer(e.instance),function(){r.removeLayer(e.instance)}}),[t,e])}function Kt(e){return function(t){const n=Ft(),r=e(qt(t,n),n);return zt(n.map,t.attribution),Ht(r.current,t.eventHandlers),Xt(r.current,n),r}}function Qt(e,t){const n=a();r((function(){if(t.pathOptions!==n.current){var r;const a=null!=(r=t.pathOptions)?r:{};e.instance.setStyle(a),n.current=a}}),[e,t])}function en(e){return function(t){const n=Ft(),r=e(qt(t,n),n);return Ht(r.current,t.eventHandlers),Xt(r.current,n),Qt(r.current,t),r}}function tn(e,t){return Mt(Kt(Yt(e,t)))}function nn(e,t){return Wt(Zt(Yt(e),t))}function rn(e,t){return Ut(Kt(Yt(e,t)))}function an(e,t,n){const{opacity:r,zIndex:a}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=a&&a!==n.zIndex&&e.setZIndex(a)}var on=Object.freeze({__proto__:null,useAttribution:zt,updateCircle:function(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)},createContainerComponent:Mt,createDivOverlayComponent:Wt,createLeafComponent:Ut,CONTEXT_VERSION:1,LeafletContext:Bt,LeafletProvider:Dt,useLeafletContext:Ft,createControlHook:Vt,createDivOverlayHook:Zt,addClassName:Gt,removeClassName:Jt,updateClassName:function(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&Jt(e,t),null!=n&&n.length>0&&Gt(e,n))},createElementHook:Yt,useEventHandlers:Ht,createControlComponent:function(e){return Ut(Vt(Yt((function(t,n){return{instance:e(t),context:n}}))))},createLayerComponent:tn,createOverlayComponent:nn,createPathComponent:function(e,t){return Mt(en(Yt(e,t)))},createTileLayerComponent:rn,updateGridLayer:an,createLayerHook:Kt,useLayerLifecycle:Xt,updateMediaOverlay:function(e,t,n){t.bounds instanceof Ve&&t.bounds!==n.bounds&&e.setBounds(t.bounds),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=t.zIndex&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)},withPane:qt,createPathHook:en,usePathOptions:Qt});function ln(e){const t=Ft().map;return r((function(){return t.on(e),function(){t.off(e)}}),[t,e]),t}function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sn({children:o,className:i,id:l,placeholder:c,style:s,whenCreated:u,...m}){const p=a(null),f=function(e,n){const[a,o]=t(null);return r(()=>{if(null!==e.current&&null===a){const t=new He(e.current,n);null!=n.center&&null!=n.zoom?t.setView(n.center,n.zoom):null!=n.bounds&&t.fitBounds(n.bounds,n.boundsOptions),null!=n.whenReady&&t.whenReady(n.whenReady),o(t)}},[e,a,n]),a}(p,m),d=a(!1);r(()=>{null!=f&&!1===d.current&&null!=u&&(d.current=!0,u(f))},[f,u]);const[b]=t({className:i,id:l,style:s}),h=n(()=>f?{__version:1,map:f}:null,[f]),g=h?e.createElement(Dt,{value:h},o):null!=c?c:null;return e.createElement("div",cn({},b,{ref:p}),g)}const un=tn((function({position:e,...t},n){const r=new qe(e,t);return{instance:r,context:{...n,overlayContainer:r}}}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),mn=nn((function(e,t){return{instance:new Ze(e,t.overlayContainer),context:t}}),(function(e,t,n,a){const{onClose:o,onOpen:i,position:l}=n;r((function(){const{instance:n}=e;function r(e){e.popup===n&&(n.update(),a(!0),null==i||i())}function c(e){e.popup===n&&(a(!1),null==o||o())}return t.map.on({popupopen:r,popupclose:c}),null==t.overlayContainer?(null!=l&&n.setLatLng(l),n.openOn(t.map)):t.overlayContainer.bindPopup(n),function(){t.map.off({popupopen:r,popupclose:c}),null==t.overlayContainer?t.map.removeLayer(n):t.overlayContainer.unbindPopup()}}),[e,t,a,o,i,l])})),pn=rn((function({url:e,...t},n){return{instance:new $e(e,qt(t,n)),context:n}}),an);var fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function dn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bn(e,t){return e(t={exports:{}},t.exports),t.exports}var hn=dn(bn((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=We)&&n.__esModule?n:{default:n};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=(0,on.createPathComponent)((function(e,t){e.children;var n=s(e,["children"]),a={},i={};Object.entries(n).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];return n.startsWith("on")?i[n]=r:a[n]=r}));var c=new r.default.markerClusterGroup(a);return Object.entries(i).forEach((function(e){var t=l(e,2),n=t[0],r=t[1],a="cluster".concat(n.substring(2).toLowerCase());c.on(a,r)})),{instance:c,context:o(o({},t),{},{layerContainer:c})}}));t.default=u}))),gn=function(){var e=Be(),t=new URLSearchParams(e.location.search);return ln({moveend:function(n){t.set("lat",n.target.getCenter().lat),t.set("lng",n.target.getCenter().lng),e.replace({pathname:e.location.pathname,search:"?"+t.toString()})},zoomend:function(n){t.set("zoom",n.target.getZoom()),e.replace({pathname:e.location.pathname,search:"?"+t.toString()})}}),null},yn=function(t){var n=t.latitude,r=t.longitude,a=t.label,o=t.description,i=t.popupContent,l=t.center,c=t.zoom,s=lt(t,["latitude","longitude","label","description","popupContent","center","zoom"]),u=I(),m=u.ids,p=u.data,f=u.basePath,d=new URLSearchParams(ze().search);return l=d.has("lat")&&d.has("lng")?[d.get("lat"),d.get("lng")]:l,c=d.has("zoom")?d.get("zoom"):c,e.createElement(sn,at({style:{height:700},center:l,zoom:c},s),e.createElement(pn,{attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.createElement(hn,{showCoverageOnHover:!1},m.map((function(t){var l=it(it({},p[t]),{},{latitude:n&&n(p[t]),longitude:r&&r(p[t]),label:a&&a(p[t]),description:o&&o(p[t])});return l.latitude&&l.longitude?e.createElement(un,{key:t,position:[l.latitude,l.longitude]},e.createElement(mn,null,e.createElement(i,{record:l,basePath:f}))):null}))),e.createElement(gn,null))};yn.defaultProps={height:700,center:[47,2.213749],zoom:6,scrollWheelZoom:!1,popupContent:function(t){var n=t.record,r=t.basePath,a=O({});return e.createElement(e.Fragment,null,n.label&&e.createElement(le,{variant:"h5"},n.label),n.description&&e.createElement(le,null,n.description.length>150?n.description.substring(0,150)+"...":n.description),a.hasShow&&e.createElement(w,{basePath:r,record:n}),a.hasEdit&&e.createElement(T,{basePath:r,record:n}))}};var vn=ae((function(e){return{tab:{minWidth:55}}})),En=function(){var t=Be(),n=vn(),r=ze().pathname.match(/^\/([^/]+)/),a=r?r[1]:null,o=Re(p,_e),i=me((function(e){return e.breakpoints.down("xs")}));return e.createElement(he,{value:a,onChange:function(e,n){return t.push("/"+n)},indicatorColor:"primary",textColor:"primary",scrollButtons:"auto"},o.filter((function(e){return e.hasList})).map((function(t){return e.createElement(ge,{key:t.name,icon:e.createElement(t.icon),label:i?void 0:t.options.label,value:t.name,className:n.tab})})))},wn=Ge({overrides:{MuiListItem:{root:{padding:15,paddingBottom:15,paddingTop:15,marginBottom:10,borderStyle:"solid",borderColor:"#e0e0e0",borderWidth:1}}}}),Cn=function(t){return e.createElement(Je,{theme:wn},e.createElement(A,t))},On=dn(bn((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(r=e)&&r.__esModule?r:{default:r};var c={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.reCalculateColumnCount=n.reCalculateColumnCount.bind(n),n.reCalculateColumnCountDebounce=n.reCalculateColumnCountDebounce.bind(n);var r=void 0;return r=n.props.breakpointCols&&n.props.breakpointCols.default?n.props.breakpointCols.default:parseInt(n.props.breakpointCols)||2,n.state={columnCount:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"componentDidUpdate",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"reCalculateColumnCountDebounce",value:function(){var e=this;window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((function(){e.reCalculateColumnCount()}))):this.reCalculateColumnCount()}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!==(void 0===t?"undefined":o(t))&&(t={default:parseInt(t)||2});var n=1/0,r=t.default||2;for(var a in t){var i=parseInt(a);i>0&&e<=i&&i<n&&(n=i,r=t[a])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,t=new Array(e),n=[].concat(this.props.children||[]),r=0;r<n.length;r++){var a=r%e;t[a]||(t[a]=[]),t[a].push(n[r])}return t}},{key:"renderColumns",value:function(){var e=this.props,t=e.column,n=e.columnAttrs,r=void 0===n?{}:n,o=e.columnClassName,i=this.itemsInColumns(),c=100/i.length+"%",s=o;"string"!=typeof s&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===s&&(s="my-masonry-grid_column"));var u=a({},t,r,{style:a({},r.style,{width:c}),className:s});return i.map((function(e,t){return l.default.createElement("div",a({},u,{key:t}),e)}))}},{key:"logDeprecated",value:function(e){console.error("[Masonry]",e)}},{key:"render",value:function(){var e=this.props,t=(e.children,e.breakpointCols,e.columnClassName,e.columnAttrs,e.column,e.className),n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),r=t;return"string"!=typeof t&&(this.logDeprecated('The property "className" requires a string'),void 0===t&&(r="my-masonry-grid")),l.default.createElement("div",a({},n,{className:r}),this.renderColumns())}}]),t}(l.default.Component);s.defaultProps=c,n.default=s}))),Pn=ae((function(){return{grid:{display:"flex",marginLeft:-20,width:"auto"},column:{paddingLeft:20,backgroundClip:"padding-box"},card:{marginBottom:20},media:{height:0,paddingTop:"56.25%"}}})),xn=function(t){var n=t.image,r=t.content,a=t.breakpointCols,o=t.linkType,i=Pn(),l=I(),c=l.ids,s=l.data,u=l.basePath;return e.createElement(On,{breakpointCols:a,className:i.grid,columnClassName:i.column},c.map((function(t){var a="function"==typeof n?n(s[t]):n;return e.createElement(ye,{key:t,className:i.card},e.createElement(P,{to:R(u,t)+"/"+o},e.createElement(ve,null,a&&e.createElement(Ee,{className:i.media,image:a}),r&&e.createElement(we,null,r(s[t])))))})))};xn.defaultProps={breakpointCols:{default:3,900:2,450:1},linkType:"edit"};var kn=function(t){var n=t.reference,r=t.source,a=t.limit,o=t.label,i=t.icon,l=_(n,{page:1,perPage:a},{},{}),c=l.data,s=l.ids,u=Re(p,_e).filter((function(e){return(null==e?void 0:e.name)===n}))[0];return e.createElement(z,{label:o||u.options.label,icon:i||e.createElement(u.icon)},s.map((function(t){return e.createElement(B,{key:t,label:c[t]["pair:label"],value:rt({},r,t)})})))};kn.defaultProps={limit:20};var jn=ae((function(){return{rightLabel:{color:"grey",textAlign:"right",borderBottom:"1px dashed #c0c0c0",paddingBottom:10,marginBottom:10}}})),Ln=function(t){var n=t.label,r=t.children,a=t.record,o=t.resource,i=t.source,l=t.basePath,c=jn(),s=D();return a[i]?e.createElement(pe,{mb:4},e.createElement(pe,{className:c.rightLabel},s.apply(void 0,st(F({label:n,resource:o,source:i})))),e.createElement(pe,{m:0},e.cloneElement(r,{record:a,resource:o,basePath:l}))):null},Sn=function(t){var n=t.basePath,r=t.children,a=t.record,o=t.resource,i=t.showLabel,l=lt(t,["basePath","children","record","resource","showLabel"]);return e.createElement(Q,at({item:!0},l),e.Children.map(r,(function(t){return t&&e.isValidElement(t)?e.createElement("div",{key:t.props.source},t.props.addLabel&&i?e.createElement(Ln,{record:a,resource:o,basePath:n,label:t.props.label,source:t.props.source,disabled:!1},t):"string"==typeof t.type?t:e.cloneElement(t,{record:a,resource:o,basePath:n})):null})))},Nn=ae((function(){return{root:{flexGrow:1}}})),In=function(t){var n=t.basePath,r=t.children,a=t.record,o=t.resource,i=Nn();return e.createElement("div",{className:i.root},e.createElement(Q,{container:!0,spacing:5},e.Children.map(r,(function(t){return t&&e.isValidElement(t)?e.cloneElement(t,{resource:o,record:a,basePath:n}):null}))))},Tn=function(e){return e.stopPropagation()},An=function(){},Rn=function(e){var t=e.children,n=e.xs,r=e.linkType,a=I(),o=a.ids,i=a.data,l=a.basePath;return s(Q,{container:!0,spacing:3},o.map((function(e){return s(Q,{item:!0,xs:n,key:e},s(Ae,{to:R(l,e,r),onClick:Tn},u(m.only(t),{record:i[e],basePath:l,onClick:An})))})))};Rn.defaultProps={xs:6,linkType:"edit"};var _n=ae((function(){return{line:{borderBottom:"1px solid #e0e0e0",marginTop:-6,marginBottom:7}}})),zn=function(t){var n=t.basePath,r=t.children,a=t.record,o=t.resource,i=_n(),l=D();return e.createElement(pe,null,e.Children.map(r,(function(t){return t&&a[t.props.source]&&e.isValidElement(t)?e.createElement("div",{key:t.props.source},t.props.addLabel?e.createElement(Q,{container:!0,spacing:3,className:i.line},e.createElement(Q,{item:!0,xs:3},e.createElement(le,{color:"textSecondary",align:"right",variant:"body2"},l.apply(void 0,st(F({label:t.props.label,resource:o,source:t.props.source}))))),e.createElement(Q,{item:!0,xs:9},e.createElement(le,{variant:"body2"},e.cloneElement(t,{record:a,resource:o,basePath:n})))):"string"==typeof t.type?t:e.cloneElement(t,{record:a,resource:o,basePath:n})):null})))},Bn=ae((function(){return{loader:{width:"100%",backgroundColor:"#e0e0e0",paddingTop:100,paddingBottom:100},image:{width:"100%",maxHeight:"none"}}})),Dn=function(t){var n=t.record,r=t.source,a=t.defaultImage,o=lt(t,["record","source","defaultImage"]),i=Bn();if(n[r]){if(n[r].rawFile instanceof File)return e.createElement(pe,{align:"center",className:i.loader},e.createElement(Ce,null))}else n[r]=a;return e.createElement(M,at({record:n,source:r,classes:{image:i.image}},o))},Fn=ae((function(){return{root:{flexGrow:1}}})),Mn=function(t){var n=t.basePath,r=t.children,a=t.record,o=t.resource,i=t.image,l=t.defaultImage,c=Fn();return e.createElement("div",{className:c.root},e.createElement(le,{variant:"h3",color:"primary",component:"h1",id:"react-admin-title"}),e.createElement(Q,{container:!0,spacing:5},e.createElement(Q,{item:!0,xs:12,sm:5},e.createElement(Dn,{record:a,source:i,defaultImage:l})),e.createElement(Q,{item:!0,xs:12,sm:7},e.createElement(zn,{record:a,resource:o,basePath:n},r))))};Mn.defaultProps={defaultImage:process.env.PUBLIC_URL+"/logo192.png"};var Wn=function(t){var n=t.basePath,r=t.className,a=t.data,o=t.hasList,i=t.hasEdit,l=lt(t,["basePath","className","data","hasList","hasEdit"]);return e.createElement(y,at({className:r},l),o&&e.createElement(v,{basePath:n,record:a}),i&&e.createElement(T,{basePath:n,record:a}))},Un=function(t){return e.createElement(W,at({actions:e.createElement(Wn,null)},t))},Vn=ae((function(){return{parent:{position:"relative"},image:{width:"100%",borderRadius:"50%"},child:{position:"absolute",bottom:0,left:0,right:0,paddingTop:2,paddingBottom:2,paddingLeft:6,paddingRight:6},caption:{color:"black",fontSize:13}}})),Hn=function(t){var n=t.record,r=Vn(),a=n?n["pair:firstName"]+" "+n["pair:lastName"]:"";return e.createElement(pe,{className:r.parent},e.createElement("img",{src:n&&n.image||process.env.PUBLIC_URL+"/unknown-user.png",className:r.image,alt:a}),e.createElement(pe,{bgcolor:"secondary.main",className:r.child,borderRadius:7},e.createElement(le,{align:"center",className:r.caption,noWrap:!0},a)))},qn=function(t){var n=t.source,r=t.record;return r&&r[n]?e.createElement(Xe,{source:r[n]}):null},Zn=bn((function(e){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var i=n.apply(null,a);i&&e.push(i)}else if("object"===o)for(var l in a)t.call(a,l)&&a[l]&&e.push(l)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),$n=Ye((function(e){return{root:{display:"flex",flexWrap:"wrap"},link:{}}})),Gn=function(e){return e.stopPropagation()},Jn=function(){},Yn=function(e){e.classes;var t=e.className,n=e.children,r=e.linkType,a=void 0===r?"edit":r,o=e.separator,i=void 0===o?",":o,l=lt(e,["classes","className","children","linkType","separator"]),c=I(e),p=c.ids,f=c.data,d=c.loaded,b=c.resource,h=c.basePath,g=$n(e);return!1===d?s(Oe,null):s("div",at({className:Zn(g.root,t)},U(l)),p.map((function(e,t){var r=!!a&&R(h,e,a);return r?s("span",{key:e},s(P,{classes:g.link,to:r,onClick:Gn},u(m.only(n),{record:f[e],resource:b,basePath:h,onClick:Jn})),t<p.length-1&&i+" "):u(m.only(n),{key:e,record:f[e],resource:b,basePath:h})})))},Xn=ae({root:{display:"flex",alignItems:"center"}}),Kn=function(n){var r=n.label,a=n.reference,o=n.source,i=n.children,l=Xn(),c=ct(t(!1),2),s=c[0],u=c[1],m=ct(V(a),2),p=m[0],f=m[1].loading,d=D(),b=H(),h=Ne(),g=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p({payload:{data:t}},{onSuccess:function(e){var t=e.data;u(!1),h.change(o,t["@id"])},onFailure:function(e){var t=e.error;b(t.message,"error")}});case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){nt(o,r,a,i,l,"next",e)}function l(e){nt(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return e.createElement("div",{className:l.root},e.createElement(q,{label:r,reference:a,source:o},i),e.createElement(x,{onClick:function(){return u(!0)},label:"ra.action.create"},e.createElement(Ke,null)),e.createElement(Pe,{fullWidth:!0,open:s,onClose:function(){return u(!1)}},e.createElement(xe,null,d("ra.action.create")),e.createElement(Z,{resource:a,save:g,render:function(t){var n=t.handleSubmitWithRedirect,r=t.pristine,a=t.saving;return e.createElement(e.Fragment,null,e.createElement(ke,null,e.createElement($,{label:"Titre",source:"pair:label",validate:G(),fullWidth:!0})),e.createElement(je,null,e.createElement(x,{label:"ra.action.cancel",onClick:function(){return u(!1)},disabled:f},e.createElement(Qe,null)),e.createElement(J,{handleSubmitWithRedirect:n,pristine:r,saving:a,disabled:f})))}})))},Qn=bn((function(e){
// @license MIT
!function(t,n){e.exports?e.exports=n():this.Diacritics=n()}(0,(function(){for(var e={map:{}},t=[{base:" ",letters:" "},{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",letters:"Þ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"ff",letters:"ﬀ"},{base:"fi",letters:"ﬁ"},{base:"fl",letters:"ﬂ"},{base:"ffi",letters:"ﬃ"},{base:"ffl",letters:"ﬄ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nñnⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"߀oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oe",letters:"Œœ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"ss",letters:"ß"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",letters:"þ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],n=0,r=t.length;n<r;n++)for(var a=t[n].letters.split(""),o=0,i=a.length;o<i;o++)e.map[a[o]]=t[n].base;return e.clean=function(t){if(!t||!t.length||t.length<1)return"";for(var n,r="",a=t.split(""),o=0,i=a.length;o<i;o++)r+=(n=a[o])in e.map?e.map[n]:n;return r},e}))})).clean,er=/[.*+?^${}()|[\]\\]/g,tr=/[a-z0-9_]/i,nr=/\s+/;var rr=function(e,t){return e=Qn(e),(t=Qn(t)).trim().split(nr).filter((function(e){return e.length>0})).reduce((function(t,n){var r=n.length,a=tr.test(n[0])?"\\b":"",o=new RegExp(a+n.replace(er,"\\$&"),"i"),i=e.search(o);return i>-1&&(t.push([i,i+r]),e=e.slice(0,i)+new Array(r+1).join(" ")+e.slice(i+r)),t}),[]).sort((function(e,t){return e[0]-t[0]}))},ar=/^\s+|\s+$/g,or=/^[-+]0x[0-9a-f]+$/i,ir=/^0b[01]+$/i,lr=/^0o[0-7]+$/i,cr=parseInt,sr="object"==typeof fn&&fn&&fn.Object===Object&&fn,ur="object"==typeof self&&self&&self.Object===Object&&self,mr=sr||ur||Function("return this")(),pr=Object.prototype.toString,fr=Math.max,dr=Math.min,br=function(){return mr.Date.now()};function hr(e,t,n){var r,a,o,i,l,c,s=0,u=!1,m=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=a;return r=a=void 0,s=t,i=e.apply(o,n)}function d(e){return s=e,l=setTimeout(h,t),u?f(e):i}function b(e){var n=e-c;return void 0===c||n>=t||n<0||m&&e-s>=o}function h(){var e=br();if(b(e))return g(e);l=setTimeout(h,function(e){var n=t-(e-c);return m?dr(n,o-(e-s)):n}(e))}function g(e){return l=void 0,p&&r?f(e):(r=a=void 0,i)}function y(){var e=br(),n=b(e);if(r=arguments,a=this,c=e,n){if(void 0===l)return d(c);if(m)return l=setTimeout(h,t),f(c)}return void 0===l&&(l=setTimeout(h,t)),i}return t=yr(t)||0,gr(n)&&(u=!!n.leading,o=(m="maxWait"in n)?fr(yr(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==l&&clearTimeout(l),s=0,r=c=a=l=void 0},y.flush=function(){return void 0===l?i:g(br())},y}function gr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function yr(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==pr.call(e)}(e))return NaN;if(gr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=gr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ar,"");var n=ir.test(e);return n||lr.test(e)?cr(e.slice(2),n?2:8):or.test(e)?NaN:+e}var vr=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return gr(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),hr(e,t,{leading:r,maxWait:t,trailing:a})},Er=ae((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}})),wr=function(e,t){return e.place_name?e.place_name:"string"==typeof t?e[t]:"function"==typeof t?t(e):void 0},Cr=function(a){var o=a.config,i=(a.record,a.resource),l=a.source,c=a.label,s=(a.basePath,a.parse),u=a.optionText,m=lt(a,["config","record","resource","source","label","basePath","parse","optionText"]),p=Er(),f=Y(),d=D(),b=ct(t(""),2),h=b[0],g=b[1],y=ct(t([]),2),v=y[0],E=y[1],w=X(it({resource:i,source:l},m)),C=w.input,O=C.value,P=C.onChange,x=w.isRequired,k=n((function(){return vr((function(e,t){var n=new URL("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,".json"));o.language||(o.language=f),Object.entries(o).forEach((function(e){var t=ct(e,2),r=t[0],a=t[1];Array.isArray(a)?a=a.join(","):"boolean"==typeof a&&(a=a?"true":"false"),n.searchParams.set(r,a)})),fetch(n.toString()).then((function(e){return e.json()})).then((function(e){return t(e)}))}),200)}),[o,f]);return r((function(){h&&h!==wr(O,u)&&k(h,(function(e){return E(e.features)}))}),[O,h,k]),e.createElement(et,{autoComplete:!0,value:O||null,options:O?[O].concat(st(v)):v,filterSelectedOptions:!0,filterOptions:function(e){return e},getOptionLabel:function(e){return wr(e,u)},getOptionSelected:function(e,t){return wr(e,u)===wr(t,u)},onChange:function(e,t){t&&(t=s(t)),P(t),E([])},onInputChange:function(e,t){return g(t)},noOptionsText:d("ra.navigation.no_results"),renderInput:function(t){return e.createElement(te,at({},t,{label:""!==c&&!1!==c&&e.createElement(K,{label:c,source:l,resource:i,isRequired:x})},m))},renderOption:function(t){var n=rr(t.text,h),r=function(e,t){var n=[];return 0===t.length?n.push({text:e,highlight:!1}):t[0][0]>0&&n.push({text:e.slice(0,t[0][0]),highlight:!1}),t.forEach((function(r,a){var o=r[0],i=r[1];n.push({text:e.slice(o,i),highlight:!0}),a===t.length-1?i<e.length&&n.push({text:e.slice(i,e.length),highlight:!1}):i<t[a+1][0]&&n.push({text:e.slice(i,t[a+1][0]),highlight:!1})})),n}(t.text,n);return e.createElement(Q,{container:!0,alignItems:"center"},e.createElement(Q,{item:!0},e.createElement(tt,{className:p.icon})),e.createElement(Q,{item:!0,xs:!0},"string"==typeof r?r:r.map((function(t,n){return e.createElement("span",{key:n,style:{fontWeight:t.highlight?700:400}},t.text)})),e.createElement(le,{variant:"body2",color:"textSecondary"},t.place_name)))}})};Cr.defaultProps={variant:"filled",margin:"dense"};export{ht as AppBar,Sn as Column,In as ColumnShowLayout,St as Create,Lt as CreateActions,It as Edit,Nt as EditActions,Rn as GridList,Mn as Hero,wt as Layout,Rt as List,Tt as ListActions,Cr as MapBoxInput,yn as MapList,qn as MarkdownField,xn as MasonryList,_t as MultiViewsList,kn as ReferenceFilter,Kn as ReferenceQuickCreateInput,Yn as SeparatedListField,Un as Show,Wn as ShowActions,Ot as SimpleAppBar,xt as SimpleLayout,Cn as SimpleList,En as TabsMenu,Hn as UserIcon,jt as theme};
