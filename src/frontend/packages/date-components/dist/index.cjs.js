"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@material-ui/pickers"),r=require("react-admin"),n=require("@mui/material"),a=require("@date-io/date-fns"),o=require("@mui/icons-material/Clear"),i=require("@fullcalendar/react"),l=require("@fullcalendar/daygrid"),u=require("@mui/styles/makeStyles"),c=require("react-router-dom"),s=require("@fullcalendar/list");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=p(e),f=p(a),m=p(o),b=p(i),g=p(l),v=p(u),y=p(s);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return function(t){return("0".repeat(e)+t).slice(-e)}},D=C(4),T=C(2),w=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/,j=function(e){if(!(e instanceof Date)||isNaN(e.getDate()))return"";var t=D(e.getFullYear()),r=T(e.getMonth()+1),n=T(e.getDate()),a=T(e.getHours()),o=T(e.getMinutes());return"".concat(t,"-").concat(r,"-").concat(n,"T").concat(a,":").concat(o)},x=function(e){return null==e||""===e?"":e instanceof Date?j(e):w.test(e)?e:j(new Date(e))},E=function(e){return e?new Date(e):""},S=["allowEmpty","alwaysOn","basePath","component","defaultValue","format","formClassName","initialValue","initializeForm","input","isRequired","label","limitChoicesToValue","locale","meta","options","optionText","optionValue","parse","record","resource","source","textAlign","translate","translateChoice","labelTime"],I=["PickerComponent","format","label","options","source","resource","helperText","margin","onBlur","onChange","onFocus","parse","validate","variant","defaultValue","providerOptions","pickerVariant","stringFormat","allowClear"],q=function(a){var o=a.PickerComponent,i=a.format,l=void 0===i?x:i,u=a.label,c=a.options,s=a.source,p=a.resource,b=a.helperText,g=a.margin,v=void 0===g?"dense":g,y=a.onBlur,C=a.onChange,D=a.onFocus,T=a.parse,w=void 0===T?E:T,j=a.validate,q=a.variant,V=void 0===q?"filled":q;a.defaultValue;var F,M=a.providerOptions,B=M.utils,L=M.locale,R=a.pickerVariant,K=void 0===R?"dialog":R,N=a.stringFormat,_=void 0===N?"ISO":N,z=a.allowClear,A=k(a,I),H=r.useTranslate(),U=r.useInput(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({format:l,onBlur:y,onChange:C,onFocus:D,parse:w,resource:p,source:s,validate:j},A)),Y=U.id,G=U.input,$=U.isRequired,J=U.meta,Q=J.error,W=J.touched,X=e.useCallback((function(e){Date.parse(e)?G.onChange("ISO"===_?e.toISOString():e.toString()):G.onChange(null)}),[]),Z=e.useCallback((function(e){e.stopPropagation(),G.onChange(null)}),[]);return d.default.createElement(t.MuiPickersUtilsProvider,{utils:B||f.default,locale:L},d.default.createElement(o,P({id:Y,InputLabelProps:{shrink:!0},InputProps:{endAdornment:z?d.default.createElement(n.IconButton,{onClick:Z,size:"large"},d.default.createElement(m.default,null)):void 0},label:d.default.createElement(r.FieldTitle,{label:u,source:s,resource:p,isRequired:$}),variant:K,inputVariant:V,margin:v,error:!(!W||!Q),helperText:d.default.createElement(r.InputHelperText,{touched:W,error:Q,helperText:b}),clearLabel:H("ra.action.clear_input_value"),cancelLabel:H("ra.action.cancel")},c,((F=A).allowEmpty,F.alwaysOn,F.basePath,F.component,F.defaultValue,F.format,F.formClassName,F.initialValue,F.initializeForm,F.input,F.isRequired,F.label,F.limitChoicesToValue,F.locale,F.meta,F.options,F.optionText,F.optionValue,F.parse,F.record,F.resource,F.source,F.textAlign,F.translate,F.translateChoice,F.labelTime,k(F,S)),{value:G.value?new Date(G.value):null,onChange:X,onBlur:function(){return G.onBlur(G.value?"ISO"===_?new Date(G.value).toISOString():new Date(G.value).toString():null)}})))};q.defaultProps={isRequired:!1,meta:{touched:!1,error:!1},options:{},providerOptions:{utils:f.default,locale:void 0},parse:function(e){return""===e?null:e}};var V=function(t){var n=t.label,a=t.startDate,o=t.endDate,i=t.linkType,l=c.useHistory(),u=r.useListContext(),s=u.ids,p=u.data,d=u.basePath,f=new URLSearchParams(l.location.search),m=e.useCallback((function(e){var t=e.event;e.jsEvent.preventDefault(),l.push(t.url)}),[]),b=e.useCallback((function(e){var t=e.view;f.set("month",t.currentStart.getMonth()+1),f.set("year",t.currentStart.getFullYear()),l.replace({pathname:l.location.pathname,search:"?"+f.toString()})}),[f]),g=e.useMemo((function(){return s.filter((function(e){return p[e]})).map((function(e){return{id:e,title:"string"==typeof n?p[e][n]:n(p[e]),start:"string"==typeof a?p[e][a]:a(p[e]),end:"string"==typeof o?p[e][o]:o(p[e]),url:r.linkToRecord(d,e)+"/"+i}}))}),[p,s,d]);return{initialDate:f.has("month")?new Date(f.get("year"),f.get("month")-1):new Date,events:g,datesSet:b,eventClick:m}},F=v.default((function(e){return{"@global":{".fc-button":{backgroundColor:e.palette.primary.main+" !important",border:"none !important",opacity:"1 !important"},".fc-day-today":{backgroundColor:e.palette.secondary.light+" !important"},"a.fc-daygrid-dot-event":{color:"black !important"}}}})),M=function(e){var t=n.useTheme(),r=V(e);return F(),d.default.createElement(b.default,P({plugins:[g.default],locale:e.locale,initialView:"dayGridMonth",eventBackgroundColor:t.palette.primary.main},r))};M.defaultProps={linkType:"edit"};var B=v.default((function(e){return{"@global":{".fc-button":{backgroundColor:e.palette.primary.main+" !important",border:"none !important",opacity:"1 !important"}}}})),L=function(e){var t=V(e);return B(),d.default.createElement(b.default,P({plugins:[y.default],locale:e.locale,initialView:"listMonth"},t))};L.defaultProps={linkType:"edit"};exports.CalendarList=M,exports.DateInput=function(e){return d.default.createElement(q,P({PickerComponent:t.DatePicker},e))},exports.DateTimeInput=function(e){return d.default.createElement(q,P({PickerComponent:t.DateTimePicker},e))},exports.DaysList=L,exports.KeyboardDateInput=function(e){return d.default.createElement(q,P({PickerComponent:t.KeyboardDatePicker},e))},exports.KeyboardDateTimeInput=function(e){return d.default.createElement(q,P({PickerComponent:t.KeyboardDateTimePicker},e))},exports.KeyboardTimeInput=function(e){return d.default.createElement(q,P({PickerComponent:t.KeyboardTimePicker},e))},exports.TimeInput=function(e){return d.default.createElement(q,P({PickerComponent:t.TimePicker},e))},exports.useFullCalendarProps=V;
//# sourceMappingURL=index.cjs.js.map
