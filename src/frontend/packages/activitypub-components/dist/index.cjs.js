"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("react-admin"),t=require("@material-ui/core");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=i(e);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u=t.makeStyles((function(e){return{progress:{marginTop:e.spacing(2)}}})),s=function(e){var t=e.children,i=e.source,a=e.record,s=void 0===a?{}:a;if(1!==n.default.Children.count(t))throw new Error("<ActivitiesList> only accepts a single child");var l=u(),d=r.useQueryWithStore({type:"getList",resource:"Activity",payload:{id:s[i]}}),f=d.data,p=d.loaded,b=d.loading,y=d.total;if(!p)return n.default.createElement(r.LinearProgress,{className:l.progress});var v=f.filter((function(e){return"Create"===e.type})).reduce((function(e,r){return c(c({},e),{},o({},r.object.id,r.object))}),{});return n.default.createElement(r.ListContextProvider,{value:{basePath:"/Activity",currentSort:{field:"id",order:"ASC"},data:v,ids:Object.keys(v),loaded:p,loading:b,page:1,perPage:10,resource:"Activity",total:y}},t)};s.defaultProps={addLabel:!0},exports.ActivitiesList=s;
