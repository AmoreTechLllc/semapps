"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@semapps/archipelago-layout"),n=require("react-admin"),r=require("@material-ui/core");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(e);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,c,"next",e)}function c(e){l(a,r,o,i,c,"throw",e)}i(void 0)}))}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=/[\'\"]/,h=["children","options"],y={accesskey:"accessKey",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",for:"htmlFor",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"},b={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},w=["style","script"],x=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,C=/mailto:/i,S=/\n{2,}$/,O=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,k=/^ *> ?/gm,_=/^ {2,}\n/,P=/^(?:( *[-*_]) *){3,}(?:\n *)+\n/,A=/^\s*(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n?/,T=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,E=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,M=/^(?:\n *)*\n/,j=/\r\n?/g,I=/^\[\^([^\]]+)](:.*)\n/,L=/^\[\^([^\]]+)]/,H=/\f/g,B=/^\s*?\[(x|\s)\]/,N=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,D=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,R=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,z=/&([a-z]+);/g,W=/^<!--[\s\S]*?(?:-->)/,F=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,K=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,G=/^\{.*\}$/,U=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,V=/^<([^ >]+@[^ >]+)>/,$=/^<([^ >]+:\/[^ >]+)>/,q=/ *\n+$/,X=/(?:^|\n)( *)$/,Z=/-([a-z])?/gi,Y=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,Q=/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/,J=/^\[([^\]]*)\]:\s*(\S+)\s*("([^"]*)")?/,ee=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,te=/^\[([^\]]*)\] ?\[([^\]]*)\]/,ne=/(\[|\])/g,re=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,oe=/\t/g,ae=/^ *\| */,ie=/(^ *\||\| *$)/g,ce=/ *$/,le=/^ *:-+: *$/,se=/^ *:-+ *$/,ue=/^ *-+: *$/,de=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,fe=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1|\w)/,pe=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,me=/^\\([^0-9A-Za-z\s])/,ge=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,ve=/(^\n+|\n+$|\s+$)/g,he=/^([ \t]*)/,ye=/\\([^0-9A-Z\s])/gi,be=new RegExp("^( *)((?:[*+-]|\\d+\\.)) +"),we=new RegExp("( *)((?:[*+-]|\\d+\\.)) +[^\\n]*(?:\\n(?!\\1(?:[*+-]|\\d+\\.) )[^\\n]*)*(\\n|$)","gm"),xe=new RegExp("^( *)((?:[*+-]|\\d+\\.)) [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1(?:[*+-]|\\d+\\.) (?!(?:[*+-]|\\d+\\.) ))\\n*|\\s*\\n*$)"),Ce="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",Se=new RegExp("^\\[("+Ce+")\\]\\(\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),Oe=new RegExp("^!\\[("+Ce+")\\]\\(\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),ke=[O,T,A,N,D,R,W,K,we,xe,Y,Q];function _e(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Pe(e){return ue.test(e)?"right":le.test(e)?"center":se.test(e)?"left":null}function Ae(e,t,n){var r=n.t;n.t=!0;var o=t(e.trim(),n);n.t=r;var a=[[]];return o.forEach((function(e,t){"tableSeparator"===e.type?0!==t&&t!==o.length-1&&a.push([]):("text"!==e.type||null!=o[t+1]&&"tableSeparator"!==o[t+1].type||(e.content=e.content.replace(ce,"")),a[a.length-1].push(e))})),a}function Te(e,t,n){n.o=!0;var r=Ae(e[1],t,n),o=e[2].replace(ie,"").split("|").map(Pe),a=function(e,t,n){return e.trim().split("\n").map((function(e){return Ae(e,t,n)}))}(e[3],t,n);return n.o=!1,{align:o,cells:a,header:r,type:"table"}}function Ee(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function Me(e){return function(t,n){return n.o?e.exec(t):null}}function je(e){return function(t,n){return n.o||n.u?e.exec(t):null}}function Ie(e){return function(t,n){return n.o||n.u?null:e.exec(t)}}function Le(e){return function(t){return e.exec(t)}}function He(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data):/i))return null}catch(e){return null}return e}function Be(e){return e.replace(ye,"$1")}function Ne(e,t,n){var r=n.o||!1,o=n.u||!1;n.o=!0,n.u=!0;var a=e(t,n);return n.o=r,n.u=o,a}function De(e,t,n){var r=n.o||!1,o=n.u||!1;n.o=!1,n.u=!0;var a=e(t,n);return n.o=r,n.u=o,a}function Re(e,t,n){return n.o=!1,e(t+"\n\n",n)}var ze,We,Fe=function(e,t,n){return{content:Ne(t,e[1],n)}};function Ke(){return{}}function Ge(){return null}function Ue(){return[].slice.call(arguments).filter(Boolean).join(" ")}function Ve(e,t,n){for(var r=e,o=t.split(".");o.length&&void 0!==(r=r[o[0]]);)o.shift();return r||n}function $e(e,t){var n=Ve(t,e);return n?"function"==typeof n||"object"==typeof n&&"render"in n?n:Ve(t,e+".component",e):e}function qe(e,t){void 0===t&&(t={}),t.overrides=t.overrides||{},t.slugify=t.slugify||_e,t.namedCodesToUnicode=t.namedCodesToUnicode?g({},b,t.namedCodesToUnicode):b;var n=t.createElement||a.default.createElement;function r(e,r){var o=Ve(t.overrides,e+".props",{});return n.apply(void 0,[$e(e,t.overrides),g({},r,o,{className:Ue(null==r?void 0:r.className,o.className)||void 0})].concat([].slice.call(arguments,2)))}function o(e){var n=!1;t.forceInline?n=!0:t.forceBlock||(n=!1===re.test(e));var o=p(f(n?e:e.replace(ve,"")+"\n\n",{o:n}));if(null===t.wrapper)return o;var i,c=t.wrapper||(n?"span":"div");if(o.length>1||t.forceWrapper)i=o;else{if(1===o.length)return"string"==typeof(i=o[0])?r("span",{key:"outer"},i):i;i=null}return a.default.createElement(c,{key:"outer"},i)}function i(e){var t=e.match(x);return t?t.reduce((function(e,t,n){var r,i=t.indexOf("=");if(-1!==i){var c=(r=t.slice(0,i),-1!==r.indexOf("-")&&null===r.match(F)&&(r=r.replace(Z,(function(e,t){return t.toUpperCase()}))),r).trim(),l=function(e){return e?(v.test(e.charAt(0))&&(e=e.substr(1)),v.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}(t.slice(i+1).trim()),s=y[c]||c,u=e[s]=function(e,t){return"style"===e?t.split(/;\s?/).reduce((function(e,t){var n=t.slice(0,t.indexOf(":"));return e[n.replace(/(-[a-z])/g,(function(e){return e[1].toUpperCase()}))]=t.slice(n.length+1).trim(),e}),{}):"href"===e?He(t):(t.match(G)&&(t=t.slice(1,t.length-1)),"true"===t||"false"!==t&&t)}(c,l);"string"==typeof u&&(R.test(u)||K.test(u))&&(e[s]=a.default.cloneElement(o(u.trim()),{key:n}))}else"style"!==t&&(e[y[t]||t]=!0);return e}),{}):void 0}var c=[],l={},s={blockQuote:{i:Ie(O),l:ze.HIGH,_:function(e,t,n){return{content:t(e[0].replace(k,""),n)}},p:function(e,t,n){return r("blockquote",{key:n.m},t(e.content,n))}},breakLine:{i:Le(_),l:ze.HIGH,_:Ke,p:function(e,t,n){return r("br",{key:n.m})}},breakThematic:{i:Ie(P),l:ze.HIGH,_:Ke,p:function(e,t,n){return r("hr",{key:n.m})}},codeBlock:{i:Ie(T),l:ze.MAX,_:function(e){return{content:e[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),lang:void 0}},p:function(e,t,n){return r("pre",{key:n.m},r("code",{className:e.lang?"lang-"+e.lang:""},e.content))}},codeFenced:{i:Ie(A),l:ze.MAX,_:function(e){return{content:e[3],lang:e[2]||void 0,type:"codeBlock"}}},codeInline:{i:je(E),l:ze.LOW,_:function(e){return{content:e[2]}},p:function(e,t,n){return r("code",{key:n.m},e.content)}},footnote:{i:Ie(I),l:ze.MAX,_:function(e){return c.push({footnote:e[2],identifier:e[1]}),{}},p:Ge},footnoteReference:{i:Me(L),l:ze.HIGH,_:function(e){return{content:e[1],target:"#"+t.slugify(e[1])}},p:function(e,t,n){return r("a",{key:n.m,href:He(e.target)},r("sup",{key:n.m},e.content))}},gfmTask:{i:Me(B),l:ze.HIGH,_:function(e){return{completed:"x"===e[1].toLowerCase()}},p:function(e,t,n){return r("input",{checked:e.completed,key:n.m,readOnly:!0,type:"checkbox"})}},heading:{i:Ie(N),l:ze.HIGH,_:function(e,n,r){return{content:Ne(n,e[2],r),id:t.slugify(e[2]),level:e[1].length}},p:function(e,t,n){return e.tag="h"+e.level,r(e.tag,{id:e.id,key:n.m},t(e.content,n))}},headingSetext:{i:Ie(D),l:ze.MAX,_:function(e,t,n){return{content:Ne(t,e[1],n),level:"="===e[2]?1:2,type:"heading"}}},htmlComment:{i:Le(W),l:ze.HIGH,_:function(){return{}},p:Ge},image:{i:je(Oe),l:ze.HIGH,_:function(e){return{alt:e[1],target:Be(e[2]),title:e[3]}},p:function(e,t,n){return r("img",{key:n.m,alt:e.alt||void 0,title:e.title||void 0,src:He(e.target)})}},link:{i:Me(Se),l:ze.LOW,_:function(e,t,n){return{content:De(t,e[1],n),target:Be(e[2]),title:e[3]}},p:function(e,t,n){return r("a",{key:n.m,href:He(e.target),title:e.title},t(e.content,n))}},linkAngleBraceStyleDetector:{i:Me($),l:ze.MAX,_:function(e){return{content:[{content:e[1],type:"text"}],target:e[1],type:"link"}}},linkBareUrlDetector:{i:function(e,t){return t.g?null:Me(U)(e,t)},l:ze.MAX,_:function(e){return{content:[{content:e[1],type:"text"}],target:e[1],title:void 0,type:"link"}}},linkMailtoDetector:{i:Me(V),l:ze.MAX,_:function(e){var t=e[1],n=e[1];return C.test(n)||(n="mailto:"+n),{content:[{content:t.replace("mailto:",""),type:"text"}],target:n,type:"link"}}},list:{i:function(e,t,n){var r=X.exec(n);return!r||!t.h&&t.o?null:xe.exec(e=r[1]+e)},l:ze.HIGH,_:function(e,t,n){var r=e[2],o=r.length>1,a=o?+r:void 0,i=e[0].replace(S,"\n").match(we),c=!1;return{items:i.map((function(e,r){var o=be.exec(e)[0].length,a=new RegExp("^ {1,"+o+"}","gm"),l=e.replace(a,"").replace(be,""),s=r===i.length-1,u=-1!==l.indexOf("\n\n")||s&&c;c=u;var d,f=n.o,p=n.h;n.h=!0,u?(n.o=!1,d=l.replace(q,"\n\n")):(n.o=!0,d=l.replace(q,""));var m=t(d,n);return n.o=f,n.h=p,m})),ordered:o,start:a}},p:function(e,t,n){return r(e.ordered?"ol":"ul",{key:n.m,start:e.start},e.items.map((function(e,o){return r("li",{key:o},t(e,n))})))}},newlineCoalescer:{i:Ie(M),l:ze.LOW,_:Ke,p:function(){return"\n"}},paragraph:{i:Ie(Q),l:ze.LOW,_:Fe,p:function(e,t,n){return r("p",{key:n.m},t(e.content,n))}},ref:{i:Me(J),l:ze.MAX,_:function(e){return l[e[1]]={target:e[2],title:e[4]},{}},p:Ge},refImage:{i:je(ee),l:ze.MAX,_:function(e){return{alt:e[1]||void 0,ref:e[2]}},p:function(e,t,n){return r("img",{key:n.m,alt:e.alt,src:He(l[e.ref].target),title:l[e.ref].title})}},refLink:{i:Me(te),l:ze.MAX,_:function(e,t,n){return{content:t(e[1],n),fallbackContent:t(e[0].replace(ne,"\\$1"),n),ref:e[2]}},p:function(e,t,n){return l[e.ref]?r("a",{key:n.m,href:He(l[e.ref].target),title:l[e.ref].title},t(e.content,n)):r("span",{key:n.m},t(e.fallbackContent,n))}},table:{i:Ie(Y),l:ze.HIGH,_:Te,p:function(e,t,n){return r("table",{key:n.m},r("thead",null,r("tr",null,e.header.map((function(o,a){return r("th",{key:a,style:Ee(e,a)},t(o,n))})))),r("tbody",null,e.cells.map((function(o,a){return r("tr",{key:a},o.map((function(o,a){return r("td",{key:a,style:Ee(e,a)},t(o,n))})))}))))}},tableSeparator:{i:function(e,t){return t.t?ae.exec(e):null},l:ze.HIGH,_:function(){return{type:"tableSeparator"}},p:function(){return" | "}},text:{i:Le(ge),l:ze.MIN,_:function(e){return{content:e[0].replace(z,(function(e,n){return t.namedCodesToUnicode[n]?t.namedCodesToUnicode[n]:e}))}},p:function(e){return e.content}},textBolded:{i:je(de),l:ze.MED,_:function(e,t,n){return{content:t(e[2],n)}},p:function(e,t,n){return r("strong",{key:n.m},t(e.content,n))}},textEmphasized:{i:je(fe),l:ze.LOW,_:function(e,t,n){return{content:t(e[2],n)}},p:function(e,t,n){return r("em",{key:n.m},t(e.content,n))}},textEscaped:{i:je(me),l:ze.HIGH,_:function(e){return{content:e[1],type:"text"}}},textStrikethroughed:{i:je(pe),l:ze.LOW,_:Fe,p:function(e,t,n){return r("del",{key:n.m},t(e.content,n))}}};!0!==t.disableParsingRawHTML&&(s.htmlBlock={i:Le(R),l:ze.HIGH,_:function(e,t,n){var r,o=e[3].match(he),a=new RegExp("^"+o[1],"gm"),c=e[3].replace(a,""),l=(r=c,ke.some((function(e){return e.test(r)}))?Re:Ne),s=e[1].toLowerCase(),u=-1!==w.indexOf(s);n.g=n.g||"a"===s;var d=u?e[3]:l(t,c,n);return n.g=!1,{attrs:i(e[2]),content:d,noInnerParse:u,tag:u?s:e[1]}},p:function(e,t,n){return r(e.tag,g({key:n.m},e.attrs),e.noInnerParse?e.content:t(e.content,n))}},s.htmlSelfClosing={i:Le(K),l:ze.HIGH,_:function(e){return{attrs:i(e[2]||""),tag:e[1]}},p:function(e,t,n){return r(e.tag,g({},e.attrs,{key:n.m}))}});var u,d,f=function(e){var t=Object.keys(e);function n(r,o){for(var a=[],i="";r;)for(var c=0;c<t.length;){var l=t[c],s=e[l],u=s.i(r,o,i);if(u){var d=u[0];r=r.substring(d.length);var f=s._(u,n,o);null==f.type&&(f.type=l),a.push(f),i=d;break}c++}return a}return t.sort((function(t,n){var r=e[t].l,o=e[n].l;return r!==o?r-o:t<n?-1:1})),function(e,t){return n(function(e){return e.replace(j,"\n").replace(H,"").replace(oe,"    ")}(e),t)}}(s),p=(d=s,u=function(e,t,n){return d[e.type].p(e,t,n)},function e(t,n){if(void 0===n&&(n={}),Array.isArray(t)){for(var r=n.m,o=[],a=!1,i=0;i<t.length;i++){n.m=i;var c=e(t[i],n),l="string"==typeof c;l&&a?o[o.length-1]+=c:o.push(c),a=l}return n.m=r,o}return u(t,e,n)}),m=o(e);return c.length&&m.props.children.push(r("footer",{key:"footer"},c.map((function(e){return r("div",{id:t.slugify(e.identifier),key:e.identifier},e.identifier,p(f(e.footnote,{o:!0})))})))),m}function Xe(e){var t=e.children,n=e.options,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(o[n]=e[n]);return o}(e,h);return a.default.cloneElement(qe(t,n),r)}(We=ze||(ze={}))[We.MAX=0]="MAX",We[We.HIGH=1]="HIGH",We[We.MED=2]="MED",We[We.LOW=3]="LOW",We[We.MIN=4]="MIN";var Ze=["source","record","overrides"],Ye=function(e){var n=e.source,r=e.record,o=e.overrides,i=void 0===o?{}:o,l=f(e,Ze);return r&&r[n]?a.default.createElement(Xe,{options:c({createElement:function(e,n,r){return n.label?a.default.createElement(a.default.Fragment,null,a.default.createElement(t.LargeLabel,null,n.label),a.default.createElement(e,n,r)):a.default.createElement(e,n,r)},overrides:c({h1:t.LargeLabel},i)},l)},r[n]):null};Ye.defaultProps={addLabel:!0};var Qe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Je(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function et(e,t){return e(t={exports:{}},t.exports),t.exports}var tt=et((function(e,t){function n(e,t){if(!e)throw Error("Argument 'text' should be truthy");for(var n=function(e){return" "===e||10===e.charCodeAt(0)},r=0,o=e.length,a=t;a-1>-1;a--)if(n(e[a-1])){r=a;break}for(a=t;a<e.length;a++)if(n(e[a])){o=a;break}return{start:r,end:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBreaksNeededForEmptyLineAfter=t.getBreaksNeededForEmptyLineBefore=t.selectWord=t.getSurroundingWord=void 0,t.getSurroundingWord=n,t.selectWord=function(e){var t=e.text,r=e.selection;return t&&t.length&&r.start===r.end?n(t,r.start):r},t.getBreaksNeededForEmptyLineBefore=function(e,t){if(void 0===e&&(e=""),0===t)return 0;for(var n=2,r=!0,o=t-1;o>=0&&n>=0;o--)switch(e.charCodeAt(o)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n},t.getBreaksNeededForEmptyLineAfter=function(e,t){if(void 0===e&&(e=""),t===e.length-1)return 0;for(var n=2,r=!0,o=t;o<e.length&&n>=0;o++)switch(e.charCodeAt(o)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}}));Je(tt),tt.getBreaksNeededForEmptyLineAfter,tt.getBreaksNeededForEmptyLineBefore,tt.selectWord,tt.getSurroundingWord;var nt=et((function(e,t){function n(e){return"string"==typeof e}function r(e){return Array.isArray(e)&&e.length>0}function o(e){return"object"==typeof e}
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
Object.defineProperty(t,"__esModule",{value:!0}),t.classNames=void 0,t.classNames=function e(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];for(var i=[],c=0;c<t.length;c++){var l=t[c];if(l)if(n(l))i.push(l);else if(r(l)){var s=e.apply(null,l);s&&i.push(s)}else if(o(l))for(var u in l)l.hasOwnProperty(u)&&l[u]&&i.push(u)}return i.join(" ")}}));Je(nt),nt.classNames;var rt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButtonGroup=void 0;t.ToolbarButtonGroup=function(e){return a.default.createElement("ul",{className:nt.classNames("mde-header-group",{hidden:e.hidden})},e.children)}}));Je(rt),rt.ToolbarButtonGroup;var ot=et((function(e,t){var n=Qe&&Qe.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButton=void 0;var r={tabIndex:-1};t.ToolbarButton=function(e){var t=e.buttonComponentClass,o=e.buttonContent,i=e.buttonProps,c=e.onClick,l=e.readOnly,s=e.name,u=n(n({},r),i||{}),d=t||"button";return a.default.createElement("li",{className:"mde-header-item"},a.default.createElement(d,n(n({"data-name":s},u),{onClick:c,disabled:l,type:"button"}),o))}}));Je(ot),ot.ToolbarButton;var at=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MdeFontAwesomeIcon=void 0;t.MdeFontAwesomeIcon=function(e){var t=e.icon,n=t;switch(t){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=t}return a.default.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})}}));Je(at),at.MdeFontAwesomeIcon;var it=et((function(e,t){var n,r=Qe&&Qe.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Preview=void 0;var o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!0},n}return r(t,e),t.prototype.componentDidMount=function(){this.generatePreview()},t.prototype.componentDidUpdate=function(e,t){this.props.markdown!==e.markdown&&this.generatePreview()},t.prototype.generatePreview=function(){var e=this,t=this.props,n=t.markdown;(0,t.generateMarkdownPreview)(n).then((function(t){e.setState({preview:t,loading:!1})}))},t.prototype.render=function(){var e,t=this.props,n=t.classes,r=t.minHeight,o=t.loadingPreview,i=t.refObject,c=t.heightUnits,l=this.state,s=l.preview,u=l.loading,d=u?o:s;e="string"==typeof d?a.default.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:d||"<p>&nbsp;</p>"},ref:i}):a.default.createElement("div",{className:"mde-preview-content"},d);var f=r&&c?r+10+c:r+10;return a.default.createElement("div",{className:nt.classNames("mde-preview",n,{loading:u}),style:{minHeight:f},"data-testid":"mde-preview"},e)},t}(a.default.Component);t.Preview=o}));Je(it),it.Preview;var ct=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretCoordinates=void 0;var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],r="undefined"!=typeof window,o=r&&null!=window.mozInnerScreenX;t.getCaretCoordinates=function(e,t){if(!r)throw new Error("getCaretCoordinates should only be called in a browser");var a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);var i=a.style,c=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;i.whiteSpace="pre-wrap",i.wordWrap="break-word",i.position="absolute",i.visibility="hidden",n.forEach((function(e){i[e]=c[e]})),o?e.scrollHeight>parseInt(c.height)&&(i.overflowY="scroll"):i.overflow="hidden",a.textContent=e.value.substring(0,e.selectionStart),t&&(a.textContent+=t);var l=document.createElement("span");l.textContent=e.value.substring(e.selectionEnd)||".",a.appendChild(l);var s={top:l.offsetTop+parseInt(c.borderTopWidth),left:l.offsetLeft+parseInt(c.borderLeftWidth),lineHeight:parseInt(c.lineHeight)};return document.body.removeChild(a),s}}));Je(ct),ct.getCaretCoordinates;var lt=et((function(e,t){
/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.insertText=void 0,t.insertText=function(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();return n.text=t,n.collapse(!1),void n.select()}if(!document.execCommand("insertText",!1,t)){var r=e.selectionStart,o=e.selectionEnd;if("function"==typeof e.setRangeText)e.setRangeText(t);else if(function(e){if("TEXTAREA"!==e.nodeName)return!1;var t;if(void 0===t){var n=document.createElement("textarea");n.value="1",t=!!n.firstChild}return t}(e)){var a=document.createTextNode(t),i=e.firstChild;if(i){for(var c=0,l=null,s=null,u=document.createRange();i&&(null===l||null===s);){var d=i.nodeValue.length;r>=c&&r<=c+d&&u.setStart(l=i,r-c),o>=c&&o<=c+d&&u.setEnd(s=i,o-c),c+=d,i=i.nextSibling}r!==o&&u.deleteContents(),u.insertNode(a)}else e.appendChild(a)}else{var f=e.value;e.value=f.slice(0,r)+t+f.slice(o)}e.setSelectionRange(r+t.length,r+t.length);var p=document.createEvent("UIEvent");p.initEvent("input",!0,!1),e.dispatchEvent(p)}}}));Je(lt),lt.insertText;var st=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mod=void 0,t.mod=function(e,t){return(e%t+t)%t}}));Je(st),st.mod;var ut=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionsDropdown=void 0;t.SuggestionsDropdown=function(e){var t=e.classes,n=e.suggestions,r=e.caret,o=e.onSuggestionSelected,i=e.suggestionsAutoplace,c=e.focusIndex,l=e.textAreaRef,s=function(e){e.preventDefault();var t=parseInt(e.currentTarget.attributes["data-index"].value);o(t)},u=function(e){return e.preventDefault()},d=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),f=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),p=r.left-l.current.scrollLeft,m=r.top-l.current.scrollTop,g={};return i&&m+l.current.getBoundingClientRect().top>f/2?g.bottom=l.current.offsetHeight-m:g.top=m,i&&p+l.current.getBoundingClientRect().left>d/2?g.right=l.current.offsetWidth-p:g.left=p,a.default.createElement("ul",{className:nt.classNames("mde-suggestions",t),style:g},n.map((function(e,t){return a.default.createElement("li",{onClick:s,onMouseDown:u,key:t,"aria-selected":c===t?"true":"false","data-index":""+t},e.preview)})))}}));Je(ut),ut.SuggestionsDropdown;var dt=et((function(e,t){var n,r=Qe&&Qe.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Qe&&Qe.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextArea=void 0;var i=function(e){function t(t){var n=e.call(this,t)||this;return n.currentLoadSuggestionsPromise=Promise.resolve(void 0),n.suggestionsPromiseIndex=0,n.getTextArea=function(){return n.props.refObject.current},n.handleOnChange=function(e){(0,n.props.onChange)(e.target.value)},n.handleBlur=function(){n.state.mention&&n.setState({mention:{status:"inactive",suggestions:[]}})},n.startLoadingSuggestions=function(e){var t=++n.suggestionsPromiseIndex,r=n.props.loadSuggestions;n.currentLoadSuggestionsPromise=n.currentLoadSuggestionsPromise.then((function(){return r(e,n.state.mention.triggeredBy)})).then((function(e){if("inactive"!==n.state.mention.status)return n.suggestionsPromiseIndex===t&&(e&&e.length?n.setState({mention:o(o({},n.state.mention),{status:"active",suggestions:e,focusIndex:0})}):n.setState({mention:{status:"inactive",suggestions:[]}}),n.suggestionsPromiseIndex=0),Promise.resolve()}))},n.loadEmptySuggestion=function(e,t){var r=ct.getCaretCoordinates(e,t);n.startLoadingSuggestions(""),n.setState({mention:{status:"loading",startPosition:e.selectionStart+1,caret:r,suggestions:[],triggeredBy:t}})},n.handleSuggestionSelected=function(e){var t=n.state.mention;n.getTextArea().selectionStart=t.startPosition-1,n.props.value.substr(n.getTextArea().selectionStart,n.getTextArea().selectionEnd-n.getTextArea().selectionStart),lt.insertText(n.getTextArea(),t.suggestions[e].value+" "),n.setState({mention:{status:"inactive",suggestions:[]}})},n.handleKeyDown=function(e){if(n.props.onPossibleKeyCommand&&n.props.onPossibleKeyCommand(e))return e.preventDefault(),n.suggestionsPromiseIndex=0,void n.setState({mention:{status:"inactive",suggestions:[]}});if(n.suggestionsEnabled()){var t=e.key,r=e.shiftKey,a=e.currentTarget.selectionStart,i=n.state.mention;switch(i.status){case"loading":case"active":if("Escape"===t||"Backspace"===t&&a<=n.state.mention.startPosition)n.suggestionsPromiseIndex=0,n.setState({mention:{status:"inactive",suggestions:[]}});else if("active"!==i.status||"ArrowUp"!==t&&"ArrowDown"!==t||r)"Enter"===t&&"active"===i.status&&i.suggestions.length&&(e.preventDefault(),n.handleSuggestionSelected(i.focusIndex));else{e.preventDefault();var c="ArrowUp"===t?-1:1;n.setState({mention:o(o({},i),{focusIndex:st.mod(i.focusIndex+c,i.suggestions.length)})})}}}},n.handleKeyUp=function(e){var t=e.key,r=n.state.mention,a=n.props,i=a.suggestionTriggerCharacters,c=a.value;switch(r.status){case"loading":case"active":if("Backspace"===t){var l=c.substr(r.startPosition,n.getTextArea().selectionStart-r.startPosition);n.startLoadingSuggestions(l),"loading"!==r.status&&n.setState({mention:o(o({},n.state.mention),{status:"loading"})})}break;case"inactive":if("Backspace"===t){var s=c.charAt(n.getTextArea().selectionStart-1);i.includes(c.charAt(n.getTextArea().selectionStart-1))&&n.loadEmptySuggestion(e.currentTarget,s)}}},n.handleKeyPress=function(e){var t=n.props,r=t.suggestionTriggerCharacters,a=t.value,i=n.state.mention,c=e.key;switch(i.status){case"loading":case"active":if(" "===c)return void n.setState({mention:o(o({},n.state.mention),{status:"inactive"})});var l=a.substr(i.startPosition,n.getTextArea().selectionStart-i.startPosition)+c;n.startLoadingSuggestions(l),"loading"!==i.status&&n.setState({mention:o(o({},n.state.mention),{status:"loading"})});break;case"inactive":if(-1===r.indexOf(e.key)||!/\s|\(|\[|^.{0}$/.test(a.charAt(n.getTextArea().selectionStart-1)))return;n.loadEmptySuggestion(e.currentTarget,e.key)}},n.state={mention:{status:"inactive",suggestions:[]}},n}return r(t,e),t.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},t.prototype.render=function(){var e=this,t=this.props,n=t.classes,r=t.readOnly,i=t.textAreaProps,c=t.height,l=t.heightUnits,s=t.value,u=t.suggestionTriggerCharacters,d=t.loadSuggestions,f=t.suggestionsDropdownClasses,p=t.textAreaComponent,m=t.onPaste,g=t.onDrop,v=u&&u.length&&d,h=this.state.mention,y=p||"textarea",b=c&&l?c+l:c;return a.default.createElement("div",{className:"mde-textarea-wrapper"},a.default.createElement(y,o({className:nt.classNames("mde-text",n),style:{height:b},ref:this.props.refObject,readOnly:r,value:s,"data-testid":"text-area"},i,{onChange:function(t){var n;null===(n=null==i?void 0:i.onChange)||void 0===n||n.call(i,t),e.handleOnChange(t)},onBlur:function(t){var n;null===(n=null==i?void 0:i.onBlur)||void 0===n||n.call(i,t),v&&e.handleBlur()},onKeyDown:function(t){var n;null===(n=null==i?void 0:i.onKeyDown)||void 0===n||n.call(i,t),e.handleKeyDown(t)},onKeyUp:function(t){var n;null===(n=null==i?void 0:i.onKeyUp)||void 0===n||n.call(i,t),v&&e.handleKeyUp(t)},onKeyPress:function(t){var n;null===(n=null==i?void 0:i.onKeyPress)||void 0===n||n.call(i,t),v&&e.handleKeyPress(t)},onPaste:function(e){var t;null===(t=null==i?void 0:i.onPaste)||void 0===t||t.call(i,e),m(e)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){var t;null===(t=null==i?void 0:i.onDrop)||void 0===t||t.call(i,e),g(e),e.preventDefault()}})),"active"===h.status&&h.suggestions.length&&a.default.createElement(ut.SuggestionsDropdown,{classes:f,caret:h.caret,suggestions:h.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:h.focusIndex,textAreaRef:this.props.refObject}))},t}(a.default.Component);t.TextArea=i}));Je(dt),dt.TextArea;var ft=et((function(e,t){var n,r=Qe&&Qe.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Qe&&Qe.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTabChange=function(e){(0,t.props.onTabChange)(e)},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.l18n,n=this.props,r=n.classes,i=n.children,c=n.buttons,l=n.onCommand,s=n.readOnly,u=n.disablePreview,d=n.writeButtonProps,f=n.previewButtonProps,p=n.buttonProps;if(!(c&&0!==c.length||i))return null;var m=a.default.createElement("div",{className:"mde-tabs"},a.default.createElement("button",o({type:"button",className:nt.classNames({selected:"write"===this.props.tab}),onClick:function(){return e.handleTabChange("write")}},d),t.write),a.default.createElement("button",o({type:"button",className:nt.classNames({selected:"preview"===this.props.tab}),onClick:function(){return e.handleTabChange("preview")}},f),t.preview));return a.default.createElement("div",{className:nt.classNames("mde-header",r)},!u&&m,c.map((function(t,n){return a.default.createElement(rt.ToolbarButtonGroup,{key:n,hidden:"preview"===e.props.tab},t.map((function(e,t){return a.default.createElement(ot.ToolbarButton,{key:t,name:e.commandName,buttonContent:e.buttonContent,buttonProps:o(o({},p||{}),e.buttonProps),onClick:function(){return l(e.commandName)},readOnly:s,buttonComponentClass:e.buttonComponentClass})})))})))},t}(a.default.Component);t.Toolbar=i}));Je(ft),ft.Toolbar;var pt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.headerCommand=void 0,t.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(e){!function(e,t,n){var r=tt.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(r),a=t.replaceSelection(""+n+o.selectedText);t.setSelectionRange({start:a.selection.end-o.selectedText.length,end:a.selection.end})}(e.initialState,e.textApi,"### ")}}}));Je(pt),pt.headerCommand;var mt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.boldCommand=void 0,t.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(e){var t=e.initialState,n=e.textApi,r=tt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=n.replaceSelection("**"+o.selectedText+"**");n.setSelectionRange({start:a.selection.end-2-o.selectedText.length,end:a.selection.end-2})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"b"==e.key}}}));Je(mt),mt.boldCommand;var gt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.italicCommand=void 0,t.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(e){var t=e.initialState,n=e.textApi,r=tt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=n.replaceSelection("*"+o.selectedText+"*");n.setSelectionRange({start:a.selection.end-1-o.selectedText.length,end:a.selection.end-1})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"i"==e.key}}}));Je(gt),gt.italicCommand;var vt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.strikeThroughCommand=void 0,t.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(e){var t=e.initialState,n=e.textApi,r=tt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=n.replaceSelection("~~"+o.selectedText+"~~");n.setSelectionRange({start:a.selection.end-2-o.selectedText.length,end:a.selection.end-2})}}}));Je(vt),vt.strikeThroughCommand;var ht=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.linkCommand=void 0,t.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(e){var t=e.initialState,n=e.textApi,r=tt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=n.replaceSelection("["+o.selectedText+"](url)");n.setSelectionRange({start:a.selection.end-6-o.selectedText.length,end:a.selection.end-6})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"k"==e.key}}}));Je(ht),ht.linkCommand;var yt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.quoteCommand=void 0,t.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(e){var t=e.initialState,n=e.textApi,r=tt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=tt.getBreaksNeededForEmptyLineBefore(o.text,o.selection.start),i=Array(a+1).join("\n"),c=tt.getBreaksNeededForEmptyLineAfter(o.text,o.selection.end),l=Array(c+1).join("\n");n.replaceSelection(i+"> "+o.selectedText+l);var s=o.selection.start+a+2,u=s+o.selectedText.length;n.setSelectionRange({start:s,end:u})}}}));Je(yt),yt.quoteCommand;var bt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.codeCommand=void 0,t.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(e){var t=e.initialState,n=e.textApi,r=tt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r);if(-1!==o.selectedText.indexOf("\n")){var a=tt.getBreaksNeededForEmptyLineBefore(o.text,o.selection.start),i=Array(a+1).join("\n"),c=tt.getBreaksNeededForEmptyLineAfter(o.text,o.selection.end),l=Array(c+1).join("\n");n.replaceSelection(i+"```\n"+o.selectedText+"\n```"+l);var s=o.selection.start+a+4,u=s+o.selectedText.length;n.setSelectionRange({start:s,end:u})}else{n.replaceSelection("`"+o.selectedText+"`");var d=o.selection.start+1,f=d+o.selectedText.length;n.setSelectionRange({start:d,end:f})}}}}));Je(bt),bt.codeCommand;var wt=et((function(e,t){function n(e,t){var n=e.split(/\n/),r=0;return{modifiedText:n.map((function(e,n){if("string"==typeof t)return r+=t.length,t+e;if("function"==typeof t){var o=t(e,n);return r+=o.length,t(e,n)+e}throw Error("insertion is expected to be either a string or a function")})).join("\n"),insertionLength:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0,t.insertBeforeEachLine=n;t.makeList=function(e,t,r){var o=tt.selectWord({text:e.text,selection:e.selection}),a=t.setSelectionRange(o),i=tt.getBreaksNeededForEmptyLineBefore(a.text,a.selection.start),c=Array(i+1).join("\n"),l=tt.getBreaksNeededForEmptyLineAfter(a.text,a.selection.end),s=Array(l+1).join("\n"),u=n(a.selectedText,r);t.replaceSelection(""+c+u.modifiedText+s);var d=-1===a.selectedText.indexOf("\n")?u.insertionLength:0,f=a.selection.start+i+d,p=f+u.modifiedText.length-d;t.setSelectionRange({start:f,end:p})},t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,(function(e,t){return t+1+". "}))}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,(function(e,t){return"- [ ] "}))}}}));Je(wt),wt.checkedListCommand,wt.orderedListCommand,wt.unorderedListCommand,wt.makeList,wt.insertBeforeEachLine;var xt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.imageCommand=void 0,t.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(e){var t=e.initialState,n=e.textApi,r=n.setSelectionRange(tt.selectWord({text:t.text,selection:t.selection})),o=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+o+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+o.length})}}}));Je(xt),xt.imageCommand;var Ct=et((function(e,t){var n=Qe&&Qe.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},r=Qe&&Qe.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.readFileAsync=void 0,t.readFileAsync=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t,n){var r=new FileReader;r.onload=function(){if("string"==typeof r.result)throw new Error("reader.result is expected to be an ArrayBuffer");t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))]}))}))}}));Je(Ct),Ct.readFileAsync;var St=et((function(e,t){var n=Qe&&Qe.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},r=Qe&&Qe.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function o(e){var t=[];for(var n in e){var r=e[n];"file"===r.kind&&t.push(r.getAsFile())}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.saveImageCommand=void 0,t.saveImageCommand={execute:function(e){e.initialState;var t=e.textApi,a=e.context,i=e.l18n;return n(this,void 0,void 0,(function(){var e,n,c,l,s,u,d,f,p,m,g,v,h,y,b,w,x,C,S,O,k,_;return r(this,(function(r){switch(r.label){case 0:if(!a)throw new Error("wrong context");for(m in n=(e=a).event,c=e.pasteOptions,l=c.saveImage,s=c.multiple,u=c.accept,d=function(e){return void 0!==e.event.clipboardData}(a)?o(n.clipboardData.items):function(e){return void 0!==e.event.dataTransfer}(a)?o(n.dataTransfer.items):function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[0]);return t}(n.target.files),f=function(e,t){var n=t.multiple,r=t.accept,o=e;if(n||(o=o.slice(0,1)),r){var a=r.split(","),i=new Set(a.filter((function(e){return/^\.\w+/.test(e)})).map((function(e){return e.split(".")[1]}))),c=new Set(a.filter((function(e){return/^[-\w.]+\/[-\w.]+$/.test(e)}))),l=new Set(a.filter((function(e){return/(audio|video|image)\/\*/.test(e)})).map((function(e){return e.split("/")[0]})));o=o.filter((function(e){return i.has(e.name.split(".")[1])||c.has(e.type)||l.has(e.type.split("/")[0])}))}return o}(d,{multiple:s,accept:u}),p=[],f)p.push(m);g=0,r.label=1;case 1:return g<p.length?(v=p[g],h=t.getState(),y=tt.getBreaksNeededForEmptyLineBefore(h.text,h.selection.start),b=Array(y+1).join("\n"),w=b+"!["+i.uploadingImage+"]()",t.replaceSelection(w),x=d[v],[4,Ct.readFileAsync(x)]):[3,5];case 2:return C=r.sent(),[4,l(C,x).next()];case 3:S=r.sent().value,O=t.getState(),O.text.substr(h.selection.start,w.length)===w&&(t.setSelectionRange({start:h.selection.start,end:h.selection.start+w.length}),_=(k=S?b+"![image]("+S+")":"").length-w.length,t.replaceSelection(k),t.setSelectionRange({start:O.selection.start+_,end:O.selection.end+_})),r.label=4;case 4:return g++,[3,1];case 5:return[2]}}))}))}}}));Je(St),St.saveImageCommand;var Ot=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSaveImageCommandName=t.getDefaultCommandMap=t.getDefaultToolbarCommands=void 0,t.getDefaultToolbarCommands=function(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]},t.getDefaultCommandMap=function(){return{header:pt.headerCommand,bold:mt.boldCommand,italic:gt.italicCommand,strikethrough:vt.strikeThroughCommand,link:ht.linkCommand,quote:yt.quoteCommand,code:bt.codeCommand,image:xt.imageCommand,"unordered-list":wt.unorderedListCommand,"ordered-list":wt.orderedListCommand,"checked-list":wt.checkedListCommand,"save-image":St.saveImageCommand}},t.getDefaultSaveImageCommandName=function(){return"save-image"}}));Je(Ot),Ot.getDefaultSaveImageCommandName,Ot.getDefaultCommandMap,Ot.getDefaultToolbarCommands;var kt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.enL18n=void 0,t.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."}}));Je(kt),kt.enL18n;var _t=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SvgIcon=void 0;var n=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),r=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),o=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),i=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),c=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),l=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),s=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),u=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),d=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),f=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),p=a.default.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},a.default.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"}));t.SvgIcon=function(e){switch(e.icon){case"header":return f;case"bold":return p;case"italic":return d;case"strikethrough":return u;case"link":return s;case"quote":return l;case"code":return c;case"image":return i;case"unordered-list":return o;case"ordered-list":return r;case"checked-list":return n;default:return null}}}));Je(_t),_t.SvgIcon;var Pt=et((function(e,t){var n=Qe&&Qe.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Qe&&Qe.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(at,t),r(_t,t)}));Je(Pt);var At=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extractKeyActivatedCommands=void 0,t.extractKeyActivatedCommands=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e[n].handleKeyCommand&&t.push(n);return t}}));Je(At),At.extractKeyActivatedCommands;var Tt=Lt,Et=et((function(e,t){var n=Qe&&Qe.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=Qe&&Qe.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},o=Qe&&Qe.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandOrchestrator=t.getStateFromTextArea=t.TextAreaTextApi=void 0;var a=function(){function e(e){this.textAreaRef=e}return e.prototype.replaceSelection=function(e){var t=this.textAreaRef.current;return lt.insertText(t,e),i(t)},e.prototype.setSelectionRange=function(e){var t=this.textAreaRef.current;return t.focus(),t.selectionStart=e.start,t.selectionEnd=e.end,i(t)},e.prototype.getState=function(){return i(this.textAreaRef.current)},e}();function i(e){return{selection:{start:e.selectionStart,end:e.selectionEnd},text:e.value,selectedText:e.value.slice(e.selectionStart,e.selectionEnd)}}t.TextAreaTextApi=a,t.getStateFromTextArea=i;var c=function(){function e(e,t,r,o){var i=this;if(this.getCommand=function(e){var t=i.commandMap[e];if(!t)throw new Error("Cannot execute command. Command not found: "+e);return t},this.handlePossibleKeyCommand=function(e){for(var t=0,n=i.keyActivatedCommands;t<n.length;t++){var r=n[t];if(i.getCommand(r).handleKeyCommand(e))return i.executeCommand(r).then((function(e){})),!0}return!1},o&&!o.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=n(n({},Tt.getDefaultCommandMap()),e||{}),this.pasteOptions=o,this.keyActivatedCommands=At.extractKeyActivatedCommands(e),this.textAreaRef=t,this.textApi=new a(t),this.l18n=r}return e.prototype.executeCommand=function(e,t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,n=this.commandMap[e],[4,n.execute({initialState:i(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:t})]);case 1:return r.sent(),this.isExecuting=!1,[2]}}))}))},e.prototype.executePasteCommand=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||Ot.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.executeDropCommand=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||Ot.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.executeSelectImageCommand=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||Ot.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.getCommandByName=function(e){return this.commandMap[e]},e}();t.CommandOrchestrator=c}));Je(Et),Et.CommandOrchestrator,Et.getStateFromTextArea,Et.TextAreaTextApi;var Mt=It,jt=et((function(e,t){var n,r=Qe&&Qe.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Qe&&Qe.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=Qe&&Qe.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},c=Qe&&Qe.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactMde=void 0;var l={accept:"image/*",multiple:!1},s=function(e){function t(t){var n,r=e.call(this,t)||this;r.handleTextChange=function(e){(0,r.props.onChange)(e)},r.handlePaste=function(e){return i(r,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executePasteCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleDrop=function(e){return i(r,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executeDropCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleImageSelection=function(e){return i(r,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executeSelectImageCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleTabChange=function(e){(0,r.props.onTabChange)(e)},r.handleCommand=function(e){return i(r,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.commandOrchestrator.executeCommand(e)];case 1:return t.sent(),[2]}}))}))},r.finalRefs=o({},t.refs||{}),r.finalRefs.textarea||(r.finalRefs.textarea=a.default.createRef()),r.finalRefs.preview||(r.finalRefs.preview=a.default.createRef()),r.commandOrchestrator=new Et.CommandOrchestrator(r.props.commands,r.finalRefs.textarea,r.props.l18n,r.props.paste?o(o({},l),r.props.paste):void 0);var s=Math.min(t.maxEditorHeight,t.minEditorHeight);return r.state={editorHeight:null!==(n=t.initialEditorHeight)&&void 0!==n?n:s},r}return r(t,e),t.prototype.render=function(){var e,t,n=this,r=this.props,o=r.getIcon,i=r.toolbarCommands,c=r.classes,s=r.loadingPreview,u=r.readOnly,d=r.disablePreview,f=r.value,p=r.l18n,m=r.minPreviewHeight,g=r.heightUnits,v=r.childProps,h=r.selectedTab,y=r.generateMarkdownPreview,b=r.loadSuggestions,w=r.suggestionTriggerCharacters,x=r.textAreaComponent,C=v||{},S=i.map((function(e){return e.map((function(e){var t=n.commandOrchestrator.getCommand(e);return{commandName:e,buttonContent:t.icon?t.icon(o):o(e),buttonProps:t.buttonProps,buttonComponentClass:t.buttonComponentClass}}))}));return a.default.createElement("div",{className:nt.classNames("react-mde","react-mde-tabbed-layout",null==c?void 0:c.reactMde)},a.default.createElement(Mt.Toolbar,{classes:null==c?void 0:c.toolbar,buttons:S,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:h,readOnly:u,disablePreview:d,l18n:p,buttonProps:C.commandButtons,writeButtonProps:C.writeButton,previewButtonProps:C.previewButton}),a.default.createElement("div",{className:nt.classNames({invisible:"write"!==h})},a.default.createElement(Mt.TextArea,{classes:null==c?void 0:c.textArea,suggestionsDropdownClasses:null==c?void 0:c.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:u,textAreaComponent:x,textAreaProps:v&&v.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:f,suggestionTriggerCharacters:w,loadSuggestions:b,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&a.default.createElement("label",{className:nt.classNames("image-tip")},a.default.createElement("input",{className:nt.classNames("image-input"),type:"file",accept:null!==(e=this.props.paste.accept)&&void 0!==e?e:l.accept,multiple:null!==(t=this.props.paste.multiple)&&void 0!==t?t:l.multiple,onChange:this.handleImageSelection}),a.default.createElement("span",null,p.pasteDropSelect))),"write"!==h&&a.default.createElement(Mt.Preview,{classes:null==c?void 0:c.preview,refObject:this.finalRefs.preview,loadingPreview:s,minHeight:m,heightUnits:g,generateMarkdownPreview:y,markdown:f}))},t.defaultProps={commands:Ot.getDefaultCommandMap(),toolbarCommands:Ot.getDefaultToolbarCommands(),getIcon:function(e){return a.default.createElement(Pt.SvgIcon,{icon:e})},readOnly:!1,l18n:kt.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},t}(a.default.Component);t.ReactMde=s}));Je(jt),jt.ReactMde;var It=et((function(e,t){var n=Qe&&Qe.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Qe&&Qe.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(rt,t),r(ot,t),r(at,t),r(it,t),r(dt,t),r(ft,t),r(jt,t),r(ut,t)}));Je(It);var Lt=et((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0,t.MarkdownUtil=tt,Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return Mt.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return Mt.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return Mt.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return Mt.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return Mt.ToolbarButtonGroup}}),Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return Pt.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return Pt.MdeFontAwesomeIcon}}),Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return Ot.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return Ot.getDefaultToolbarCommands}}),t.default=Mt.ReactMde})),Ht=Je(Lt);Lt.getDefaultToolbarCommands,Lt.getDefaultCommandMap,Lt.MdeFontAwesomeIcon,Lt.SvgIcon,Lt.MarkdownUtil,Lt.ToolbarButtonGroup,Lt.Toolbar,Lt.Preview,Lt.SuggestionsDropdown,Lt.TextArea;var Bt=function(t){var o=p(e.useState("write"),2),i=o[0],c=o[1],l=n.useInput(t).input,u=l.value,f=l.onChange;return a.default.createElement(r.FormControl,{fullWidth:!0,className:"ra-input-mde"},a.default.createElement(Ht,d({value:u,onChange:function(e){return f(e)},onTabChange:function(e){return c(e)},generateMarkdownPreview:function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.default.createElement(Xe,null,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),selectedTab:i},t)))};Bt.defaultProps={addLabel:!0};exports.MarkdownField=Ye,exports.MarkdownInput=Bt,exports.useLoadLinks=function(e,t){var r=n.useDataProvider(),o=n.useTranslate();return function(){var n=s(regeneratorRuntime.mark((function n(a){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=9;break}return n.next=3,r.getList(e,{pagination:{page:1,perPage:5},filter:{q:a}});case 3:if(!((i=n.sent).total>0)){n.next=8;break}return n.abrupt("return",i.data.map((function(n){return{preview:n[t],value:"[".concat(n[t],"](/").concat(e,"/").concat(encodeURIComponent(n.id),"/show)")}})));case 8:return n.abrupt("return",[{preview:o("ra.navigation.no_results"),value:"["+a}]);case 9:return n.abrupt("return",[{preview:o("ra.action.search"),value:"["+a}]);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};
//# sourceMappingURL=index.cjs.js.map
