import e,{useState as t}from"react";import{LargeLabel as n}from"@semapps/archipelago-layout";import{useInput as r,useDataProvider as o,useTranslate as a}from"react-admin";import{FormControl as i}from"@material-ui/core";function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,c,"next",e)}function c(e){l(a,r,o,i,c,"throw",e)}i(void 0)}))}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=/[\'\"]/,y=["children","options"],b={accesskey:"accessKey",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",for:"htmlFor",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"},w={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},x=["style","script"],C=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,S=/mailto:/i,O=/\n{2,}$/,_=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,k=/^ *> ?/gm,P=/^ {2,}\n/,A=/^(?:( *[-*_]) *){3,}(?:\n *)+\n/,T=/^\s*(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n?/,E=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,M=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,j=/^(?:\n *)*\n/,I=/\r\n?/g,L=/^\[\^([^\]]+)](:.*)\n/,H=/^\[\^([^\]]+)]/,B=/\f/g,N=/^\s*?\[(x|\s)\]/,D=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,R=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,z=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,W=/&([a-z]+);/g,F=/^<!--[\s\S]*?(?:-->)/,K=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,G=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,U=/^\{.*\}$/,V=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,$=/^<([^ >]+@[^ >]+)>/,q=/^<([^ >]+:\/[^ >]+)>/,X=/ *\n+$/,Z=/(?:^|\n)( *)$/,Y=/-([a-z])?/gi,Q=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,J=/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/,ee=/^\[([^\]]*)\]:\s*(\S+)\s*("([^"]*)")?/,te=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,ne=/^\[([^\]]*)\] ?\[([^\]]*)\]/,re=/(\[|\])/g,oe=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,ae=/\t/g,ie=/^ *\| */,ce=/(^ *\||\| *$)/g,se=/ *$/,le=/^ *:-+: *$/,ue=/^ *:-+ *$/,de=/^ *-+: *$/,fe=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,pe=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1|\w)/,me=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,ge=/^\\([^0-9A-Za-z\s])/,ve=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,he=/(^\n+|\n+$|\s+$)/g,ye=/^([ \t]*)/,be=/\\([^0-9A-Z\s])/gi,we=new RegExp("^( *)((?:[*+-]|\\d+\\.)) +"),xe=new RegExp("( *)((?:[*+-]|\\d+\\.)) +[^\\n]*(?:\\n(?!\\1(?:[*+-]|\\d+\\.) )[^\\n]*)*(\\n|$)","gm"),Ce=new RegExp("^( *)((?:[*+-]|\\d+\\.)) [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1(?:[*+-]|\\d+\\.) (?!(?:[*+-]|\\d+\\.) ))\\n*|\\s*\\n*$)"),Se="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",Oe=new RegExp("^\\[("+Se+")\\]\\(\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),_e=new RegExp("^!\\[("+Se+")\\]\\(\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),ke=[_,E,T,D,R,z,F,G,xe,Ce,Q,J];function Pe(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Ae(e){return de.test(e)?"right":le.test(e)?"center":ue.test(e)?"left":null}function Te(e,t,n){var r=n.t;n.t=!0;var o=t(e.trim(),n);n.t=r;var a=[[]];return o.forEach((function(e,t){"tableSeparator"===e.type?0!==t&&t!==o.length-1&&a.push([]):("text"!==e.type||null!=o[t+1]&&"tableSeparator"!==o[t+1].type||(e.content=e.content.replace(se,"")),a[a.length-1].push(e))})),a}function Ee(e,t,n){n.o=!0;var r=Te(e[1],t,n),o=e[2].replace(ce,"").split("|").map(Ae),a=function(e,t,n){return e.trim().split("\n").map((function(e){return Te(e,t,n)}))}(e[3],t,n);return n.o=!1,{align:o,cells:a,header:r,type:"table"}}function Me(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function je(e){return function(t,n){return n.o?e.exec(t):null}}function Ie(e){return function(t,n){return n.o||n.u?e.exec(t):null}}function Le(e){return function(t,n){return n.o||n.u?null:e.exec(t)}}function He(e){return function(t){return e.exec(t)}}function Be(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data):/i))return null}catch(e){return null}return e}function Ne(e){return e.replace(be,"$1")}function De(e,t,n){var r=n.o||!1,o=n.u||!1;n.o=!0,n.u=!0;var a=e(t,n);return n.o=r,n.u=o,a}function Re(e,t,n){var r=n.o||!1,o=n.u||!1;n.o=!1,n.u=!0;var a=e(t,n);return n.o=r,n.u=o,a}function ze(e,t,n){return n.o=!1,e(t+"\n\n",n)}var We,Fe,Ke=function(e,t,n){return{content:De(t,e[1],n)}};function Ge(){return{}}function Ue(){return null}function Ve(){return[].slice.call(arguments).filter(Boolean).join(" ")}function $e(e,t,n){for(var r=e,o=t.split(".");o.length&&void 0!==(r=r[o[0]]);)o.shift();return r||n}function qe(e,t){var n=$e(t,e);return n?"function"==typeof n||"object"==typeof n&&"render"in n?n:$e(t,e+".component",e):e}function Xe(t,n){void 0===n&&(n={}),n.overrides=n.overrides||{},n.slugify=n.slugify||Pe,n.namedCodesToUnicode=n.namedCodesToUnicode?v({},w,n.namedCodesToUnicode):w;var r=n.createElement||e.createElement;function o(e,t){var o=$e(n.overrides,e+".props",{});return r.apply(void 0,[qe(e,n.overrides),v({},t,o,{className:Ve(null==t?void 0:t.className,o.className)||void 0})].concat([].slice.call(arguments,2)))}function a(t){var r=!1;n.forceInline?r=!0:n.forceBlock||(r=!1===oe.test(t));var a=p(f(r?t:t.replace(he,"")+"\n\n",{o:r}));if(null===n.wrapper)return a;var i,c=n.wrapper||(r?"span":"div");if(a.length>1||n.forceWrapper)i=a;else{if(1===a.length)return"string"==typeof(i=a[0])?o("span",{key:"outer"},i):i;i=null}return e.createElement(c,{key:"outer"},i)}function i(t){var n=t.match(C);return n?n.reduce((function(t,n,r){var o,i=n.indexOf("=");if(-1!==i){var c=(o=n.slice(0,i),-1!==o.indexOf("-")&&null===o.match(K)&&(o=o.replace(Y,(function(e,t){return t.toUpperCase()}))),o).trim(),s=function(e){return e?(h.test(e.charAt(0))&&(e=e.substr(1)),h.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}(n.slice(i+1).trim()),l=b[c]||c,u=t[l]=function(e,t){return"style"===e?t.split(/;\s?/).reduce((function(e,t){var n=t.slice(0,t.indexOf(":"));return e[n.replace(/(-[a-z])/g,(function(e){return e[1].toUpperCase()}))]=t.slice(n.length+1).trim(),e}),{}):"href"===e?Be(t):(t.match(U)&&(t=t.slice(1,t.length-1)),"true"===t||"false"!==t&&t)}(c,s);"string"==typeof u&&(z.test(u)||G.test(u))&&(t[l]=e.cloneElement(a(u.trim()),{key:r}))}else"style"!==n&&(t[b[n]||n]=!0);return t}),{}):void 0}var c=[],s={},l={blockQuote:{i:Le(_),l:We.HIGH,_:function(e,t,n){return{content:t(e[0].replace(k,""),n)}},p:function(e,t,n){return o("blockquote",{key:n.m},t(e.content,n))}},breakLine:{i:He(P),l:We.HIGH,_:Ge,p:function(e,t,n){return o("br",{key:n.m})}},breakThematic:{i:Le(A),l:We.HIGH,_:Ge,p:function(e,t,n){return o("hr",{key:n.m})}},codeBlock:{i:Le(E),l:We.MAX,_:function(e){return{content:e[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),lang:void 0}},p:function(e,t,n){return o("pre",{key:n.m},o("code",{className:e.lang?"lang-"+e.lang:""},e.content))}},codeFenced:{i:Le(T),l:We.MAX,_:function(e){return{content:e[3],lang:e[2]||void 0,type:"codeBlock"}}},codeInline:{i:Ie(M),l:We.LOW,_:function(e){return{content:e[2]}},p:function(e,t,n){return o("code",{key:n.m},e.content)}},footnote:{i:Le(L),l:We.MAX,_:function(e){return c.push({footnote:e[2],identifier:e[1]}),{}},p:Ue},footnoteReference:{i:je(H),l:We.HIGH,_:function(e){return{content:e[1],target:"#"+n.slugify(e[1])}},p:function(e,t,n){return o("a",{key:n.m,href:Be(e.target)},o("sup",{key:n.m},e.content))}},gfmTask:{i:je(N),l:We.HIGH,_:function(e){return{completed:"x"===e[1].toLowerCase()}},p:function(e,t,n){return o("input",{checked:e.completed,key:n.m,readOnly:!0,type:"checkbox"})}},heading:{i:Le(D),l:We.HIGH,_:function(e,t,r){return{content:De(t,e[2],r),id:n.slugify(e[2]),level:e[1].length}},p:function(e,t,n){return e.tag="h"+e.level,o(e.tag,{id:e.id,key:n.m},t(e.content,n))}},headingSetext:{i:Le(R),l:We.MAX,_:function(e,t,n){return{content:De(t,e[1],n),level:"="===e[2]?1:2,type:"heading"}}},htmlComment:{i:He(F),l:We.HIGH,_:function(){return{}},p:Ue},image:{i:Ie(_e),l:We.HIGH,_:function(e){return{alt:e[1],target:Ne(e[2]),title:e[3]}},p:function(e,t,n){return o("img",{key:n.m,alt:e.alt||void 0,title:e.title||void 0,src:Be(e.target)})}},link:{i:je(Oe),l:We.LOW,_:function(e,t,n){return{content:Re(t,e[1],n),target:Ne(e[2]),title:e[3]}},p:function(e,t,n){return o("a",{key:n.m,href:Be(e.target),title:e.title},t(e.content,n))}},linkAngleBraceStyleDetector:{i:je(q),l:We.MAX,_:function(e){return{content:[{content:e[1],type:"text"}],target:e[1],type:"link"}}},linkBareUrlDetector:{i:function(e,t){return t.g?null:je(V)(e,t)},l:We.MAX,_:function(e){return{content:[{content:e[1],type:"text"}],target:e[1],title:void 0,type:"link"}}},linkMailtoDetector:{i:je($),l:We.MAX,_:function(e){var t=e[1],n=e[1];return S.test(n)||(n="mailto:"+n),{content:[{content:t.replace("mailto:",""),type:"text"}],target:n,type:"link"}}},list:{i:function(e,t,n){var r=Z.exec(n);return!r||!t.h&&t.o?null:Ce.exec(e=r[1]+e)},l:We.HIGH,_:function(e,t,n){var r=e[2],o=r.length>1,a=o?+r:void 0,i=e[0].replace(O,"\n").match(xe),c=!1;return{items:i.map((function(e,r){var o=we.exec(e)[0].length,a=new RegExp("^ {1,"+o+"}","gm"),s=e.replace(a,"").replace(we,""),l=r===i.length-1,u=-1!==s.indexOf("\n\n")||l&&c;c=u;var d,f=n.o,p=n.h;n.h=!0,u?(n.o=!1,d=s.replace(X,"\n\n")):(n.o=!0,d=s.replace(X,""));var m=t(d,n);return n.o=f,n.h=p,m})),ordered:o,start:a}},p:function(e,t,n){return o(e.ordered?"ol":"ul",{key:n.m,start:e.start},e.items.map((function(e,r){return o("li",{key:r},t(e,n))})))}},newlineCoalescer:{i:Le(j),l:We.LOW,_:Ge,p:function(){return"\n"}},paragraph:{i:Le(J),l:We.LOW,_:Ke,p:function(e,t,n){return o("p",{key:n.m},t(e.content,n))}},ref:{i:je(ee),l:We.MAX,_:function(e){return s[e[1]]={target:e[2],title:e[4]},{}},p:Ue},refImage:{i:Ie(te),l:We.MAX,_:function(e){return{alt:e[1]||void 0,ref:e[2]}},p:function(e,t,n){return o("img",{key:n.m,alt:e.alt,src:Be(s[e.ref].target),title:s[e.ref].title})}},refLink:{i:je(ne),l:We.MAX,_:function(e,t,n){return{content:t(e[1],n),fallbackContent:t(e[0].replace(re,"\\$1"),n),ref:e[2]}},p:function(e,t,n){return s[e.ref]?o("a",{key:n.m,href:Be(s[e.ref].target),title:s[e.ref].title},t(e.content,n)):o("span",{key:n.m},t(e.fallbackContent,n))}},table:{i:Le(Q),l:We.HIGH,_:Ee,p:function(e,t,n){return o("table",{key:n.m},o("thead",null,o("tr",null,e.header.map((function(r,a){return o("th",{key:a,style:Me(e,a)},t(r,n))})))),o("tbody",null,e.cells.map((function(r,a){return o("tr",{key:a},r.map((function(r,a){return o("td",{key:a,style:Me(e,a)},t(r,n))})))}))))}},tableSeparator:{i:function(e,t){return t.t?ie.exec(e):null},l:We.HIGH,_:function(){return{type:"tableSeparator"}},p:function(){return" | "}},text:{i:He(ve),l:We.MIN,_:function(e){return{content:e[0].replace(W,(function(e,t){return n.namedCodesToUnicode[t]?n.namedCodesToUnicode[t]:e}))}},p:function(e){return e.content}},textBolded:{i:Ie(fe),l:We.MED,_:function(e,t,n){return{content:t(e[2],n)}},p:function(e,t,n){return o("strong",{key:n.m},t(e.content,n))}},textEmphasized:{i:Ie(pe),l:We.LOW,_:function(e,t,n){return{content:t(e[2],n)}},p:function(e,t,n){return o("em",{key:n.m},t(e.content,n))}},textEscaped:{i:Ie(ge),l:We.HIGH,_:function(e){return{content:e[1],type:"text"}}},textStrikethroughed:{i:Ie(me),l:We.LOW,_:Ke,p:function(e,t,n){return o("del",{key:n.m},t(e.content,n))}}};!0!==n.disableParsingRawHTML&&(l.htmlBlock={i:He(z),l:We.HIGH,_:function(e,t,n){var r,o=e[3].match(ye),a=new RegExp("^"+o[1],"gm"),c=e[3].replace(a,""),s=(r=c,ke.some((function(e){return e.test(r)}))?ze:De),l=e[1].toLowerCase(),u=-1!==x.indexOf(l);n.g=n.g||"a"===l;var d=u?e[3]:s(t,c,n);return n.g=!1,{attrs:i(e[2]),content:d,noInnerParse:u,tag:u?l:e[1]}},p:function(e,t,n){return o(e.tag,v({key:n.m},e.attrs),e.noInnerParse?e.content:t(e.content,n))}},l.htmlSelfClosing={i:He(G),l:We.HIGH,_:function(e){return{attrs:i(e[2]||""),tag:e[1]}},p:function(e,t,n){return o(e.tag,v({},e.attrs,{key:n.m}))}});var u,d,f=function(e){var t=Object.keys(e);function n(r,o){for(var a=[],i="";r;)for(var c=0;c<t.length;){var s=t[c],l=e[s],u=l.i(r,o,i);if(u){var d=u[0];r=r.substring(d.length);var f=l._(u,n,o);null==f.type&&(f.type=s),a.push(f),i=d;break}c++}return a}return t.sort((function(t,n){var r=e[t].l,o=e[n].l;return r!==o?r-o:t<n?-1:1})),function(e,t){return n(function(e){return e.replace(I,"\n").replace(B,"").replace(ae,"    ")}(e),t)}}(l),p=(d=l,u=function(e,t,n){return d[e.type].p(e,t,n)},function e(t,n){if(void 0===n&&(n={}),Array.isArray(t)){for(var r=n.m,o=[],a=!1,i=0;i<t.length;i++){n.m=i;var c=e(t[i],n),s="string"==typeof c;s&&a?o[o.length-1]+=c:o.push(c),a=s}return n.m=r,o}return u(t,e,n)}),m=a(t);return c.length&&m.props.children.push(o("footer",{key:"footer"},c.map((function(e){return o("div",{id:n.slugify(e.identifier),key:e.identifier},e.identifier,p(f(e.footnote,{o:!0})))})))),m}function Ze(t){var n=t.children,r=t.options,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(o[n]=e[n]);return o}(t,y);return e.cloneElement(Xe(n,r),o)}(Fe=We||(We={}))[Fe.MAX=0]="MAX",Fe[Fe.HIGH=1]="HIGH",Fe[Fe.MED=2]="MED",Fe[Fe.LOW=3]="LOW",Fe[Fe.MIN=4]="MIN";var Ye=["source","record","overrides"],Qe=function(t){var r=t.source,o=t.record,a=t.overrides,i=void 0===a?{}:a,c=p(t,Ye);return o&&o[r]?e.createElement(Ze,{options:s({createElement:function(t,r,o){return r.label?e.createElement(e.Fragment,null,e.createElement(n,null,r.label),e.createElement(t,r,o)):e.createElement(t,r,o)},overrides:s({h1:n},i)},c)},o[r]):null};Qe.defaultProps={addLabel:!0};var Je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tt(e,t){return e(t={exports:{}},t.exports),t.exports}var nt=tt((function(e,t){function n(e,t){if(!e)throw Error("Argument 'text' should be truthy");for(var n=function(e){return" "===e||10===e.charCodeAt(0)},r=0,o=e.length,a=t;a-1>-1;a--)if(n(e[a-1])){r=a;break}for(a=t;a<e.length;a++)if(n(e[a])){o=a;break}return{start:r,end:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBreaksNeededForEmptyLineAfter=t.getBreaksNeededForEmptyLineBefore=t.selectWord=t.getSurroundingWord=void 0,t.getSurroundingWord=n,t.selectWord=function(e){var t=e.text,r=e.selection;return t&&t.length&&r.start===r.end?n(t,r.start):r},t.getBreaksNeededForEmptyLineBefore=function(e,t){if(void 0===e&&(e=""),0===t)return 0;for(var n=2,r=!0,o=t-1;o>=0&&n>=0;o--)switch(e.charCodeAt(o)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n},t.getBreaksNeededForEmptyLineAfter=function(e,t){if(void 0===e&&(e=""),t===e.length-1)return 0;for(var n=2,r=!0,o=t;o<e.length&&n>=0;o++)switch(e.charCodeAt(o)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}}));et(nt),nt.getBreaksNeededForEmptyLineAfter,nt.getBreaksNeededForEmptyLineBefore,nt.selectWord,nt.getSurroundingWord;var rt=tt((function(e,t){function n(e){return"string"==typeof e}function r(e){return Array.isArray(e)&&e.length>0}function o(e){return"object"==typeof e}
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
Object.defineProperty(t,"__esModule",{value:!0}),t.classNames=void 0,t.classNames=function e(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];for(var i=[],c=0;c<t.length;c++){var s=t[c];if(s)if(n(s))i.push(s);else if(r(s)){var l=e.apply(null,s);l&&i.push(l)}else if(o(s))for(var u in s)s.hasOwnProperty(u)&&s[u]&&i.push(u)}return i.join(" ")}}));et(rt),rt.classNames;var ot=tt((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ToolbarButtonGroup=void 0;n.ToolbarButtonGroup=function(t){return e.createElement("ul",{className:rt.classNames("mde-header-group",{hidden:t.hidden})},t.children)}}));et(ot),ot.ToolbarButtonGroup;var at=tt((function(t,n){var r=Je&&Je.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ToolbarButton=void 0;var o={tabIndex:-1};n.ToolbarButton=function(t){var n=t.buttonComponentClass,a=t.buttonContent,i=t.buttonProps,c=t.onClick,s=t.readOnly,l=t.name,u=r(r({},o),i||{}),d=n||"button";return e.createElement("li",{className:"mde-header-item"},e.createElement(d,r(r({"data-name":l},u),{onClick:c,disabled:s,type:"button"}),a))}}));et(at),at.ToolbarButton;var it=tt((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MdeFontAwesomeIcon=void 0;n.MdeFontAwesomeIcon=function(t){var n=t.icon,r=n;switch(n){case"header":r="heading";break;case"quote":r="quote-right";break;case"unordered-list":r="tasks";break;case"ordered-list":r="list-ol";break;case"checked-list":r="tasks";break;default:r=n}return e.createElement("i",{className:"fas fa-"+r,"aria-hidden":"true"})}}));et(it),it.MdeFontAwesomeIcon;var ct=tt((function(t,n){var r,o=Je&&Je.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Preview=void 0;var a=function(t){function n(e){var n=t.call(this,e)||this;return n.state={loading:!0},n}return o(n,t),n.prototype.componentDidMount=function(){this.generatePreview()},n.prototype.componentDidUpdate=function(e,t){this.props.markdown!==e.markdown&&this.generatePreview()},n.prototype.generatePreview=function(){var e=this,t=this.props,n=t.markdown;(0,t.generateMarkdownPreview)(n).then((function(t){e.setState({preview:t,loading:!1})}))},n.prototype.render=function(){var t,n=this.props,r=n.classes,o=n.minHeight,a=n.loadingPreview,i=n.refObject,c=n.heightUnits,s=this.state,l=s.preview,u=s.loading,d=u?a:l;t="string"==typeof d?e.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:d||"<p>&nbsp;</p>"},ref:i}):e.createElement("div",{className:"mde-preview-content"},d);var f=o&&c?o+10+c:o+10;return e.createElement("div",{className:rt.classNames("mde-preview",r,{loading:u}),style:{minHeight:f},"data-testid":"mde-preview"},t)},n}(e.Component);n.Preview=a}));et(ct),ct.Preview;var st=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretCoordinates=void 0;var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],r="undefined"!=typeof window,o=r&&null!=window.mozInnerScreenX;t.getCaretCoordinates=function(e,t){if(!r)throw new Error("getCaretCoordinates should only be called in a browser");var a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);var i=a.style,c=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;i.whiteSpace="pre-wrap",i.wordWrap="break-word",i.position="absolute",i.visibility="hidden",n.forEach((function(e){i[e]=c[e]})),o?e.scrollHeight>parseInt(c.height)&&(i.overflowY="scroll"):i.overflow="hidden",a.textContent=e.value.substring(0,e.selectionStart),t&&(a.textContent+=t);var s=document.createElement("span");s.textContent=e.value.substring(e.selectionEnd)||".",a.appendChild(s);var l={top:s.offsetTop+parseInt(c.borderTopWidth),left:s.offsetLeft+parseInt(c.borderLeftWidth),lineHeight:parseInt(c.lineHeight)};return document.body.removeChild(a),l}}));et(st),st.getCaretCoordinates;var lt=tt((function(e,t){
/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */
Object.defineProperty(t,"__esModule",{value:!0}),t.insertText=void 0,t.insertText=function(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();return n.text=t,n.collapse(!1),void n.select()}if(!document.execCommand("insertText",!1,t)){var r=e.selectionStart,o=e.selectionEnd;if("function"==typeof e.setRangeText)e.setRangeText(t);else if(function(e){if("TEXTAREA"!==e.nodeName)return!1;var t;if(void 0===t){var n=document.createElement("textarea");n.value="1",t=!!n.firstChild}return t}(e)){var a=document.createTextNode(t),i=e.firstChild;if(i){for(var c=0,s=null,l=null,u=document.createRange();i&&(null===s||null===l);){var d=i.nodeValue.length;r>=c&&r<=c+d&&u.setStart(s=i,r-c),o>=c&&o<=c+d&&u.setEnd(l=i,o-c),c+=d,i=i.nextSibling}r!==o&&u.deleteContents(),u.insertNode(a)}else e.appendChild(a)}else{var f=e.value;e.value=f.slice(0,r)+t+f.slice(o)}e.setSelectionRange(r+t.length,r+t.length);var p=document.createEvent("UIEvent");p.initEvent("input",!0,!1),e.dispatchEvent(p)}}}));et(lt),lt.insertText;var ut=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mod=void 0,t.mod=function(e,t){return(e%t+t)%t}}));et(ut),ut.mod;var dt=tt((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SuggestionsDropdown=void 0;n.SuggestionsDropdown=function(t){var n=t.classes,r=t.suggestions,o=t.caret,a=t.onSuggestionSelected,i=t.suggestionsAutoplace,c=t.focusIndex,s=t.textAreaRef,l=function(e){e.preventDefault();var t=parseInt(e.currentTarget.attributes["data-index"].value);a(t)},u=function(e){return e.preventDefault()},d=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),f=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),p=o.left-s.current.scrollLeft,m=o.top-s.current.scrollTop,g={};return i&&m+s.current.getBoundingClientRect().top>f/2?g.bottom=s.current.offsetHeight-m:g.top=m,i&&p+s.current.getBoundingClientRect().left>d/2?g.right=s.current.offsetWidth-p:g.left=p,e.createElement("ul",{className:rt.classNames("mde-suggestions",n),style:g},r.map((function(t,n){return e.createElement("li",{onClick:l,onMouseDown:u,key:n,"aria-selected":c===n?"true":"false","data-index":""+n},t.preview)})))}}));et(dt),dt.SuggestionsDropdown;var ft=tt((function(t,n){var r,o=Je&&Je.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=Je&&Je.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.TextArea=void 0;var i=function(t){function n(e){var n=t.call(this,e)||this;return n.currentLoadSuggestionsPromise=Promise.resolve(void 0),n.suggestionsPromiseIndex=0,n.getTextArea=function(){return n.props.refObject.current},n.handleOnChange=function(e){(0,n.props.onChange)(e.target.value)},n.handleBlur=function(){n.state.mention&&n.setState({mention:{status:"inactive",suggestions:[]}})},n.startLoadingSuggestions=function(e){var t=++n.suggestionsPromiseIndex,r=n.props.loadSuggestions;n.currentLoadSuggestionsPromise=n.currentLoadSuggestionsPromise.then((function(){return r(e,n.state.mention.triggeredBy)})).then((function(e){if("inactive"!==n.state.mention.status)return n.suggestionsPromiseIndex===t&&(e&&e.length?n.setState({mention:a(a({},n.state.mention),{status:"active",suggestions:e,focusIndex:0})}):n.setState({mention:{status:"inactive",suggestions:[]}}),n.suggestionsPromiseIndex=0),Promise.resolve()}))},n.loadEmptySuggestion=function(e,t){var r=st.getCaretCoordinates(e,t);n.startLoadingSuggestions(""),n.setState({mention:{status:"loading",startPosition:e.selectionStart+1,caret:r,suggestions:[],triggeredBy:t}})},n.handleSuggestionSelected=function(e){var t=n.state.mention;n.getTextArea().selectionStart=t.startPosition-1,n.props.value.substr(n.getTextArea().selectionStart,n.getTextArea().selectionEnd-n.getTextArea().selectionStart),lt.insertText(n.getTextArea(),t.suggestions[e].value+" "),n.setState({mention:{status:"inactive",suggestions:[]}})},n.handleKeyDown=function(e){if(n.props.onPossibleKeyCommand&&n.props.onPossibleKeyCommand(e))return e.preventDefault(),n.suggestionsPromiseIndex=0,void n.setState({mention:{status:"inactive",suggestions:[]}});if(n.suggestionsEnabled()){var t=e.key,r=e.shiftKey,o=e.currentTarget.selectionStart,i=n.state.mention;switch(i.status){case"loading":case"active":if("Escape"===t||"Backspace"===t&&o<=n.state.mention.startPosition)n.suggestionsPromiseIndex=0,n.setState({mention:{status:"inactive",suggestions:[]}});else if("active"!==i.status||"ArrowUp"!==t&&"ArrowDown"!==t||r)"Enter"===t&&"active"===i.status&&i.suggestions.length&&(e.preventDefault(),n.handleSuggestionSelected(i.focusIndex));else{e.preventDefault();var c="ArrowUp"===t?-1:1;n.setState({mention:a(a({},i),{focusIndex:ut.mod(i.focusIndex+c,i.suggestions.length)})})}}}},n.handleKeyUp=function(e){var t=e.key,r=n.state.mention,o=n.props,i=o.suggestionTriggerCharacters,c=o.value;switch(r.status){case"loading":case"active":if("Backspace"===t){var s=c.substr(r.startPosition,n.getTextArea().selectionStart-r.startPosition);n.startLoadingSuggestions(s),"loading"!==r.status&&n.setState({mention:a(a({},n.state.mention),{status:"loading"})})}break;case"inactive":if("Backspace"===t){var l=c.charAt(n.getTextArea().selectionStart-1);i.includes(c.charAt(n.getTextArea().selectionStart-1))&&n.loadEmptySuggestion(e.currentTarget,l)}}},n.handleKeyPress=function(e){var t=n.props,r=t.suggestionTriggerCharacters,o=t.value,i=n.state.mention,c=e.key;switch(i.status){case"loading":case"active":if(" "===c)return void n.setState({mention:a(a({},n.state.mention),{status:"inactive"})});var s=o.substr(i.startPosition,n.getTextArea().selectionStart-i.startPosition)+c;n.startLoadingSuggestions(s),"loading"!==i.status&&n.setState({mention:a(a({},n.state.mention),{status:"loading"})});break;case"inactive":if(-1===r.indexOf(e.key)||!/\s|\(|\[|^.{0}$/.test(o.charAt(n.getTextArea().selectionStart-1)))return;n.loadEmptySuggestion(e.currentTarget,e.key)}},n.state={mention:{status:"inactive",suggestions:[]}},n}return o(n,t),n.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},n.prototype.render=function(){var t=this,n=this.props,r=n.classes,o=n.readOnly,i=n.textAreaProps,c=n.height,s=n.heightUnits,l=n.value,u=n.suggestionTriggerCharacters,d=n.loadSuggestions,f=n.suggestionsDropdownClasses,p=n.textAreaComponent,m=n.onPaste,g=n.onDrop,v=u&&u.length&&d,h=this.state.mention,y=p||"textarea",b=c&&s?c+s:c;return e.createElement("div",{className:"mde-textarea-wrapper"},e.createElement(y,a({className:rt.classNames("mde-text",r),style:{height:b},ref:this.props.refObject,readOnly:o,value:l,"data-testid":"text-area"},i,{onChange:function(e){var n;null===(n=null==i?void 0:i.onChange)||void 0===n||n.call(i,e),t.handleOnChange(e)},onBlur:function(e){var n;null===(n=null==i?void 0:i.onBlur)||void 0===n||n.call(i,e),v&&t.handleBlur()},onKeyDown:function(e){var n;null===(n=null==i?void 0:i.onKeyDown)||void 0===n||n.call(i,e),t.handleKeyDown(e)},onKeyUp:function(e){var n;null===(n=null==i?void 0:i.onKeyUp)||void 0===n||n.call(i,e),v&&t.handleKeyUp(e)},onKeyPress:function(e){var n;null===(n=null==i?void 0:i.onKeyPress)||void 0===n||n.call(i,e),v&&t.handleKeyPress(e)},onPaste:function(e){var t;null===(t=null==i?void 0:i.onPaste)||void 0===t||t.call(i,e),m(e)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){var t;null===(t=null==i?void 0:i.onDrop)||void 0===t||t.call(i,e),g(e),e.preventDefault()}})),"active"===h.status&&h.suggestions.length&&e.createElement(dt.SuggestionsDropdown,{classes:f,caret:h.caret,suggestions:h.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:h.focusIndex,textAreaRef:this.props.refObject}))},n}(e.Component);n.TextArea=i}));et(ft),ft.TextArea;var pt=tt((function(t,n){var r,o=Je&&Je.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=Je&&Je.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Toolbar=void 0;var i=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleTabChange=function(t){(0,e.props.onTabChange)(t)},e}return o(n,t),n.prototype.render=function(){var t=this,n=this.props.l18n,r=this.props,o=r.classes,i=r.children,c=r.buttons,s=r.onCommand,l=r.readOnly,u=r.disablePreview,d=r.writeButtonProps,f=r.previewButtonProps,p=r.buttonProps;if(!(c&&0!==c.length||i))return null;var m=e.createElement("div",{className:"mde-tabs"},e.createElement("button",a({type:"button",className:rt.classNames({selected:"write"===this.props.tab}),onClick:function(){return t.handleTabChange("write")}},d),n.write),e.createElement("button",a({type:"button",className:rt.classNames({selected:"preview"===this.props.tab}),onClick:function(){return t.handleTabChange("preview")}},f),n.preview));return e.createElement("div",{className:rt.classNames("mde-header",o)},!u&&m,c.map((function(n,r){return e.createElement(ot.ToolbarButtonGroup,{key:r,hidden:"preview"===t.props.tab},n.map((function(t,n){return e.createElement(at.ToolbarButton,{key:n,name:t.commandName,buttonContent:t.buttonContent,buttonProps:a(a({},p||{}),t.buttonProps),onClick:function(){return s(t.commandName)},readOnly:l,buttonComponentClass:t.buttonComponentClass})})))})))},n}(e.Component);n.Toolbar=i}));et(pt),pt.Toolbar;var mt=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.headerCommand=void 0,t.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(e){!function(e,t,n){var r=nt.selectWord({text:e.text,selection:e.selection}),o=t.setSelectionRange(r),a=t.replaceSelection(""+n+o.selectedText);t.setSelectionRange({start:a.selection.end-o.selectedText.length,end:a.selection.end})}(e.initialState,e.textApi,"### ")}}}));et(mt),mt.headerCommand;var gt=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.boldCommand=void 0,t.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(e){var t=e.initialState,n=e.textApi,r=nt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=n.replaceSelection("**"+o.selectedText+"**");n.setSelectionRange({start:a.selection.end-2-o.selectedText.length,end:a.selection.end-2})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"b"==e.key}}}));et(gt),gt.boldCommand;var vt=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.italicCommand=void 0,t.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(e){var t=e.initialState,n=e.textApi,r=nt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=n.replaceSelection("*"+o.selectedText+"*");n.setSelectionRange({start:a.selection.end-1-o.selectedText.length,end:a.selection.end-1})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"i"==e.key}}}));et(vt),vt.italicCommand;var ht=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.strikeThroughCommand=void 0,t.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(e){var t=e.initialState,n=e.textApi,r=nt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=n.replaceSelection("~~"+o.selectedText+"~~");n.setSelectionRange({start:a.selection.end-2-o.selectedText.length,end:a.selection.end-2})}}}));et(ht),ht.strikeThroughCommand;var yt=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.linkCommand=void 0,t.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(e){var t=e.initialState,n=e.textApi,r=nt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=n.replaceSelection("["+o.selectedText+"](url)");n.setSelectionRange({start:a.selection.end-6-o.selectedText.length,end:a.selection.end-6})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"k"==e.key}}}));et(yt),yt.linkCommand;var bt=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.quoteCommand=void 0,t.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(e){var t=e.initialState,n=e.textApi,r=nt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r),a=nt.getBreaksNeededForEmptyLineBefore(o.text,o.selection.start),i=Array(a+1).join("\n"),c=nt.getBreaksNeededForEmptyLineAfter(o.text,o.selection.end),s=Array(c+1).join("\n");n.replaceSelection(i+"> "+o.selectedText+s);var l=o.selection.start+a+2,u=l+o.selectedText.length;n.setSelectionRange({start:l,end:u})}}}));et(bt),bt.quoteCommand;var wt=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.codeCommand=void 0,t.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(e){var t=e.initialState,n=e.textApi,r=nt.selectWord({text:t.text,selection:t.selection}),o=n.setSelectionRange(r);if(-1!==o.selectedText.indexOf("\n")){var a=nt.getBreaksNeededForEmptyLineBefore(o.text,o.selection.start),i=Array(a+1).join("\n"),c=nt.getBreaksNeededForEmptyLineAfter(o.text,o.selection.end),s=Array(c+1).join("\n");n.replaceSelection(i+"```\n"+o.selectedText+"\n```"+s);var l=o.selection.start+a+4,u=l+o.selectedText.length;n.setSelectionRange({start:l,end:u})}else{n.replaceSelection("`"+o.selectedText+"`");var d=o.selection.start+1,f=d+o.selectedText.length;n.setSelectionRange({start:d,end:f})}}}}));et(wt),wt.codeCommand;var xt=tt((function(e,t){function n(e,t){var n=e.split(/\n/),r=0;return{modifiedText:n.map((function(e,n){if("string"==typeof t)return r+=t.length,t+e;if("function"==typeof t){var o=t(e,n);return r+=o.length,t(e,n)+e}throw Error("insertion is expected to be either a string or a function")})).join("\n"),insertionLength:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0,t.insertBeforeEachLine=n;t.makeList=function(e,t,r){var o=nt.selectWord({text:e.text,selection:e.selection}),a=t.setSelectionRange(o),i=nt.getBreaksNeededForEmptyLineBefore(a.text,a.selection.start),c=Array(i+1).join("\n"),s=nt.getBreaksNeededForEmptyLineAfter(a.text,a.selection.end),l=Array(s+1).join("\n"),u=n(a.selectedText,r);t.replaceSelection(""+c+u.modifiedText+l);var d=-1===a.selectedText.indexOf("\n")?u.insertionLength:0,f=a.selection.start+i+d,p=f+u.modifiedText.length-d;t.setSelectionRange({start:f,end:p})},t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,(function(e,t){return t+1+". "}))}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,(function(e,t){return"- [ ] "}))}}}));et(xt),xt.checkedListCommand,xt.orderedListCommand,xt.unorderedListCommand,xt.makeList,xt.insertBeforeEachLine;var Ct=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.imageCommand=void 0,t.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(e){var t=e.initialState,n=e.textApi,r=n.setSelectionRange(nt.selectWord({text:t.text,selection:t.selection})),o=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+o+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+o.length})}}}));et(Ct),Ct.imageCommand;var St=tt((function(e,t){var n=Je&&Je.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},r=Je&&Je.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.readFileAsync=void 0,t.readFileAsync=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t,n){var r=new FileReader;r.onload=function(){if("string"==typeof r.result)throw new Error("reader.result is expected to be an ArrayBuffer");t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))]}))}))}}));et(St),St.readFileAsync;var Ot=tt((function(e,t){var n=Je&&Je.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},r=Je&&Je.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function o(e){var t=[];for(var n in e){var r=e[n];"file"===r.kind&&t.push(r.getAsFile())}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.saveImageCommand=void 0,t.saveImageCommand={execute:function(e){e.initialState;var t=e.textApi,a=e.context,i=e.l18n;return n(this,void 0,void 0,(function(){var e,n,c,s,l,u,d,f,p,m,g,v,h,y,b,w,x,C,S,O,_,k;return r(this,(function(r){switch(r.label){case 0:if(!a)throw new Error("wrong context");for(m in n=(e=a).event,c=e.pasteOptions,s=c.saveImage,l=c.multiple,u=c.accept,d=function(e){return void 0!==e.event.clipboardData}(a)?o(n.clipboardData.items):function(e){return void 0!==e.event.dataTransfer}(a)?o(n.dataTransfer.items):function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[0]);return t}(n.target.files),f=function(e,t){var n=t.multiple,r=t.accept,o=e;if(n||(o=o.slice(0,1)),r){var a=r.split(","),i=new Set(a.filter((function(e){return/^\.\w+/.test(e)})).map((function(e){return e.split(".")[1]}))),c=new Set(a.filter((function(e){return/^[-\w.]+\/[-\w.]+$/.test(e)}))),s=new Set(a.filter((function(e){return/(audio|video|image)\/\*/.test(e)})).map((function(e){return e.split("/")[0]})));o=o.filter((function(e){return i.has(e.name.split(".")[1])||c.has(e.type)||s.has(e.type.split("/")[0])}))}return o}(d,{multiple:l,accept:u}),p=[],f)p.push(m);g=0,r.label=1;case 1:return g<p.length?(v=p[g],h=t.getState(),y=nt.getBreaksNeededForEmptyLineBefore(h.text,h.selection.start),b=Array(y+1).join("\n"),w=b+"!["+i.uploadingImage+"]()",t.replaceSelection(w),x=d[v],[4,St.readFileAsync(x)]):[3,5];case 2:return C=r.sent(),[4,s(C,x).next()];case 3:S=r.sent().value,O=t.getState(),O.text.substr(h.selection.start,w.length)===w&&(t.setSelectionRange({start:h.selection.start,end:h.selection.start+w.length}),k=(_=S?b+"![image]("+S+")":"").length-w.length,t.replaceSelection(_),t.setSelectionRange({start:O.selection.start+k,end:O.selection.end+k})),r.label=4;case 4:return g++,[3,1];case 5:return[2]}}))}))}}}));et(Ot),Ot.saveImageCommand;var _t=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSaveImageCommandName=t.getDefaultCommandMap=t.getDefaultToolbarCommands=void 0,t.getDefaultToolbarCommands=function(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]},t.getDefaultCommandMap=function(){return{header:mt.headerCommand,bold:gt.boldCommand,italic:vt.italicCommand,strikethrough:ht.strikeThroughCommand,link:yt.linkCommand,quote:bt.quoteCommand,code:wt.codeCommand,image:Ct.imageCommand,"unordered-list":xt.unorderedListCommand,"ordered-list":xt.orderedListCommand,"checked-list":xt.checkedListCommand,"save-image":Ot.saveImageCommand}},t.getDefaultSaveImageCommandName=function(){return"save-image"}}));et(_t),_t.getDefaultSaveImageCommandName,_t.getDefaultCommandMap,_t.getDefaultToolbarCommands;var kt=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.enL18n=void 0,t.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."}}));et(kt),kt.enL18n;var Pt=tt((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SvgIcon=void 0;var r=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),o=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),a=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),i=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),c=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),s=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),l=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),u=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),d=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),f=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),p=e.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},e.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"}));n.SvgIcon=function(e){switch(e.icon){case"header":return f;case"bold":return p;case"italic":return d;case"strikethrough":return u;case"link":return l;case"quote":return s;case"code":return c;case"image":return i;case"unordered-list":return a;case"ordered-list":return o;case"checked-list":return r;default:return null}}}));et(Pt),Pt.SvgIcon;var At=tt((function(e,t){var n=Je&&Je.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Je&&Je.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(it,t),r(Pt,t)}));et(At);var Tt=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extractKeyActivatedCommands=void 0,t.extractKeyActivatedCommands=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e[n].handleKeyCommand&&t.push(n);return t}}));et(Tt),Tt.extractKeyActivatedCommands;var Et=Ht,Mt=tt((function(e,t){var n=Je&&Je.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=Je&&Je.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},o=Je&&Je.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandOrchestrator=t.getStateFromTextArea=t.TextAreaTextApi=void 0;var a=function(){function e(e){this.textAreaRef=e}return e.prototype.replaceSelection=function(e){var t=this.textAreaRef.current;return lt.insertText(t,e),i(t)},e.prototype.setSelectionRange=function(e){var t=this.textAreaRef.current;return t.focus(),t.selectionStart=e.start,t.selectionEnd=e.end,i(t)},e.prototype.getState=function(){return i(this.textAreaRef.current)},e}();function i(e){return{selection:{start:e.selectionStart,end:e.selectionEnd},text:e.value,selectedText:e.value.slice(e.selectionStart,e.selectionEnd)}}t.TextAreaTextApi=a,t.getStateFromTextArea=i;var c=function(){function e(e,t,r,o){var i=this;if(this.getCommand=function(e){var t=i.commandMap[e];if(!t)throw new Error("Cannot execute command. Command not found: "+e);return t},this.handlePossibleKeyCommand=function(e){for(var t=0,n=i.keyActivatedCommands;t<n.length;t++){var r=n[t];if(i.getCommand(r).handleKeyCommand(e))return i.executeCommand(r).then((function(e){})),!0}return!1},o&&!o.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=n(n({},Et.getDefaultCommandMap()),e||{}),this.pasteOptions=o,this.keyActivatedCommands=Tt.extractKeyActivatedCommands(e),this.textAreaRef=t,this.textApi=new a(t),this.l18n=r}return e.prototype.executeCommand=function(e,t){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,n=this.commandMap[e],[4,n.execute({initialState:i(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:t})]);case 1:return r.sent(),this.isExecuting=!1,[2]}}))}))},e.prototype.executePasteCommand=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||_t.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.executeDropCommand=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||_t.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.executeSelectImageCommand=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||_t.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.getCommandByName=function(e){return this.commandMap[e]},e}();t.CommandOrchestrator=c}));et(Mt),Mt.CommandOrchestrator,Mt.getStateFromTextArea,Mt.TextAreaTextApi;var jt=Lt,It=tt((function(t,n){var r,o=Je&&Je.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=Je&&Je.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=Je&&Je.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},c=Je&&Je.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ReactMde=void 0;var s={accept:"image/*",multiple:!1},l=function(t){function n(n){var r,o=t.call(this,n)||this;o.handleTextChange=function(e){(0,o.props.onChange)(e)},o.handlePaste=function(e){return i(o,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executePasteCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},o.handleDrop=function(e){return i(o,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executeDropCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},o.handleImageSelection=function(e){return i(o,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executeSelectImageCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},o.handleTabChange=function(e){(0,o.props.onTabChange)(e)},o.handleCommand=function(e){return i(o,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.commandOrchestrator.executeCommand(e)];case 1:return t.sent(),[2]}}))}))},o.finalRefs=a({},n.refs||{}),o.finalRefs.textarea||(o.finalRefs.textarea=e.createRef()),o.finalRefs.preview||(o.finalRefs.preview=e.createRef()),o.commandOrchestrator=new Mt.CommandOrchestrator(o.props.commands,o.finalRefs.textarea,o.props.l18n,o.props.paste?a(a({},s),o.props.paste):void 0);var l=Math.min(n.maxEditorHeight,n.minEditorHeight);return o.state={editorHeight:null!==(r=n.initialEditorHeight)&&void 0!==r?r:l},o}return o(n,t),n.prototype.render=function(){var t,n,r=this,o=this.props,a=o.getIcon,i=o.toolbarCommands,c=o.classes,l=o.loadingPreview,u=o.readOnly,d=o.disablePreview,f=o.value,p=o.l18n,m=o.minPreviewHeight,g=o.heightUnits,v=o.childProps,h=o.selectedTab,y=o.generateMarkdownPreview,b=o.loadSuggestions,w=o.suggestionTriggerCharacters,x=o.textAreaComponent,C=v||{},S=i.map((function(e){return e.map((function(e){var t=r.commandOrchestrator.getCommand(e);return{commandName:e,buttonContent:t.icon?t.icon(a):a(e),buttonProps:t.buttonProps,buttonComponentClass:t.buttonComponentClass}}))}));return e.createElement("div",{className:rt.classNames("react-mde","react-mde-tabbed-layout",null==c?void 0:c.reactMde)},e.createElement(jt.Toolbar,{classes:null==c?void 0:c.toolbar,buttons:S,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:h,readOnly:u,disablePreview:d,l18n:p,buttonProps:C.commandButtons,writeButtonProps:C.writeButton,previewButtonProps:C.previewButton}),e.createElement("div",{className:rt.classNames({invisible:"write"!==h})},e.createElement(jt.TextArea,{classes:null==c?void 0:c.textArea,suggestionsDropdownClasses:null==c?void 0:c.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:u,textAreaComponent:x,textAreaProps:v&&v.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:f,suggestionTriggerCharacters:w,loadSuggestions:b,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&e.createElement("label",{className:rt.classNames("image-tip")},e.createElement("input",{className:rt.classNames("image-input"),type:"file",accept:null!==(t=this.props.paste.accept)&&void 0!==t?t:s.accept,multiple:null!==(n=this.props.paste.multiple)&&void 0!==n?n:s.multiple,onChange:this.handleImageSelection}),e.createElement("span",null,p.pasteDropSelect))),"write"!==h&&e.createElement(jt.Preview,{classes:null==c?void 0:c.preview,refObject:this.finalRefs.preview,loadingPreview:l,minHeight:m,heightUnits:g,generateMarkdownPreview:y,markdown:f}))},n.defaultProps={commands:_t.getDefaultCommandMap(),toolbarCommands:_t.getDefaultToolbarCommands(),getIcon:function(t){return e.createElement(At.SvgIcon,{icon:t})},readOnly:!1,l18n:kt.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},n}(e.Component);n.ReactMde=l}));et(It),It.ReactMde;var Lt=tt((function(e,t){var n=Je&&Je.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Je&&Je.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(ot,t),r(at,t),r(it,t),r(ct,t),r(ft,t),r(pt,t),r(It,t),r(dt,t)}));et(Lt);var Ht=tt((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0,t.MarkdownUtil=nt,Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return jt.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return jt.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return jt.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return jt.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return jt.ToolbarButtonGroup}}),Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return At.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return At.MdeFontAwesomeIcon}}),Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return _t.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return _t.getDefaultToolbarCommands}}),t.default=jt.ReactMde})),Bt=et(Ht);Ht.getDefaultToolbarCommands,Ht.getDefaultCommandMap,Ht.MdeFontAwesomeIcon,Ht.SvgIcon,Ht.MarkdownUtil,Ht.ToolbarButtonGroup,Ht.Toolbar,Ht.Preview,Ht.SuggestionsDropdown,Ht.TextArea;var Nt=function(n){var o=m(t("write"),2),a=o[0],c=o[1],s=r(n).input,l=s.value,d=s.onChange;return e.createElement(i,{fullWidth:!0,className:"ra-input-mde"},e.createElement(Bt,f({value:l,onChange:function(e){return d(e)},onTabChange:function(e){return c(e)},generateMarkdownPreview:function(){var t=u(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.createElement(Ze,null,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),selectedTab:a},n)))};Nt.defaultProps={addLabel:!0};var Dt=function(e,t){var n=o(),r=a();return function(){var o=u(regeneratorRuntime.mark((function o(a){var i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!a){o.next=9;break}return o.next=3,n.getList(e,{pagination:{page:1,perPage:5},filter:{q:a}});case 3:if(!((i=o.sent).total>0)){o.next=8;break}return o.abrupt("return",i.data.map((function(n){return{preview:n[t],value:"[".concat(n[t],"](/").concat(e,"/").concat(encodeURIComponent(n.id),"/show)")}})));case 8:return o.abrupt("return",[{preview:r("ra.navigation.no_results"),value:"["+a}]);case 9:return o.abrupt("return",[{preview:r("ra.action.search"),value:"["+a}]);case 10:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()};export{Qe as MarkdownField,Nt as MarkdownInput,Dt as useLoadLinks};
//# sourceMappingURL=index.es.js.map
